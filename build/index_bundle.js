/*! For license information please see index_bundle.js.LICENSE.txt */
(()=>{var t,e,n,r,i={743:(t,e,n)=>{"use strict";n.d(e,{FA:()=>v,Fy:()=>h,Ku:()=>b,T9:()=>c,Uj:()=>o,ZQ:()=>d,bD:()=>w,cY:()=>u,eX:()=>g,g:()=>m,nr:()=>f,yU:()=>l,zW:()=>p});const r=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let e=0;e<t.length;e+=3){const i=t[e],s=e+1<t.length,o=s?t[e+1]:0,a=e+2<t.length,l=a?t[e+2]:0,c=i>>2,u=(3&i)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(r(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let e=0;e<t.length;){const i=n[t.charAt(e++)],o=e<t.length?n[t.charAt(e)]:0;++e;const a=e<t.length?n[t.charAt(e)]:64;++e;const l=e<t.length?n[t.charAt(e)]:64;if(++e,null==i||null==o||null==a||null==l)throw new s;const c=i<<2|o>>4;if(r.push(c),64!==a){const t=o<<4&240|a>>2;if(r.push(t),64!==l){const t=a<<6&192|l;r.push(t)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class s extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o=function(t){return function(t){const e=r(t);return i.encodeByteArray(e,!0)}(t).replace(/\./g,"")},a=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"==typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}const e=t&&function(t){try{return i.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null}(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},l=t=>{const e=(t=>{var e,n;return null===(n=null===(e=a())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},c=()=>{var t;return null===(t=a())||void 0===t?void 0:t.config};class u{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"==typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,n))}}}function h(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[o(JSON.stringify({alg:"none",type:"JWT"})),o(JSON.stringify(s)),""].join(".")}function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function f(){return!function(){var t;const e=null===(t=a())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(t){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function p(){try{return"object"==typeof indexedDB}catch(t){return!1}}function g(){return new Promise(((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}}))}class m extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,m.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,v.prototype.create)}}class v{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},r=`${this.service}/${t}`,i=this.errors[t],s=i?function(t,e){return t.replace(y,((t,n)=>{const r=e[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",o=`${this.serviceName}: ${s} (${r}).`;return new m(r,o,n)}}const y=/\{\$([^}]+)}/g;function w(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const n=t[i],s=e[i];if(_(n)&&_(s)){if(!w(n,s))return!1}else if(n!==s)return!1}for(const t of r)if(!n.includes(t))return!1;return!0}function _(t){return null!==t&&"object"==typeof t}function b(t){return t&&t._delegate?t._delegate:t}},413:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=n.p+"videos/bannerVideo.mp4"},956:(t,e,n)=>{"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,{u:()=>cn});var i,s,o,a,l,c,u,h,d,f,p,g,m,v=function(){return i||"undefined"!=typeof window&&(i=window.gsap)&&i.registerPlugin&&i},y=1,w=[],_=[],b=[],T=Date.now,E=function(t,e){return e},C=function(t,e){return~b.indexOf(t)&&b[b.indexOf(t)+1][e]},S=function(t){return!!~f.indexOf(t)},x=function(t,e,n,r,i){return t.addEventListener(e,n,{passive:!1!==r,capture:!!i})},I=function(t,e,n,r){return t.removeEventListener(e,n,!!r)},A="scrollLeft",k="scrollTop",M=function(){return p&&p.isPressed||_.cache++},D=function(t,e){var n=function n(r){if(r||0===r){y&&(o.history.scrollRestoration="manual");var i=p&&p.isPressed;r=n.v=Math.round(r)||(p&&p.iOS?1:0),t(r),n.cacheID=_.cache,i&&E("ss",r)}else(e||_.cache!==n.cacheID||E("ref"))&&(n.cacheID=_.cache,n.v=t());return n.v+n.offset};return n.offset=0,t&&n},P={s:A,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:D((function(t){return arguments.length?o.scrollTo(t,O.sc()):o.pageXOffset||a[A]||l[A]||c[A]||0}))},O={s:k,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:P,sc:D((function(t){return arguments.length?o.scrollTo(P.sc(),t):o.pageYOffset||a[k]||l[k]||c[k]||0}))},N=function(t,e){return(e&&e._ctx&&e._ctx.selector||i.utils.toArray)(t)[0]||("string"==typeof t&&!1!==i.config().nullTargetWarn?console.warn("Element not found:",t):null)},L=function(t,e){var n=e.s,r=e.sc;S(t)&&(t=a.scrollingElement||l);var s=_.indexOf(t),o=r===O.sc?1:2;!~s&&(s=_.push(t)-1),_[s+o]||x(t,"scroll",M);var c=_[s+o],u=c||(_[s+o]=D(C(t,n),!0)||(S(t)?r:D((function(e){return arguments.length?t[n]=e:t[n]}))));return u.target=t,c||(u.smooth="smooth"===i.getProperty(t,"scrollBehavior")),u},R=function(t,e,n){var r=t,i=t,s=T(),o=s,a=e||50,l=Math.max(500,3*a),c=function(t,e){var l=T();e||l-s>a?(i=r,r=t,o=s,s=l):n?r+=t:r=i+(t-i)/(l-o)*(s-o)};return{update:c,reset:function(){i=r=n?0:r,o=s=0},getVelocity:function(t){var e=o,a=i,u=T();return(t||0===t)&&t!==r&&c(t),s===o||u-o>l?0:(r+(n?a:-a))/((n?u:s)-e)*1e3}}},F=function(t,e){return e&&!t._gsapAllow&&t.preventDefault(),t.changedTouches?t.changedTouches[0]:t},V=function(t){var e=Math.max.apply(Math,t),n=Math.min.apply(Math,t);return Math.abs(e)>=Math.abs(n)?e:n},B=function(){var t,e,n,r;(d=i.core.globals().ScrollTrigger)&&d.core&&(t=d.core,e=t.bridge||{},n=t._scrollers,r=t._proxies,n.push.apply(n,_),r.push.apply(r,b),_=n,b=r,E=function(t,n){return e[t](n)})},z=function(t){return i=t||v(),!s&&i&&"undefined"!=typeof document&&document.body&&(o=window,a=document,l=a.documentElement,c=a.body,f=[o,a,l,c],i.utils.clamp,m=i.core.context||function(){},h="onpointerenter"in c?"pointer":"mouse",u=U.isTouch=o.matchMedia&&o.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in o||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,g=U.eventTypes=("ontouchstart"in l?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in l?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout((function(){return y=0}),500),B(),s=1),s};P.op=O,_.cache=0;var U=function(){function t(t){this.init(t)}var e,n;return t.prototype.init=function(t){s||z(i)||console.warn("Please gsap.registerPlugin(Observer)"),d||B();var e=t.tolerance,n=t.dragMinimum,r=t.type,f=t.target,v=t.lineHeight,y=t.debounce,_=t.preventDefault,b=t.onStop,E=t.onStopDelay,C=t.ignore,A=t.wheelSpeed,k=t.event,D=t.onDragStart,U=t.onDragEnd,q=t.onDrag,j=t.onPress,G=t.onRelease,$=t.onRight,H=t.onLeft,K=t.onUp,W=t.onDown,Y=t.onChangeX,X=t.onChangeY,Q=t.onChange,J=t.onToggleX,Z=t.onToggleY,tt=t.onHover,et=t.onHoverEnd,nt=t.onMove,rt=t.ignoreCheck,it=t.isNormalizer,st=t.onGestureStart,ot=t.onGestureEnd,at=t.onWheel,lt=t.onEnable,ct=t.onDisable,ut=t.onClick,ht=t.scrollSpeed,dt=t.capture,ft=t.allowClicks,pt=t.lockAxis,gt=t.onLockAxis;this.target=f=N(f)||l,this.vars=t,C&&(C=i.utils.toArray(C)),e=e||1e-9,n=n||0,A=A||1,ht=ht||1,r=r||"wheel,touch,pointer",y=!1!==y,v||(v=parseFloat(o.getComputedStyle(c).lineHeight)||22);var mt,vt,yt,wt,_t,bt,Tt,Et=this,Ct=0,St=0,xt=t.passive||!_,It=L(f,P),At=L(f,O),kt=It(),Mt=At(),Dt=~r.indexOf("touch")&&!~r.indexOf("pointer")&&"pointerdown"===g[0],Pt=S(f),Ot=f.ownerDocument||a,Nt=[0,0,0],Lt=[0,0,0],Rt=0,Ft=function(){return Rt=T()},Vt=function(t,e){return(Et.event=t)&&C&&~C.indexOf(t.target)||e&&Dt&&"touch"!==t.pointerType||rt&&rt(t,e)},Bt=function(){var t=Et.deltaX=V(Nt),n=Et.deltaY=V(Lt),r=Math.abs(t)>=e,i=Math.abs(n)>=e;Q&&(r||i)&&Q(Et,t,n,Nt,Lt),r&&($&&Et.deltaX>0&&$(Et),H&&Et.deltaX<0&&H(Et),Y&&Y(Et),J&&Et.deltaX<0!=Ct<0&&J(Et),Ct=Et.deltaX,Nt[0]=Nt[1]=Nt[2]=0),i&&(W&&Et.deltaY>0&&W(Et),K&&Et.deltaY<0&&K(Et),X&&X(Et),Z&&Et.deltaY<0!=St<0&&Z(Et),St=Et.deltaY,Lt[0]=Lt[1]=Lt[2]=0),(wt||yt)&&(nt&&nt(Et),yt&&(q(Et),yt=!1),wt=!1),bt&&!(bt=!1)&&gt&&gt(Et),_t&&(at(Et),_t=!1),mt=0},zt=function(t,e,n){Nt[n]+=t,Lt[n]+=e,Et._vx.update(t),Et._vy.update(e),y?mt||(mt=requestAnimationFrame(Bt)):Bt()},Ut=function(t,e){pt&&!Tt&&(Et.axis=Tt=Math.abs(t)>Math.abs(e)?"x":"y",bt=!0),"y"!==Tt&&(Nt[2]+=t,Et._vx.update(t,!0)),"x"!==Tt&&(Lt[2]+=e,Et._vy.update(e,!0)),y?mt||(mt=requestAnimationFrame(Bt)):Bt()},qt=function(t){if(!Vt(t,1)){var e=(t=F(t,_)).clientX,r=t.clientY,i=e-Et.x,s=r-Et.y,o=Et.isDragging;Et.x=e,Et.y=r,(o||Math.abs(Et.startX-e)>=n||Math.abs(Et.startY-r)>=n)&&(q&&(yt=!0),o||(Et.isDragging=!0),Ut(i,s),o||D&&D(Et))}},jt=Et.onPress=function(t){Vt(t,1)||t&&t.button||(Et.axis=Tt=null,vt.pause(),Et.isPressed=!0,t=F(t),Ct=St=0,Et.startX=Et.x=t.clientX,Et.startY=Et.y=t.clientY,Et._vx.reset(),Et._vy.reset(),x(it?f:Ot,g[1],qt,xt,!0),Et.deltaX=Et.deltaY=0,j&&j(Et))},Gt=Et.onRelease=function(t){if(!Vt(t,1)){I(it?f:Ot,g[1],qt,!0);var e=!isNaN(Et.y-Et.startY),n=Et.isDragging,r=n&&(Math.abs(Et.x-Et.startX)>3||Math.abs(Et.y-Et.startY)>3),s=F(t);!r&&e&&(Et._vx.reset(),Et._vy.reset(),_&&ft&&i.delayedCall(.08,(function(){if(T()-Rt>300&&!t.defaultPrevented)if(t.target.click)t.target.click();else if(Ot.createEvent){var e=Ot.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,o,1,s.screenX,s.screenY,s.clientX,s.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(e)}}))),Et.isDragging=Et.isGesturing=Et.isPressed=!1,b&&n&&!it&&vt.restart(!0),U&&n&&U(Et),G&&G(Et,r)}},$t=function(t){return t.touches&&t.touches.length>1&&(Et.isGesturing=!0)&&st(t,Et.isDragging)},Ht=function(){return(Et.isGesturing=!1)||ot(Et)},Kt=function(t){if(!Vt(t)){var e=It(),n=At();zt((e-kt)*ht,(n-Mt)*ht,1),kt=e,Mt=n,b&&vt.restart(!0)}},Wt=function(t){if(!Vt(t)){t=F(t,_),at&&(_t=!0);var e=(1===t.deltaMode?v:2===t.deltaMode?o.innerHeight:1)*A;zt(t.deltaX*e,t.deltaY*e,0),b&&!it&&vt.restart(!0)}},Yt=function(t){if(!Vt(t)){var e=t.clientX,n=t.clientY,r=e-Et.x,i=n-Et.y;Et.x=e,Et.y=n,wt=!0,b&&vt.restart(!0),(r||i)&&Ut(r,i)}},Xt=function(t){Et.event=t,tt(Et)},Qt=function(t){Et.event=t,et(Et)},Jt=function(t){return Vt(t)||F(t,_)&&ut(Et)};vt=Et._dc=i.delayedCall(E||.25,(function(){Et._vx.reset(),Et._vy.reset(),vt.pause(),b&&b(Et)})).pause(),Et.deltaX=Et.deltaY=0,Et._vx=R(0,50,!0),Et._vy=R(0,50,!0),Et.scrollX=It,Et.scrollY=At,Et.isDragging=Et.isGesturing=Et.isPressed=!1,m(this),Et.enable=function(t){return Et.isEnabled||(x(Pt?Ot:f,"scroll",M),r.indexOf("scroll")>=0&&x(Pt?Ot:f,"scroll",Kt,xt,dt),r.indexOf("wheel")>=0&&x(f,"wheel",Wt,xt,dt),(r.indexOf("touch")>=0&&u||r.indexOf("pointer")>=0)&&(x(f,g[0],jt,xt,dt),x(Ot,g[2],Gt),x(Ot,g[3],Gt),ft&&x(f,"click",Ft,!0,!0),ut&&x(f,"click",Jt),st&&x(Ot,"gesturestart",$t),ot&&x(Ot,"gestureend",Ht),tt&&x(f,h+"enter",Xt),et&&x(f,h+"leave",Qt),nt&&x(f,h+"move",Yt)),Et.isEnabled=!0,t&&t.type&&jt(t),lt&&lt(Et)),Et},Et.disable=function(){Et.isEnabled&&(w.filter((function(t){return t!==Et&&S(t.target)})).length||I(Pt?Ot:f,"scroll",M),Et.isPressed&&(Et._vx.reset(),Et._vy.reset(),I(it?f:Ot,g[1],qt,!0)),I(Pt?Ot:f,"scroll",Kt,dt),I(f,"wheel",Wt,dt),I(f,g[0],jt,dt),I(Ot,g[2],Gt),I(Ot,g[3],Gt),I(f,"click",Ft,!0),I(f,"click",Jt),I(Ot,"gesturestart",$t),I(Ot,"gestureend",Ht),I(f,h+"enter",Xt),I(f,h+"leave",Qt),I(f,h+"move",Yt),Et.isEnabled=Et.isPressed=Et.isDragging=!1,ct&&ct(Et))},Et.kill=Et.revert=function(){Et.disable();var t=w.indexOf(Et);t>=0&&w.splice(t,1),p===Et&&(p=0)},w.push(Et),it&&S(f)&&(p=Et),Et.enable(k)},e=t,(n=[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}])&&r(e.prototype,n),t}();U.version="3.12.5",U.create=function(t){return new U(t)},U.register=z,U.getAll=function(){return w.slice()},U.getById=function(t){return w.filter((function(e){return e.vars.id===t}))[0]},v()&&i.registerPlugin(U);var q,j,G,$,H,K,W,Y,X,Q,J,Z,tt,et,nt,rt,it,st,ot,at,lt,ct,ut,ht,dt,ft,pt,gt,mt,vt,yt,wt,_t,bt,Tt,Et,Ct,St,xt=1,It=Date.now,At=It(),kt=0,Mt=0,Dt=function(t,e,n){var r=$t(t)&&("clamp("===t.substr(0,6)||t.indexOf("max")>-1);return n["_"+e+"Clamp"]=r,r?t.substr(6,t.length-7):t},Pt=function(t,e){return!e||$t(t)&&"clamp("===t.substr(0,6)?t:"clamp("+t+")"},Ot=function t(){return Mt&&requestAnimationFrame(t)},Nt=function(){return et=1},Lt=function(){return et=0},Rt=function(t){return t},Ft=function(t){return Math.round(1e5*t)/1e5||0},Vt=function(){return"undefined"!=typeof window},Bt=function(){return q||Vt()&&(q=window.gsap)&&q.registerPlugin&&q},zt=function(t){return!!~W.indexOf(t)},Ut=function(t){return("Height"===t?yt:G["inner"+t])||H["client"+t]||K["client"+t]},qt=function(t){return C(t,"getBoundingClientRect")||(zt(t)?function(){return en.width=G.innerWidth,en.height=yt,en}:function(){return pe(t)})},jt=function(t,e){var n=e.s,r=e.d2,i=e.d,s=e.a;return Math.max(0,(n="scroll"+r)&&(s=C(t,n))?s()-qt(t)()[i]:zt(t)?(H[n]||K[n])-Ut(r):t[n]-t["offset"+r])},Gt=function(t,e){for(var n=0;n<ot.length;n+=3)(!e||~e.indexOf(ot[n+1]))&&t(ot[n],ot[n+1],ot[n+2])},$t=function(t){return"string"==typeof t},Ht=function(t){return"function"==typeof t},Kt=function(t){return"number"==typeof t},Wt=function(t){return"object"==typeof t},Yt=function(t,e,n){return t&&t.progress(e?0:1)&&n&&t.pause()},Xt=function(t,e){if(t.enabled){var n=t._ctx?t._ctx.add((function(){return e(t)})):e(t);n&&n.totalTime&&(t.callbackAnimation=n)}},Qt=Math.abs,Jt="left",Zt="right",te="bottom",ee="width",ne="height",re="Right",ie="Left",se="Top",oe="Bottom",ae="padding",le="margin",ce="Width",ue="Height",he="px",de=function(t){return G.getComputedStyle(t)},fe=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},pe=function(t,e){var n=e&&"matrix(1, 0, 0, 1, 0, 0)"!==de(t)[nt]&&q.to(t,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=t.getBoundingClientRect();return n&&n.progress(0).kill(),r},ge=function(t,e){var n=e.d2;return t["offset"+n]||t["client"+n]||0},me=function(t){var e,n=[],r=t.labels,i=t.duration();for(e in r)n.push(r[e]/i);return n},ve=function(t){var e=q.utils.snap(t),n=Array.isArray(t)&&t.slice(0).sort((function(t,e){return t-e}));return n?function(t,r,i){var s;if(void 0===i&&(i=.001),!r)return e(t);if(r>0){for(t-=i,s=0;s<n.length;s++)if(n[s]>=t)return n[s];return n[s-1]}for(s=n.length,t+=i;s--;)if(n[s]<=t)return n[s];return n[0]}:function(n,r,i){void 0===i&&(i=.001);var s=e(n);return!r||Math.abs(s-n)<i||s-n<0==r<0?s:e(r<0?n-t:n+t)}},ye=function(t,e,n,r){return n.split(",").forEach((function(n){return t(e,n,r)}))},we=function(t,e,n,r,i){return t.addEventListener(e,n,{passive:!r,capture:!!i})},_e=function(t,e,n,r){return t.removeEventListener(e,n,!!r)},be=function(t,e,n){(n=n&&n.wheelHandler)&&(t(e,"wheel",n),t(e,"touchmove",n))},Te={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Ee={toggleActions:"play",anticipatePin:0},Ce={top:0,left:0,center:.5,bottom:1,right:1},Se=function(t,e){if($t(t)){var n=t.indexOf("="),r=~n?+(t.charAt(n-1)+1)*parseFloat(t.substr(n+1)):0;~n&&(t.indexOf("%")>n&&(r*=e/100),t=t.substr(0,n-1)),t=r+(t in Ce?Ce[t]*e:~t.indexOf("%")?parseFloat(t)*e/100:parseFloat(t)||0)}return t},xe=function(t,e,n,r,i,s,o,a){var l=i.startColor,c=i.endColor,u=i.fontSize,h=i.indent,d=i.fontWeight,f=$.createElement("div"),p=zt(n)||"fixed"===C(n,"pinType"),g=-1!==t.indexOf("scroller"),m=p?K:n,v=-1!==t.indexOf("start"),y=v?l:c,w="border-color:"+y+";font-size:"+u+";color:"+y+";font-weight:"+d+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return w+="position:"+((g||a)&&p?"fixed;":"absolute;"),(g||a||!p)&&(w+=(r===O?Zt:te)+":"+(s+parseFloat(h))+"px;"),o&&(w+="box-sizing:border-box;text-align:left;width:"+o.offsetWidth+"px;"),f._isStart=v,f.setAttribute("class","gsap-marker-"+t+(e?" marker-"+e:"")),f.style.cssText=w,f.innerText=e||0===e?t+"-"+e:t,m.children[0]?m.insertBefore(f,m.children[0]):m.appendChild(f),f._offset=f["offset"+r.op.d2],Ie(f,0,r,v),f},Ie=function(t,e,n,r){var i={display:"block"},s=n[r?"os2":"p2"],o=n[r?"p2":"os2"];t._isFlipped=r,i[n.a+"Percent"]=r?-100:0,i[n.a]=r?"1px":0,i["border"+s+ce]=1,i["border"+o+ce]=0,i[n.p]=e+"px",q.set(t,i)},Ae=[],ke={},Me=function(){return It()-kt>34&&(Tt||(Tt=requestAnimationFrame(We)))},De=function(){(!ut||!ut.isPressed||ut.startX>K.clientWidth)&&(_.cache++,ut?Tt||(Tt=requestAnimationFrame(We)):We(),kt||Fe("scrollStart"),kt=It())},Pe=function(){ft=G.innerWidth,dt=G.innerHeight},Oe=function(){_.cache++,!tt&&!ct&&!$.fullscreenElement&&!$.webkitFullscreenElement&&(!ht||ft!==G.innerWidth||Math.abs(G.innerHeight-dt)>.25*G.innerHeight)&&Y.restart(!0)},Ne={},Le=[],Re=function t(){return _e(cn,"scrollEnd",t)||$e(!0)},Fe=function(t){return Ne[t]&&Ne[t].map((function(t){return t()}))||Le},Ve=[],Be=function(t){for(var e=0;e<Ve.length;e+=5)(!t||Ve[e+4]&&Ve[e+4].query===t)&&(Ve[e].style.cssText=Ve[e+1],Ve[e].getBBox&&Ve[e].setAttribute("transform",Ve[e+2]||""),Ve[e+3].uncache=1)},ze=function(t,e){var n;for(rt=0;rt<Ae.length;rt++)!(n=Ae[rt])||e&&n._ctx!==e||(t?n.kill(1):n.revert(!0,!0));wt=!0,e&&Be(e),e||Fe("revert")},Ue=function(t,e){_.cache++,(e||!Et)&&_.forEach((function(t){return Ht(t)&&t.cacheID++&&(t.rec=0)})),$t(t)&&(G.history.scrollRestoration=mt=t)},qe=0,je=function(){K.appendChild(vt),yt=!ut&&vt.offsetHeight||G.innerHeight,K.removeChild(vt)},Ge=function(t){return X(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach((function(e){return e.style.display=t?"none":"block"}))},$e=function(t,e){if(!kt||t||wt){je(),Et=cn.isRefreshing=!0,_.forEach((function(t){return Ht(t)&&++t.cacheID&&(t.rec=t())}));var n=Fe("refreshInit");at&&cn.sort(),e||ze(),_.forEach((function(t){Ht(t)&&(t.smooth&&(t.target.style.scrollBehavior="auto"),t(0))})),Ae.slice(0).forEach((function(t){return t.refresh()})),wt=!1,Ae.forEach((function(t){if(t._subPinOffset&&t.pin){var e=t.vars.horizontal?"offsetWidth":"offsetHeight",n=t.pin[e];t.revert(!0,1),t.adjustPinSpacing(t.pin[e]-n),t.refresh()}})),_t=1,Ge(!0),Ae.forEach((function(t){var e=jt(t.scroller,t._dir),n="max"===t.vars.end||t._endClamp&&t.end>e,r=t._startClamp&&t.start>=e;(n||r)&&t.setPositions(r?e-1:t.start,n?Math.max(r?e:t.start+1,e):t.end,!0)})),Ge(!1),_t=0,n.forEach((function(t){return t&&t.render&&t.render(-1)})),_.forEach((function(t){Ht(t)&&(t.smooth&&requestAnimationFrame((function(){return t.target.style.scrollBehavior="smooth"})),t.rec&&t(t.rec))})),Ue(mt,1),Y.pause(),qe++,Et=2,We(2),Ae.forEach((function(t){return Ht(t.vars.onRefresh)&&t.vars.onRefresh(t)})),Et=cn.isRefreshing=!1,Fe("refresh")}else we(cn,"scrollEnd",Re)},He=0,Ke=1,We=function(t){if(2===t||!Et&&!wt){cn.isUpdating=!0,St&&St.update(0);var e=Ae.length,n=It(),r=n-At>=50,i=e&&Ae[0].scroll();if(Ke=He>i?-1:1,Et||(He=i),r&&(kt&&!et&&n-kt>200&&(kt=0,Fe("scrollEnd")),J=At,At=n),Ke<0){for(rt=e;rt-- >0;)Ae[rt]&&Ae[rt].update(0,r);Ke=1}else for(rt=0;rt<e;rt++)Ae[rt]&&Ae[rt].update(0,r);cn.isUpdating=!1}Tt=0},Ye=[Jt,"top",te,Zt,le+oe,le+re,le+se,le+ie,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Xe=Ye.concat([ee,ne,"boxSizing","max"+ce,"max"+ue,"position",le,ae,ae+se,ae+re,ae+oe,ae+ie]),Qe=function(t,e,n,r){if(!t._gsap.swappedIn){for(var i,s=Ye.length,o=e.style,a=t.style;s--;)o[i=Ye[s]]=n[i];o.position="absolute"===n.position?"absolute":"relative","inline"===n.display&&(o.display="inline-block"),a[te]=a[Zt]="auto",o.flexBasis=n.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[ee]=ge(t,P)+he,o[ne]=ge(t,O)+he,o[ae]=a[le]=a.top=a[Jt]="0",Ze(r),a[ee]=a["max"+ce]=n[ee],a[ne]=a["max"+ue]=n[ne],a[ae]=n[ae],t.parentNode!==e&&(t.parentNode.insertBefore(e,t),e.appendChild(t)),t._gsap.swappedIn=!0}},Je=/([A-Z])/g,Ze=function(t){if(t){var e,n,r=t.t.style,i=t.length,s=0;for((t.t._gsap||q.core.getCache(t.t)).uncache=1;s<i;s+=2)n=t[s+1],e=t[s],n?r[e]=n:r[e]&&r.removeProperty(e.replace(Je,"-$1").toLowerCase())}},tn=function(t){for(var e=Xe.length,n=t.style,r=[],i=0;i<e;i++)r.push(Xe[i],n[Xe[i]]);return r.t=t,r},en={left:0,top:0},nn=function(t,e,n,r,i,s,o,a,l,c,u,h,d,f){Ht(t)&&(t=t(a)),$t(t)&&"max"===t.substr(0,3)&&(t=h+("="===t.charAt(4)?Se("0"+t.substr(3),n):0));var p,g,m,v=d?d.time():0;if(d&&d.seek(0),isNaN(t)||(t=+t),Kt(t))d&&(t=q.utils.mapRange(d.scrollTrigger.start,d.scrollTrigger.end,0,h,t)),o&&Ie(o,n,r,!0);else{Ht(e)&&(e=e(a));var y,w,_,b,T=(t||"0").split(" ");m=N(e,a)||K,(y=pe(m)||{})&&(y.left||y.top)||"none"!==de(m).display||(b=m.style.display,m.style.display="block",y=pe(m),b?m.style.display=b:m.style.removeProperty("display")),w=Se(T[0],y[r.d]),_=Se(T[1]||"0",n),t=y[r.p]-l[r.p]-c+w+i-_,o&&Ie(o,_,r,n-_<20||o._isStart&&_>20),n-=n-_}if(f&&(a[f]=t||-.001,t<0&&(t=0)),s){var E=t+n,C=s._isStart;p="scroll"+r.d2,Ie(s,E,r,C&&E>20||!C&&(u?Math.max(K[p],H[p]):s.parentNode[p])<=E+1),u&&(l=pe(o),u&&(s.style[r.op.p]=l[r.op.p]-r.op.m-s._offset+he))}return d&&m&&(p=pe(m),d.seek(h),g=pe(m),d._caScrollDist=p[r.p]-g[r.p],t=t/d._caScrollDist*h),d&&d.seek(v),d?t:Math.round(t)},rn=/(webkit|moz|length|cssText|inset)/i,sn=function(t,e,n,r){if(t.parentNode!==e){var i,s,o=t.style;if(e===K){for(i in t._stOrig=o.cssText,s=de(t))+i||rn.test(i)||!s[i]||"string"!=typeof o[i]||"0"===i||(o[i]=s[i]);o.top=n,o.left=r}else o.cssText=t._stOrig;q.core.getCache(t).uncache=1,e.appendChild(t)}},on=function(t,e,n){var r=e,i=r;return function(e){var s=Math.round(t());return s!==r&&s!==i&&Math.abs(s-r)>3&&Math.abs(s-i)>3&&(e=s,n&&n()),i=r,r=e,e}},an=function(t,e,n){var r={};r[e.p]="+="+n,q.set(t,r)},ln=function(t,e){var n=L(t,e),r="_scroll"+e.p2,i=function e(i,s,o,a,l){var c=e.tween,u=s.onComplete,h={};o=o||n();var d=on(n,o,(function(){c.kill(),e.tween=0}));return l=a&&l||0,a=a||i-o,c&&c.kill(),s[r]=i,s.inherit=!1,s.modifiers=h,h[r]=function(){return d(o+a*c.ratio+l*c.ratio*c.ratio)},s.onUpdate=function(){_.cache++,e.tween&&We()},s.onComplete=function(){e.tween=0,u&&u.call(c)},c=e.tween=q.to(t,s)};return t[r]=n,n.wheelHandler=function(){return i.tween&&i.tween.kill()&&(i.tween=0)},we(t,"wheel",n.wheelHandler),cn.isTouch&&we(t,"touchmove",n.wheelHandler),i},cn=function(){function t(e,n){j||t.register(q)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),gt(this),this.init(e,n)}return t.prototype.init=function(e,n){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),Mt){var r,i,s,o,a,l,c,u,h,d,f,p,g,m,v,y,w,T,E,S,x,I,A,k,M,D,R,F,V,B,z,U,j,W,Y,Z,nt,it,st,ot,ct,ut,ht=e=fe($t(e)||Kt(e)||e.nodeType?{trigger:e}:e,Ee),dt=ht.onUpdate,ft=ht.toggleClass,pt=ht.id,gt=ht.onToggle,mt=ht.onRefresh,vt=ht.scrub,yt=ht.trigger,wt=ht.pin,Tt=ht.pinSpacing,At=ht.invalidateOnRefresh,Ot=ht.anticipatePin,Nt=ht.onScrubComplete,Lt=ht.onSnapComplete,Vt=ht.once,Bt=ht.snap,Gt=ht.pinReparent,Jt=ht.pinSpacer,Zt=ht.containerAnimation,te=ht.fastScrollEnd,ye=ht.preventOverlaps,be=e.horizontal||e.containerAnimation&&!1!==e.horizontal?P:O,Ce=!vt&&0!==vt,Ie=N(e.scroller||G),Me=q.core.getCache(Ie),Pe=zt(Ie),Ne="fixed"===("pinType"in e?e.pinType:C(Ie,"pinType")||Pe&&"fixed"),Le=[e.onEnter,e.onLeave,e.onEnterBack,e.onLeaveBack],Fe=Ce&&e.toggleActions.split(" "),Ve="markers"in e?e.markers:Ee.markers,Be=Pe?0:parseFloat(de(Ie)["border"+be.p2+ce])||0,ze=this,Ue=e.onRefreshInit&&function(){return e.onRefreshInit(ze)},je=function(t,e,n){var r=n.d,i=n.d2,s=n.a;return(s=C(t,"getBoundingClientRect"))?function(){return s()[r]}:function(){return(e?Ut(i):t["client"+i])||0}}(Ie,Pe,be),Ge=function(t,e){return!e||~b.indexOf(t)?qt(t):function(){return en}}(Ie,Pe),He=0,We=0,Ye=0,Xe=L(Ie,be);if(ze._startClamp=ze._endClamp=!1,ze._dir=be,Ot*=45,ze.scroller=Ie,ze.scroll=Zt?Zt.time.bind(Zt):Xe,o=Xe(),ze.vars=e,n=n||e.animation,"refreshPriority"in e&&(at=1,-9999===e.refreshPriority&&(St=ze)),Me.tweenScroll=Me.tweenScroll||{top:ln(Ie,O),left:ln(Ie,P)},ze.tweenTo=r=Me.tweenScroll[be.p],ze.scrubDuration=function(t){(j=Kt(t)&&t)?U?U.duration(t):U=q.to(n,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:j,paused:!0,onComplete:function(){return Nt&&Nt(ze)}}):(U&&U.progress(1).kill(),U=0)},n&&(n.vars.lazy=!1,n._initted&&!ze.isReverted||!1!==n.vars.immediateRender&&!1!==e.immediateRender&&n.duration()&&n.render(0,!0,!0),ze.animation=n.pause(),n.scrollTrigger=ze,ze.scrubDuration(vt),B=0,pt||(pt=n.vars.id)),Bt&&(Wt(Bt)&&!Bt.push||(Bt={snapTo:Bt}),"scrollBehavior"in K.style&&q.set(Pe?[K,H]:Ie,{scrollBehavior:"auto"}),_.forEach((function(t){return Ht(t)&&t.target===(Pe?$.scrollingElement||H:Ie)&&(t.smooth=!1)})),s=Ht(Bt.snapTo)?Bt.snapTo:"labels"===Bt.snapTo?function(t){return function(e){return q.utils.snap(me(t),e)}}(n):"labelsDirectional"===Bt.snapTo?(ot=n,function(t,e){return ve(me(ot))(t,e.direction)}):!1!==Bt.directional?function(t,e){return ve(Bt.snapTo)(t,It()-We<500?0:e.direction)}:q.utils.snap(Bt.snapTo),W=Bt.duration||{min:.1,max:2},W=Wt(W)?Q(W.min,W.max):Q(W,W),Y=q.delayedCall(Bt.delay||j/2||.1,(function(){var t=Xe(),e=It()-We<500,i=r.tween;if(!(e||Math.abs(ze.getVelocity())<10)||i||et||He===t)ze.isActive&&He!==t&&Y.restart(!0);else{var o,a,u=(t-l)/m,h=n&&!Ce?n.totalProgress():u,d=e?0:(h-z)/(It()-J)*1e3||0,f=q.utils.clamp(-u,1-u,Qt(d/2)*d/.185),p=u+(!1===Bt.inertia?0:f),g=Bt,v=g.onStart,y=g.onInterrupt,w=g.onComplete;if(o=s(p,ze),Kt(o)||(o=p),a=Math.round(l+o*m),t<=c&&t>=l&&a!==t){if(i&&!i._initted&&i.data<=Qt(a-t))return;!1===Bt.inertia&&(f=o-u),r(a,{duration:W(Qt(.185*Math.max(Qt(p-h),Qt(o-h))/d/.05||0)),ease:Bt.ease||"power3",data:Qt(a-t),onInterrupt:function(){return Y.restart(!0)&&y&&y(ze)},onComplete:function(){ze.update(),He=Xe(),n&&(U?U.resetTo("totalProgress",o,n._tTime/n._tDur):n.progress(o)),B=z=n&&!Ce?n.totalProgress():ze.progress,Lt&&Lt(ze),w&&w(ze)}},t,f*m,a-t-f*m),v&&v(ze,r.tween)}}})).pause()),pt&&(ke[pt]=ze),(st=(yt=ze.trigger=N(yt||!0!==wt&&wt))&&yt._gsap&&yt._gsap.stRevert)&&(st=st(ze)),wt=!0===wt?yt:N(wt),$t(ft)&&(ft={targets:yt,className:ft}),wt&&(!1===Tt||Tt===le||(Tt=!(!Tt&&wt.parentNode&&wt.parentNode.style&&"flex"===de(wt.parentNode).display)&&ae),ze.pin=wt,(i=q.core.getCache(wt)).spacer?v=i.pinState:(Jt&&((Jt=N(Jt))&&!Jt.nodeType&&(Jt=Jt.current||Jt.nativeElement),i.spacerIsNative=!!Jt,Jt&&(i.spacerState=tn(Jt))),i.spacer=T=Jt||$.createElement("div"),T.classList.add("pin-spacer"),pt&&T.classList.add("pin-spacer-"+pt),i.pinState=v=tn(wt)),!1!==e.force3D&&q.set(wt,{force3D:!0}),ze.spacer=T=i.spacer,V=de(wt),k=V[Tt+be.os2],S=q.getProperty(wt),x=q.quickSetter(wt,be.a,he),Qe(wt,T,V),w=tn(wt)),Ve){p=Wt(Ve)?fe(Ve,Te):Te,d=xe("scroller-start",pt,Ie,be,p,0),f=xe("scroller-end",pt,Ie,be,p,0,d),E=d["offset"+be.op.d2];var Je=N(C(Ie,"content")||Ie);u=this.markerStart=xe("start",pt,Je,be,p,E,0,Zt),h=this.markerEnd=xe("end",pt,Je,be,p,E,0,Zt),Zt&&(it=q.quickSetter([u,h],be.a,he)),Ne||b.length&&!0===C(Ie,"fixedMarkers")||(ut=de(ct=Pe?K:Ie).position,ct.style.position="absolute"===ut||"fixed"===ut?ut:"relative",q.set([d,f],{force3D:!0}),D=q.quickSetter(d,be.a,he),F=q.quickSetter(f,be.a,he))}if(Zt){var rn=Zt.vars.onUpdate,on=Zt.vars.onUpdateParams;Zt.eventCallback("onUpdate",(function(){ze.update(0,0,1),rn&&rn.apply(Zt,on||[])}))}if(ze.previous=function(){return Ae[Ae.indexOf(ze)-1]},ze.next=function(){return Ae[Ae.indexOf(ze)+1]},ze.revert=function(t,e){if(!e)return ze.kill(!0);var r=!1!==t||!ze.enabled,i=tt;r!==ze.isReverted&&(r&&(Z=Math.max(Xe(),ze.scroll.rec||0),Ye=ze.progress,nt=n&&n.progress()),u&&[u,h,d,f].forEach((function(t){return t.style.display=r?"none":"block"})),r&&(tt=ze,ze.update(r)),!wt||Gt&&ze.isActive||(r?function(t,e,n){Ze(n);var r=t._gsap;if(r.spacerIsNative)Ze(r.spacerState);else if(t._gsap.swappedIn){var i=e.parentNode;i&&(i.insertBefore(t,e),i.removeChild(e))}t._gsap.swappedIn=!1}(wt,T,v):Qe(wt,T,de(wt),M)),r||ze.update(r),tt=i,ze.isReverted=r)},ze.refresh=function(i,s,p,_){if(!tt&&ze.enabled||s)if(wt&&i&&kt)we(t,"scrollEnd",Re);else{!Et&&Ue&&Ue(ze),tt=ze,r.tween&&!p&&(r.tween.kill(),r.tween=0),U&&U.pause(),At&&n&&n.revert({kill:!1}).invalidate(),ze.isReverted||ze.revert(!0,!0),ze._subPinOffset=!1;var b,E,C,x,k,D,F,V,B,z,j,G,W,X=je(),Q=Ge(),J=Zt?Zt.duration():jt(Ie,be),et=m<=.01,rt=0,it=_||0,st=Wt(p)?p.end:e.end,ot=e.endTrigger||yt,at=Wt(p)?p.start:e.start||(0!==e.start&&yt?wt?"0 0":"0 100%":0),ct=ze.pinnedContainer=e.pinnedContainer&&N(e.pinnedContainer,ze),ut=yt&&Math.max(0,Ae.indexOf(ze))||0,ht=ut;for(Ve&&Wt(p)&&(G=q.getProperty(d,be.p),W=q.getProperty(f,be.p));ht--;)(D=Ae[ht]).end||D.refresh(0,1)||(tt=ze),!(F=D.pin)||F!==yt&&F!==wt&&F!==ct||D.isReverted||(z||(z=[]),z.unshift(D),D.revert(!0,!0)),D!==Ae[ht]&&(ut--,ht--);for(Ht(at)&&(at=at(ze)),at=Dt(at,"start",ze),l=nn(at,yt,X,be,Xe(),u,d,ze,Q,Be,Ne,J,Zt,ze._startClamp&&"_startClamp")||(wt?-.001:0),Ht(st)&&(st=st(ze)),$t(st)&&!st.indexOf("+=")&&(~st.indexOf(" ")?st=($t(at)?at.split(" ")[0]:"")+st:(rt=Se(st.substr(2),X),st=$t(at)?at:(Zt?q.utils.mapRange(0,Zt.duration(),Zt.scrollTrigger.start,Zt.scrollTrigger.end,l):l)+rt,ot=yt)),st=Dt(st,"end",ze),c=Math.max(l,nn(st||(ot?"100% 0":J),ot,X,be,Xe()+rt,h,f,ze,Q,Be,Ne,J,Zt,ze._endClamp&&"_endClamp"))||-.001,rt=0,ht=ut;ht--;)(F=(D=Ae[ht]).pin)&&D.start-D._pinPush<=l&&!Zt&&D.end>0&&(b=D.end-(ze._startClamp?Math.max(0,D.start):D.start),(F===yt&&D.start-D._pinPush<l||F===ct)&&isNaN(at)&&(rt+=b*(1-D.progress)),F===wt&&(it+=b));if(l+=rt,c+=rt,ze._startClamp&&(ze._startClamp+=rt),ze._endClamp&&!Et&&(ze._endClamp=c||-.001,c=Math.min(c,jt(Ie,be))),m=c-l||(l-=.01)&&.001,et&&(Ye=q.utils.clamp(0,1,q.utils.normalize(l,c,Z))),ze._pinPush=it,u&&rt&&((b={})[be.a]="+="+rt,ct&&(b[be.p]="-="+Xe()),q.set([u,h],b)),!wt||_t&&ze.end>=jt(Ie,be)){if(yt&&Xe()&&!Zt)for(E=yt.parentNode;E&&E!==K;)E._pinOffset&&(l-=E._pinOffset,c-=E._pinOffset),E=E.parentNode}else b=de(wt),x=be===O,C=Xe(),I=parseFloat(S(be.a))+it,!J&&c>1&&(j={style:j=(Pe?$.scrollingElement||H:Ie).style,value:j["overflow"+be.a.toUpperCase()]},Pe&&"scroll"!==de(K)["overflow"+be.a.toUpperCase()]&&(j.style["overflow"+be.a.toUpperCase()]="scroll")),Qe(wt,T,b),w=tn(wt),E=pe(wt,!0),V=Ne&&L(Ie,x?P:O)(),Tt?((M=[Tt+be.os2,m+it+he]).t=T,(ht=Tt===ae?ge(wt,be)+m+it:0)&&(M.push(be.d,ht+he),"auto"!==T.style.flexBasis&&(T.style.flexBasis=ht+he)),Ze(M),ct&&Ae.forEach((function(t){t.pin===ct&&!1!==t.vars.pinSpacing&&(t._subPinOffset=!0)})),Ne&&Xe(Z)):(ht=ge(wt,be))&&"auto"!==T.style.flexBasis&&(T.style.flexBasis=ht+he),Ne&&((k={top:E.top+(x?C-l:V)+he,left:E.left+(x?V:C-l)+he,boxSizing:"border-box",position:"fixed"})[ee]=k["max"+ce]=Math.ceil(E.width)+he,k[ne]=k["max"+ue]=Math.ceil(E.height)+he,k[le]=k[le+se]=k[le+re]=k[le+oe]=k[le+ie]="0",k[ae]=b[ae],k[ae+se]=b[ae+se],k[ae+re]=b[ae+re],k[ae+oe]=b[ae+oe],k[ae+ie]=b[ae+ie],y=function(t,e,n){for(var r,i=[],s=t.length,o=n?8:0;o<s;o+=2)r=t[o],i.push(r,r in e?e[r]:t[o+1]);return i.t=t.t,i}(v,k,Gt),Et&&Xe(0)),n?(B=n._initted,lt(1),n.render(n.duration(),!0,!0),A=S(be.a)-I+m+it,R=Math.abs(m-A)>1,Ne&&R&&y.splice(y.length-2,2),n.render(0,!0,!0),B||n.invalidate(!0),n.parent||n.totalTime(n.totalTime()),lt(0)):A=m,j&&(j.value?j.style["overflow"+be.a.toUpperCase()]=j.value:j.style.removeProperty("overflow-"+be.a));z&&z.forEach((function(t){return t.revert(!1,!0)})),ze.start=l,ze.end=c,o=a=Et?Z:Xe(),Zt||Et||(o<Z&&Xe(Z),ze.scroll.rec=0),ze.revert(!1,!0),We=It(),Y&&(He=-1,Y.restart(!0)),tt=0,n&&Ce&&(n._initted||nt)&&n.progress()!==nt&&n.progress(nt||0,!0).render(n.time(),!0,!0),(et||Ye!==ze.progress||Zt||At)&&(n&&!Ce&&n.totalProgress(Zt&&l<-.001&&!Ye?q.utils.normalize(l,c,0):Ye,!0),ze.progress=et||(o-l)/m===Ye?0:Ye),wt&&Tt&&(T._pinOffset=Math.round(ze.progress*A)),U&&U.invalidate(),isNaN(G)||(G-=q.getProperty(d,be.p),W-=q.getProperty(f,be.p),an(d,be,G),an(u,be,G-(_||0)),an(f,be,W),an(h,be,W-(_||0))),et&&!Et&&ze.update(),!mt||Et||g||(g=!0,mt(ze),g=!1)}},ze.getVelocity=function(){return(Xe()-a)/(It()-J)*1e3||0},ze.endAnimation=function(){Yt(ze.callbackAnimation),n&&(U?U.progress(1):n.paused()?Ce||Yt(n,ze.direction<0,1):Yt(n,n.reversed()))},ze.labelToScroll=function(t){return n&&n.labels&&(l||ze.refresh()||l)+n.labels[t]/n.duration()*m||0},ze.getTrailing=function(t){var e=Ae.indexOf(ze),n=ze.direction>0?Ae.slice(0,e).reverse():Ae.slice(e+1);return($t(t)?n.filter((function(e){return e.vars.preventOverlaps===t})):n).filter((function(t){return ze.direction>0?t.end<=l:t.start>=c}))},ze.update=function(t,e,i){if(!Zt||i||t){var s,u,h,f,p,g,v,_=!0===Et?Z:ze.scroll(),b=t?0:(_-l)/m,E=b<0?0:b>1?1:b||0,C=ze.progress;if(e&&(a=o,o=Zt?Xe():_,Bt&&(z=B,B=n&&!Ce?n.totalProgress():E)),Ot&&wt&&!tt&&!xt&&kt&&(!E&&l<_+(_-a)/(It()-J)*Ot?E=1e-4:1===E&&c>_+(_-a)/(It()-J)*Ot&&(E=.9999)),E!==C&&ze.enabled){if(f=(p=(s=ze.isActive=!!E&&E<1)!=(!!C&&C<1))||!!E!=!!C,ze.direction=E>C?1:-1,ze.progress=E,f&&!tt&&(u=E&&!C?0:1===E?1:1===C?2:3,Ce&&(h=!p&&"none"!==Fe[u+1]&&Fe[u+1]||Fe[u],v=n&&("complete"===h||"reset"===h||h in n))),ye&&(p||v)&&(v||vt||!n)&&(Ht(ye)?ye(ze):ze.getTrailing(ye).forEach((function(t){return t.endAnimation()}))),Ce||(!U||tt||xt?n&&n.totalProgress(E,!(!tt||!We&&!t)):(U._dp._time-U._start!==U._time&&U.render(U._dp._time-U._start),U.resetTo?U.resetTo("totalProgress",E,n._tTime/n._tDur):(U.vars.totalProgress=E,U.invalidate().restart()))),wt)if(t&&Tt&&(T.style[Tt+be.os2]=k),Ne){if(f){if(g=!t&&E>C&&c+1>_&&_+1>=jt(Ie,be),Gt)if(t||!s&&!g)sn(wt,T);else{var S=pe(wt,!0),M=_-l;sn(wt,K,S.top+(be===O?M:0)+he,S.left+(be===O?0:M)+he)}Ze(s||g?y:w),R&&E<1&&s||x(I+(1!==E||g?0:A))}}else x(Ft(I+A*E));Bt&&!r.tween&&!tt&&!xt&&Y.restart(!0),ft&&(p||Vt&&E&&(E<1||!bt))&&X(ft.targets).forEach((function(t){return t.classList[s||Vt?"add":"remove"](ft.className)})),dt&&!Ce&&!t&&dt(ze),f&&!tt?(Ce&&(v&&("complete"===h?n.pause().totalProgress(1):"reset"===h?n.restart(!0).pause():"restart"===h?n.restart(!0):n[h]()),dt&&dt(ze)),!p&&bt||(gt&&p&&Xt(ze,gt),Le[u]&&Xt(ze,Le[u]),Vt&&(1===E?ze.kill(!1,1):Le[u]=0),p||Le[u=1===E?1:3]&&Xt(ze,Le[u])),te&&!s&&Math.abs(ze.getVelocity())>(Kt(te)?te:2500)&&(Yt(ze.callbackAnimation),U?U.progress(1):Yt(n,"reverse"===h?1:!E,1))):Ce&&dt&&!tt&&dt(ze)}if(F){var P=Zt?_/Zt.duration()*(Zt._caScrollDist||0):_;D(P+(d._isFlipped?1:0)),F(P)}it&&it(-_/Zt.duration()*(Zt._caScrollDist||0))}},ze.enable=function(e,n){ze.enabled||(ze.enabled=!0,we(Ie,"resize",Oe),Pe||we(Ie,"scroll",De),Ue&&we(t,"refreshInit",Ue),!1!==e&&(ze.progress=Ye=0,o=a=He=Xe()),!1!==n&&ze.refresh())},ze.getTween=function(t){return t&&r?r.tween:U},ze.setPositions=function(t,e,n,r){if(Zt){var i=Zt.scrollTrigger,s=Zt.duration(),o=i.end-i.start;t=i.start+o*t/s,e=i.start+o*e/s}ze.refresh(!1,!1,{start:Pt(t,n&&!!ze._startClamp),end:Pt(e,n&&!!ze._endClamp)},r),ze.update()},ze.adjustPinSpacing=function(t){if(M&&t){var e=M.indexOf(be.d)+1;M[e]=parseFloat(M[e])+t+he,M[1]=parseFloat(M[1])+t+he,Ze(M)}},ze.disable=function(e,n){if(ze.enabled&&(!1!==e&&ze.revert(!0,!0),ze.enabled=ze.isActive=!1,n||U&&U.pause(),Z=0,i&&(i.uncache=1),Ue&&_e(t,"refreshInit",Ue),Y&&(Y.pause(),r.tween&&r.tween.kill()&&(r.tween=0)),!Pe)){for(var s=Ae.length;s--;)if(Ae[s].scroller===Ie&&Ae[s]!==ze)return;_e(Ie,"resize",Oe),Pe||_e(Ie,"scroll",De)}},ze.kill=function(t,r){ze.disable(t,r),U&&!r&&U.kill(),pt&&delete ke[pt];var s=Ae.indexOf(ze);s>=0&&Ae.splice(s,1),s===rt&&Ke>0&&rt--,s=0,Ae.forEach((function(t){return t.scroller===ze.scroller&&(s=1)})),s||Et||(ze.scroll.rec=0),n&&(n.scrollTrigger=null,t&&n.revert({kill:!1}),r||n.kill()),u&&[u,h,d,f].forEach((function(t){return t.parentNode&&t.parentNode.removeChild(t)})),St===ze&&(St=0),wt&&(i&&(i.uncache=1),s=0,Ae.forEach((function(t){return t.pin===wt&&s++})),s||(i.spacer=0)),e.onKill&&e.onKill(ze)},Ae.push(ze),ze.enable(!1,!1),st&&st(ze),n&&n.add&&!m){var cn=ze.update;ze.update=function(){ze.update=cn,l||c||ze.refresh()},q.delayedCall(.01,ze.update),m=.01,l=c=0}else ze.refresh();wt&&function(){if(Ct!==qe){var t=Ct=qe;requestAnimationFrame((function(){return t===qe&&$e(!0)}))}}()}else this.update=this.refresh=this.kill=Rt},t.register=function(e){return j||(q=e||Bt(),Vt()&&window.document&&t.enable(),j=Mt),j},t.defaults=function(t){if(t)for(var e in t)Ee[e]=t[e];return Ee},t.disable=function(t,e){Mt=0,Ae.forEach((function(n){return n[e?"kill":"disable"](t)})),_e(G,"wheel",De),_e($,"scroll",De),clearInterval(Z),_e($,"touchcancel",Rt),_e(K,"touchstart",Rt),ye(_e,$,"pointerdown,touchstart,mousedown",Nt),ye(_e,$,"pointerup,touchend,mouseup",Lt),Y.kill(),Gt(_e);for(var n=0;n<_.length;n+=3)be(_e,_[n],_[n+1]),be(_e,_[n],_[n+2])},t.enable=function(){if(G=window,$=document,H=$.documentElement,K=$.body,q&&(X=q.utils.toArray,Q=q.utils.clamp,gt=q.core.context||Rt,lt=q.core.suppressOverwrites||Rt,mt=G.history.scrollRestoration||"auto",He=G.pageYOffset,q.core.globals("ScrollTrigger",t),K)){Mt=1,(vt=document.createElement("div")).style.height="100vh",vt.style.position="absolute",je(),Ot(),U.register(q),t.isTouch=U.isTouch,pt=U.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),ht=1===U.isTouch,we(G,"wheel",De),W=[G,$,H,K],q.matchMedia?(t.matchMedia=function(t){var e,n=q.matchMedia();for(e in t)n.add(e,t[e]);return n},q.addEventListener("matchMediaInit",(function(){return ze()})),q.addEventListener("matchMediaRevert",(function(){return Be()})),q.addEventListener("matchMedia",(function(){$e(0,1),Fe("matchMedia")})),q.matchMedia("(orientation: portrait)",(function(){return Pe(),Pe}))):console.warn("Requires GSAP 3.11.0 or later"),Pe(),we($,"scroll",De);var e,n,r=K.style,i=r.borderTopStyle,s=q.core.Animation.prototype;for(s.revert||Object.defineProperty(s,"revert",{value:function(){return this.time(-.01,!0)}}),r.borderTopStyle="solid",e=pe(K),O.m=Math.round(e.top+O.sc())||0,P.m=Math.round(e.left+P.sc())||0,i?r.borderTopStyle=i:r.removeProperty("border-top-style"),Z=setInterval(Me,250),q.delayedCall(.5,(function(){return xt=0})),we($,"touchcancel",Rt),we(K,"touchstart",Rt),ye(we,$,"pointerdown,touchstart,mousedown",Nt),ye(we,$,"pointerup,touchend,mouseup",Lt),nt=q.utils.checkPrefix("transform"),Xe.push(nt),j=It(),Y=q.delayedCall(.2,$e).pause(),ot=[$,"visibilitychange",function(){var t=G.innerWidth,e=G.innerHeight;$.hidden?(it=t,st=e):it===t&&st===e||Oe()},$,"DOMContentLoaded",$e,G,"load",$e,G,"resize",Oe],Gt(we),Ae.forEach((function(t){return t.enable(0,1)})),n=0;n<_.length;n+=3)be(_e,_[n],_[n+1]),be(_e,_[n],_[n+2])}},t.config=function(e){"limitCallbacks"in e&&(bt=!!e.limitCallbacks);var n=e.syncInterval;n&&clearInterval(Z)||(Z=n)&&setInterval(Me,n),"ignoreMobileResize"in e&&(ht=1===t.isTouch&&e.ignoreMobileResize),"autoRefreshEvents"in e&&(Gt(_e)||Gt(we,e.autoRefreshEvents||"none"),ct=-1===(e.autoRefreshEvents+"").indexOf("resize"))},t.scrollerProxy=function(t,e){var n=N(t),r=_.indexOf(n),i=zt(n);~r&&_.splice(r,i?6:2),e&&(i?b.unshift(G,e,K,e,H,e):b.unshift(n,e))},t.clearMatchMedia=function(t){Ae.forEach((function(e){return e._ctx&&e._ctx.query===t&&e._ctx.kill(!0,!0)}))},t.isInViewport=function(t,e,n){var r=($t(t)?N(t):t).getBoundingClientRect(),i=r[n?ee:ne]*e||0;return n?r.right-i>0&&r.left+i<G.innerWidth:r.bottom-i>0&&r.top+i<G.innerHeight},t.positionInViewport=function(t,e,n){$t(t)&&(t=N(t));var r=t.getBoundingClientRect(),i=r[n?ee:ne],s=null==e?i/2:e in Ce?Ce[e]*i:~e.indexOf("%")?parseFloat(e)*i/100:parseFloat(e)||0;return n?(r.left+s)/G.innerWidth:(r.top+s)/G.innerHeight},t.killAll=function(t){if(Ae.slice(0).forEach((function(t){return"ScrollSmoother"!==t.vars.id&&t.kill()})),!0!==t){var e=Ne.killAll||[];Ne={},e.forEach((function(t){return t()}))}},t}();cn.version="3.12.5",cn.saveStyles=function(t){return t?X(t).forEach((function(t){if(t&&t.style){var e=Ve.indexOf(t);e>=0&&Ve.splice(e,5),Ve.push(t,t.style.cssText,t.getBBox&&t.getAttribute("transform"),q.core.getCache(t),gt())}})):Ve},cn.revert=function(t,e){return ze(!t,e)},cn.create=function(t,e){return new cn(t,e)},cn.refresh=function(t){return t?Oe():(j||cn.register())&&$e(!0)},cn.update=function(t){return++_.cache&&We(!0===t?2:0)},cn.clearScrollMemory=Ue,cn.maxScroll=function(t,e){return jt(t,e?P:O)},cn.getScrollFunc=function(t,e){return L(N(t),e?P:O)},cn.getById=function(t){return ke[t]},cn.getAll=function(){return Ae.filter((function(t){return"ScrollSmoother"!==t.vars.id}))},cn.isScrolling=function(){return!!kt},cn.snapDirectional=ve,cn.addEventListener=function(t,e){var n=Ne[t]||(Ne[t]=[]);~n.indexOf(e)||n.push(e)},cn.removeEventListener=function(t,e){var n=Ne[t],r=n&&n.indexOf(e);r>=0&&n.splice(r,1)},cn.batch=function(t,e){var n,r=[],i={},s=e.interval||.016,o=e.batchMax||1e9,a=function(t,e){var n=[],r=[],i=q.delayedCall(s,(function(){e(n,r),n=[],r=[]})).pause();return function(t){n.length||i.restart(!0),n.push(t.trigger),r.push(t),o<=n.length&&i.progress(1)}};for(n in e)i[n]="on"===n.substr(0,2)&&Ht(e[n])&&"onRefreshInit"!==n?a(0,e[n]):e[n];return Ht(o)&&(o=o(),we(cn,"refresh",(function(){return o=e.batchMax()}))),X(t).forEach((function(t){var e={};for(n in i)e[n]=i[n];e.trigger=t,r.push(cn.create(e))})),r};var un,hn=function(t,e,n,r){return e>r?t(r):e<0&&t(0),n>r?(r-e)/(n-e):n<0?e/(e-n):1},dn=function t(e,n){!0===n?e.style.removeProperty("touch-action"):e.style.touchAction=!0===n?"auto":n?"pan-"+n+(U.isTouch?" pinch-zoom":""):"none",e===H&&t(K,n)},fn={auto:1,scroll:1},pn=function(t){var e,n=t.event,r=t.target,i=t.axis,s=(n.changedTouches?n.changedTouches[0]:n).target,o=s._gsap||q.core.getCache(s),a=It();if(!o._isScrollT||a-o._isScrollT>2e3){for(;s&&s!==K&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!fn[(e=de(s)).overflowY]&&!fn[e.overflowX]);)s=s.parentNode;o._isScroll=s&&s!==r&&!zt(s)&&(fn[(e=de(s)).overflowY]||fn[e.overflowX]),o._isScrollT=a}(o._isScroll||"x"===i)&&(n.stopPropagation(),n._gsapAllow=!0)},gn=function(t,e,n,r){return U.create({target:t,capture:!0,debounce:!1,lockAxis:!0,type:e,onWheel:r=r&&pn,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return n&&we($,U.eventTypes[0],vn,!1,!0)},onDisable:function(){return _e($,U.eventTypes[0],vn,!0)}})},mn=/(input|label|select|textarea)/i,vn=function(t){var e=mn.test(t.target.tagName);(e||un)&&(t._gsapAllow=!0,un=e)};cn.sort=function(t){return Ae.sort(t||function(t,e){return-1e6*(t.vars.refreshPriority||0)+t.start-(e.start+-1e6*(e.vars.refreshPriority||0))})},cn.observe=function(t){return new U(t)},cn.normalizeScroll=function(t){if(void 0===t)return ut;if(!0===t&&ut)return ut.enable();if(!1===t)return ut&&ut.kill(),void(ut=t);var e=t instanceof U?t:function(t){Wt(t)||(t={}),t.preventDefault=t.isNormalizer=t.allowClicks=!0,t.type||(t.type="wheel,touch"),t.debounce=!!t.debounce,t.id=t.id||"normalizer";var e,n,r,i,s,o,a,l,c=t,u=c.normalizeScrollX,h=c.momentum,d=c.allowNestedScroll,f=c.onRelease,p=N(t.target)||H,g=q.core.globals().ScrollSmoother,m=g&&g.get(),v=pt&&(t.content&&N(t.content)||m&&!1!==t.content&&!m.smooth()&&m.content()),y=L(p,O),w=L(p,P),b=1,T=(U.isTouch&&G.visualViewport?G.visualViewport.scale*G.visualViewport.width:G.outerWidth)/G.innerWidth,E=0,C=Ht(h)?function(){return h(e)}:function(){return h||2.8},S=gn(p,t.type,!0,d),x=function(){return i=!1},I=Rt,A=Rt,k=function(){n=jt(p,O),A=Q(pt?1:0,n),u&&(I=Q(0,jt(p,P))),r=qe},M=function(){v._gsap.y=Ft(parseFloat(v._gsap.y)+y.offset)+"px",v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(v._gsap.y)+", 0, 1)",y.offset=y.cacheID=0},D=function(){k(),s.isActive()&&s.vars.scrollY>n&&(y()>n?s.progress(1)&&y(n):s.resetTo("scrollY",n))};return v&&q.set(v,{y:"+=0"}),t.ignoreCheck=function(t){return pt&&"touchmove"===t.type&&function(){if(i){requestAnimationFrame(x);var t=Ft(e.deltaY/2),n=A(y.v-t);if(v&&n!==y.v+y.offset){y.offset=n-y.v;var r=Ft((parseFloat(v&&v._gsap.y)||0)-y.offset);v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+r+", 0, 1)",v._gsap.y=r+"px",y.cacheID=_.cache,We()}return!0}y.offset&&M(),i=!0}()||b>1.05&&"touchstart"!==t.type||e.isGesturing||t.touches&&t.touches.length>1},t.onPress=function(){i=!1;var t=b;b=Ft((G.visualViewport&&G.visualViewport.scale||1)/T),s.pause(),t!==b&&dn(p,b>1.01||!u&&"x"),o=w(),a=y(),k(),r=qe},t.onRelease=t.onGestureStart=function(t,e){if(y.offset&&M(),e){_.cache++;var r,i,o=C();u&&(i=(r=w())+.05*o*-t.velocityX/.227,o*=hn(w,r,i,jt(p,P)),s.vars.scrollX=I(i)),i=(r=y())+.05*o*-t.velocityY/.227,o*=hn(y,r,i,jt(p,O)),s.vars.scrollY=A(i),s.invalidate().duration(o).play(.01),(pt&&s.vars.scrollY>=n||r>=n-1)&&q.to({},{onUpdate:D,duration:o})}else l.restart(!0);f&&f(t)},t.onWheel=function(){s._ts&&s.pause(),It()-E>1e3&&(r=0,E=It())},t.onChange=function(t,e,n,i,s){if(qe!==r&&k(),e&&u&&w(I(i[2]===e?o+(t.startX-t.x):w()+e-i[1])),n){y.offset&&M();var l=s[2]===n,c=l?a+t.startY-t.y:y()+n-s[1],h=A(c);l&&c!==h&&(a+=h-c),y(h)}(n||e)&&We()},t.onEnable=function(){dn(p,!u&&"x"),cn.addEventListener("refresh",D),we(G,"resize",D),y.smooth&&(y.target.style.scrollBehavior="auto",y.smooth=w.smooth=!1),S.enable()},t.onDisable=function(){dn(p,!0),_e(G,"resize",D),cn.removeEventListener("refresh",D),S.kill()},t.lockAxis=!1!==t.lockAxis,(e=new U(t)).iOS=pt,pt&&!y()&&y(1),pt&&q.ticker.add(Rt),l=e._dc,s=q.to(e,{ease:"power4",paused:!0,inherit:!1,scrollX:u?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:on(y,y(),(function(){return s.pause()}))},onUpdate:We,onComplete:l.vars.onComplete}),e}(t);return ut&&ut.target===e.target&&ut.kill(),zt(e.target)&&(ut=e),e},cn.core={_getVelocityProp:R,_inputObserver:gn,_scrollers:_,_proxies:b,bridge:{ss:function(){kt||Fe("scrollStart"),kt=It()},ref:function(){return tt}}},Bt()&&q.registerPlugin(cn)},499:(t,e,n)=>{"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}n.d(e,{os:()=>Hr});var s,o,a,l,c,u,h,d,f,p,g,m,v,y,w,_={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},b={duration:.5,overwrite:!1,delay:0},T=1e8,E=1e-8,C=2*Math.PI,S=C/4,x=0,I=Math.sqrt,A=Math.cos,k=Math.sin,M=function(t){return"string"==typeof t},D=function(t){return"function"==typeof t},P=function(t){return"number"==typeof t},O=function(t){return void 0===t},N=function(t){return"object"==typeof t},L=function(t){return!1!==t},R=function(){return"undefined"!=typeof window},F=function(t){return D(t)||M(t)},V="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},B=Array.isArray,z=/(?:-?\.?\d|\.)+/gi,U=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,q=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,j=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,G=/[+-]=-?[.\d]+/,$=/[^,'"\[\]\s]+/gi,H=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,K={},W={},Y=function(t){return(W=Ct(t,K))&&Sn},X=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},Q=function(t,e){return!e&&console.warn(t)},J=function(t,e){return t&&(K[t]=e)&&W&&(W[t]=e)||K},Z=function(){return 0},tt={suppressEvents:!0,isStart:!0,kill:!1},et={suppressEvents:!0,kill:!1},nt={suppressEvents:!0},rt={},it=[],st={},ot={},at={},lt=30,ct=[],ut="",ht=function(t){var e,n,r=t[0];if(N(r)||D(r)||(t=[t]),!(e=(r._gsap||{}).harness)){for(n=ct.length;n--&&!ct[n].targetTest(r););e=ct[n]}for(n=t.length;n--;)t[n]&&(t[n]._gsap||(t[n]._gsap=new Ve(t[n],e)))||t.splice(n,1);return t},dt=function(t){return t._gsap||ht(ee(t))[0]._gsap},ft=function(t,e,n){return(n=t[e])&&D(n)?t[e]():O(n)&&t.getAttribute&&t.getAttribute(e)||n},pt=function(t,e){return(t=t.split(",")).forEach(e)||t},gt=function(t){return Math.round(1e5*t)/1e5||0},mt=function(t){return Math.round(1e7*t)/1e7||0},vt=function(t,e){var n=e.charAt(0),r=parseFloat(e.substr(2));return t=parseFloat(t),"+"===n?t+r:"-"===n?t-r:"*"===n?t*r:t/r},yt=function(t,e){for(var n=e.length,r=0;t.indexOf(e[r])<0&&++r<n;);return r<n},wt=function(){var t,e,n=it.length,r=it.slice(0);for(st={},it.length=0,t=0;t<n;t++)(e=r[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)},_t=function(t,e,n,r){it.length&&!o&&wt(),t.render(e,n,r||o&&e<0&&(t._initted||t._startAt)),it.length&&!o&&wt()},bt=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match($).length<2?e:M(t)?t.trim():t},Tt=function(t){return t},Et=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},Ct=function(t,e){for(var n in e)t[n]=e[n];return t},St=function t(e,n){for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(e[r]=N(n[r])?t(e[r]||(e[r]={}),n[r]):n[r]);return e},xt=function(t,e){var n,r={};for(n in t)n in e||(r[n]=t[n]);return r},It=function(t){var e,n=t.parent||l,r=t.keyframes?(e=B(t.keyframes),function(t,n){for(var r in n)r in t||"duration"===r&&e||"ease"===r||(t[r]=n[r])}):Et;if(L(t.inherit))for(;n;)r(t,n.vars.defaults),n=n.parent||n._dp;return t},At=function(t,e,n,r,i){void 0===n&&(n="_first"),void 0===r&&(r="_last");var s,o=t[r];if(i)for(s=e[i];o&&o[i]>s;)o=o._prev;return o?(e._next=o._next,o._next=e):(e._next=t[n],t[n]=e),e._next?e._next._prev=e:t[r]=e,e._prev=o,e.parent=e._dp=t,e},kt=function(t,e,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i=e._prev,s=e._next;i?i._next=s:t[n]===e&&(t[n]=s),s?s._prev=i:t[r]===e&&(t[r]=i),e._next=e._prev=e.parent=null},Mt=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},Dt=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var n=t;n;)n._dirty=1,n=n.parent;return t},Pt=function(t,e,n,r){return t._startAt&&(o?t._startAt.revert(et):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(e,!0,r))},Ot=function t(e){return!e||e._ts&&t(e.parent)},Nt=function(t){return t._repeat?Lt(t._tTime,t=t.duration()+t._rDelay)*t:0},Lt=function(t,e){var n=Math.floor(t/=e);return t&&n===t?n-1:n},Rt=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},Ft=function(t){return t._end=mt(t._start+(t._tDur/Math.abs(t._ts||t._rts||E)||0))},Vt=function(t,e){var n=t._dp;return n&&n.smoothChildTiming&&t._ts&&(t._start=mt(n._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),Ft(t),n._dirty||Dt(n,t)),t},Bt=function(t,e){var n;if((e._time||!e._dur&&e._initted||e._start<t._time&&(e._dur||!e.add))&&(n=Rt(t.rawTime(),e),(!e._dur||Qt(0,e.totalDuration(),n)-e._tTime>E)&&e.render(n,!0)),Dt(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(n=t;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;t._zTime=-1e-8}},zt=function(t,e,n,r){return e.parent&&Mt(e),e._start=mt((P(n)?n:n||t!==l?Wt(t,n,e):t._time)+e._delay),e._end=mt(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),At(t,e,"_first","_last",t._sort?"_start":0),Gt(e)||(t._recent=e),r||Bt(t,e),t._ts<0&&Vt(t,t._tTime),t},Ut=function(t,e){return(K.ScrollTrigger||X("scrollTrigger",e))&&K.ScrollTrigger.create(e,t)},qt=function(t,e,n,r,i){return He(t,e,i),t._initted?!n&&t._pt&&!o&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&f!==Se.frame?(it.push(t),t._lazy=[i,r],1):void 0:1},jt=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},Gt=function(t){var e=t.data;return"isFromStart"===e||"isStart"===e},$t=function(t,e,n,r){var i=t._repeat,s=mt(e)||0,o=t._tTime/t._tDur;return o&&!r&&(t._time*=s/t._dur),t._dur=s,t._tDur=i?i<0?1e10:mt(s*(i+1)+t._rDelay*i):s,o>0&&!r&&Vt(t,t._tTime=t._tDur*o),t.parent&&Ft(t),n||Dt(t.parent,t),t},Ht=function(t){return t instanceof ze?Dt(t):$t(t,t._dur)},Kt={_start:0,endTime:Z,totalDuration:Z},Wt=function t(e,n,r){var i,s,o,a=e.labels,l=e._recent||Kt,c=e.duration()>=T?l.endTime(!1):e._dur;return M(n)&&(isNaN(n)||n in a)?(s=n.charAt(0),o="%"===n.substr(-1),i=n.indexOf("="),"<"===s||">"===s?(i>=0&&(n=n.replace(/=/,"")),("<"===s?l._start:l.endTime(l._repeat>=0))+(parseFloat(n.substr(1))||0)*(o?(i<0?l:r).totalDuration()/100:1)):i<0?(n in a||(a[n]=c),a[n]):(s=parseFloat(n.charAt(i-1)+n.substr(i+1)),o&&r&&(s=s/100*(B(r)?r[0]:r).totalDuration()),i>1?t(e,n.substr(0,i-1),r)+s:c+s)):null==n?c:+n},Yt=function(t,e,n){var r,i,s=P(e[1]),o=(s?2:1)+(t<2?0:1),a=e[o];if(s&&(a.duration=e[1]),a.parent=n,t){for(r=a,i=n;i&&!("immediateRender"in r);)r=i.vars.defaults||{},i=L(i.vars.inherit)&&i.parent;a.immediateRender=L(r.immediateRender),t<2?a.runBackwards=1:a.startAt=e[o-1]}return new Qe(e[0],a,e[o+1])},Xt=function(t,e){return t||0===t?e(t):e},Qt=function(t,e,n){return n<t?t:n>e?e:n},Jt=function(t,e){return M(t)&&(e=H.exec(t))?e[1]:""},Zt=[].slice,te=function(t,e){return t&&N(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&N(t[0]))&&!t.nodeType&&t!==c},ee=function(t,e,n){return a&&!e&&a.selector?a.selector(t):!M(t)||n||!u&&xe()?B(t)?function(t,e,n){return void 0===n&&(n=[]),t.forEach((function(t){var r;return M(t)&&!e||te(t,1)?(r=n).push.apply(r,ee(t)):n.push(t)}))||n}(t,n):te(t)?Zt.call(t,0):t?[t]:[]:Zt.call((e||h).querySelectorAll(t),0)},ne=function(t){return t=ee(t)[0]||Q("Invalid scope")||{},function(e){var n=t.current||t.nativeElement||t;return ee(e,n.querySelectorAll?n:n===t?Q("Invalid scope")||h.createElement("div"):t)}},re=function(t){return t.sort((function(){return.5-Math.random()}))},ie=function(t){if(D(t))return t;var e=N(t)?t:{each:t},n=Oe(e.ease),r=e.from||0,i=parseFloat(e.base)||0,s={},o=r>0&&r<1,a=isNaN(r)||o,l=e.axis,c=r,u=r;return M(r)?c=u={center:.5,edges:.5,end:1}[r]||0:!o&&a&&(c=r[0],u=r[1]),function(t,o,h){var d,f,p,g,m,v,y,w,_,b=(h||e).length,E=s[b];if(!E){if(!(_="auto"===e.grid?0:(e.grid||[1,T])[1])){for(y=-T;y<(y=h[_++].getBoundingClientRect().left)&&_<b;);_<b&&_--}for(E=s[b]=[],d=a?Math.min(_,b)*c-.5:r%_,f=_===T?0:a?b*u/_-.5:r/_|0,y=0,w=T,v=0;v<b;v++)p=v%_-d,g=f-(v/_|0),E[v]=m=l?Math.abs("y"===l?g:p):I(p*p+g*g),m>y&&(y=m),m<w&&(w=m);"random"===r&&re(E),E.max=y-w,E.min=w,E.v=b=(parseFloat(e.amount)||parseFloat(e.each)*(_>b?b-1:l?"y"===l?b/_:_:Math.max(_,b/_))||0)*("edges"===r?-1:1),E.b=b<0?i-b:i,E.u=Jt(e.amount||e.each)||0,n=n&&b<0?De(n):n}return b=(E[t]-E.min)/E.max||0,mt(E.b+(n?n(b):b)*E.v)+E.u}},se=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(n){var r=mt(Math.round(parseFloat(n)/t)*t*e);return(r-r%1)/e+(P(n)?0:Jt(n))}},oe=function(t,e){var n,r,i=B(t);return!i&&N(t)&&(n=i=t.radius||T,t.values?(t=ee(t.values),(r=!P(t[0]))&&(n*=n)):t=se(t.increment)),Xt(e,i?D(t)?function(e){return r=t(e),Math.abs(r-e)<=n?r:e}:function(e){for(var i,s,o=parseFloat(r?e.x:e),a=parseFloat(r?e.y:0),l=T,c=0,u=t.length;u--;)(i=r?(i=t[u].x-o)*i+(s=t[u].y-a)*s:Math.abs(t[u]-o))<l&&(l=i,c=u);return c=!n||l<=n?t[c]:e,r||c===e||P(e)?c:c+Jt(e)}:se(t))},ae=function(t,e,n,r){return Xt(B(t)?!e:!0===n?!!(n=0):!r,(function(){return B(t)?t[~~(Math.random()*t.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((t-n/2+Math.random()*(e-t+.99*n))/n)*n*r)/r}))},le=function(t,e,n){return Xt(n,(function(n){return t[~~e(n)]}))},ce=function(t){for(var e,n,r,i,s=0,o="";~(e=t.indexOf("random(",s));)r=t.indexOf(")",e),i="["===t.charAt(e+7),n=t.substr(e+7,r-e-7).match(i?$:z),o+=t.substr(s,e-s)+ae(i?n:+n[0],i?0:+n[1],+n[2]||1e-5),s=r+1;return o+t.substr(s,t.length-s)},ue=function(t,e,n,r,i){var s=e-t,o=r-n;return Xt(i,(function(e){return n+((e-t)/s*o||0)}))},he=function(t,e,n){var r,i,s,o=t.labels,a=T;for(r in o)(i=o[r]-e)<0==!!n&&i&&a>(i=Math.abs(i))&&(s=r,a=i);return s},de=function(t,e,n){var r,i,s,o=t.vars,l=o[e],c=a,u=t._ctx;if(l)return r=o[e+"Params"],i=o.callbackScope||t,n&&it.length&&wt(),u&&(a=u),s=r?l.apply(i,r):l.call(i),a=c,s},fe=function(t){return Mt(t),t.scrollTrigger&&t.scrollTrigger.kill(!!o),t.progress()<1&&de(t,"onInterrupt"),t},pe=[],ge=function(t){if(t)if(t=!t.name&&t.default||t,R()||t.headless){var e=t.name,n=D(t),r=e&&!n&&t.init?function(){this._props=[]}:t,i={init:Z,render:an,add:Ge,kill:cn,modifier:ln,rawVars:0},s={targetTest:0,get:0,getSetter:nn,aliases:{},register:0};if(xe(),t!==r){if(ot[e])return;Et(r,Et(xt(t,i),s)),Ct(r.prototype,Ct(i,xt(t,s))),ot[r.prop=e]=r,t.targetTest&&(ct.push(r),rt[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}J(e,r),t.register&&t.register(Sn,r,dn)}else pe.push(t)},me=255,ve={aqua:[0,me,me],lime:[0,me,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,me],navy:[0,0,128],white:[me,me,me],olive:[128,128,0],yellow:[me,me,0],orange:[me,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[me,0,0],pink:[me,192,203],cyan:[0,me,me],transparent:[me,me,me,0]},ye=function(t,e,n){return(6*(t+=t<0?1:t>1?-1:0)<1?e+(n-e)*t*6:t<.5?n:3*t<2?e+(n-e)*(2/3-t)*6:e)*me+.5|0},we=function(t,e,n){var r,i,s,o,a,l,c,u,h,d,f=t?P(t)?[t>>16,t>>8&me,t&me]:0:ve.black;if(!f){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),ve[t])f=ve[t];else if("#"===t.charAt(0)){if(t.length<6&&(r=t.charAt(1),i=t.charAt(2),s=t.charAt(3),t="#"+r+r+i+i+s+s+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(f=parseInt(t.substr(1,6),16))>>16,f>>8&me,f&me,parseInt(t.substr(7),16)/255];f=[(t=parseInt(t.substr(1),16))>>16,t>>8&me,t&me]}else if("hsl"===t.substr(0,3))if(f=d=t.match(z),e){if(~t.indexOf("="))return f=t.match(U),n&&f.length<4&&(f[3]=1),f}else o=+f[0]%360/360,a=+f[1]/100,r=2*(l=+f[2]/100)-(i=l<=.5?l*(a+1):l+a-l*a),f.length>3&&(f[3]*=1),f[0]=ye(o+1/3,r,i),f[1]=ye(o,r,i),f[2]=ye(o-1/3,r,i);else f=t.match(z)||ve.transparent;f=f.map(Number)}return e&&!d&&(r=f[0]/me,i=f[1]/me,s=f[2]/me,l=((c=Math.max(r,i,s))+(u=Math.min(r,i,s)))/2,c===u?o=a=0:(h=c-u,a=l>.5?h/(2-c-u):h/(c+u),o=c===r?(i-s)/h+(i<s?6:0):c===i?(s-r)/h+2:(r-i)/h+4,o*=60),f[0]=~~(o+.5),f[1]=~~(100*a+.5),f[2]=~~(100*l+.5)),n&&f.length<4&&(f[3]=1),f},_e=function(t){var e=[],n=[],r=-1;return t.split(Te).forEach((function(t){var i=t.match(q)||[];e.push.apply(e,i),n.push(r+=i.length+1)})),e.c=n,e},be=function(t,e,n){var r,i,s,o,a="",l=(t+a).match(Te),c=e?"hsla(":"rgba(",u=0;if(!l)return t;if(l=l.map((function(t){return(t=we(t,e,1))&&c+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"})),n&&(s=_e(t),(r=n.c).join(a)!==s.c.join(a)))for(o=(i=t.replace(Te,"1").split(q)).length-1;u<o;u++)a+=i[u]+(~r.indexOf(u)?l.shift()||c+"0,0,0,0)":(s.length?s:l.length?l:n).shift());if(!i)for(o=(i=t.split(Te)).length-1;u<o;u++)a+=i[u]+l[u];return a+i[o]},Te=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in ve)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),Ee=/hsl[a]?\(/,Ce=function(t){var e,n=t.join(" ");if(Te.lastIndex=0,Te.test(n))return e=Ee.test(n),t[1]=be(t[1],e),t[0]=be(t[0],e,_e(t[1])),!0},Se=function(){var t,e,n,r,i,s,o=Date.now,a=500,l=33,f=o(),p=f,m=1e3/240,v=m,y=[],w=function n(c){var u,h,d,g,w=o()-p,_=!0===c;if((w>a||w<0)&&(f+=w-l),((u=(d=(p+=w)-f)-v)>0||_)&&(g=++r.frame,i=d-1e3*r.time,r.time=d/=1e3,v+=u+(u>=m?4:m-u),h=1),_||(t=e(n)),h)for(s=0;s<y.length;s++)y[s](d,i,g,c)};return r={time:0,frame:0,tick:function(){w(!0)},deltaRatio:function(t){return i/(1e3/(t||60))},wake:function(){d&&(!u&&R()&&(c=u=window,h=c.document||{},K.gsap=Sn,(c.gsapVersions||(c.gsapVersions=[])).push(Sn.version),Y(W||c.GreenSockGlobals||!c.gsap&&c||{}),pe.forEach(ge)),n="undefined"!=typeof requestAnimationFrame&&requestAnimationFrame,t&&r.sleep(),e=n||function(t){return setTimeout(t,v-1e3*r.time+1|0)},g=1,w(2))},sleep:function(){(n?cancelAnimationFrame:clearTimeout)(t),g=0,e=Z},lagSmoothing:function(t,e){a=t||1/0,l=Math.min(e||33,a)},fps:function(t){m=1e3/(t||240),v=1e3*r.time+m},add:function(t,e,n){var i=e?function(e,n,s,o){t(e,n,s,o),r.remove(i)}:t;return r.remove(t),y[n?"unshift":"push"](i),xe(),i},remove:function(t,e){~(e=y.indexOf(t))&&y.splice(e,1)&&s>=e&&s--},_listeners:y}}(),xe=function(){return!g&&Se.wake()},Ie={},Ae=/^[\d.\-M][\d.\-,\s]/,ke=/["']/g,Me=function(t){for(var e,n,r,i={},s=t.substr(1,t.length-3).split(":"),o=s[0],a=1,l=s.length;a<l;a++)n=s[a],e=a!==l-1?n.lastIndexOf(","):n.length,r=n.substr(0,e),i[o]=isNaN(r)?r.replace(ke,"").trim():+r,o=n.substr(e+1).trim();return i},De=function(t){return function(e){return 1-t(1-e)}},Pe=function t(e,n){for(var r,i=e._first;i;)i instanceof ze?t(i,n):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===n||(i.timeline?t(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},Oe=function(t,e){return t&&(D(t)?t:Ie[t]||function(t){var e,n,r,i,s=(t+"").split("("),o=Ie[s[0]];return o&&s.length>1&&o.config?o.config.apply(null,~t.indexOf("{")?[Me(s[1])]:(e=t,n=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",n),e.substring(n,~i&&i<r?e.indexOf(")",r+1):r)).split(",").map(bt)):Ie._CE&&Ae.test(t)?Ie._CE("",t):o}(t))||e},Ne=function(t,e,n,r){void 0===n&&(n=function(t){return 1-e(1-t)}),void 0===r&&(r=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var i,s={easeIn:e,easeOut:n,easeInOut:r};return pt(t,(function(t){for(var e in Ie[t]=K[t]=s,Ie[i=t.toLowerCase()]=n,s)Ie[i+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=Ie[t+"."+e]=s[e]})),s},Le=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},Re=function t(e,n,r){var i=n>=1?n:1,s=(r||(e?.3:.45))/(n<1?n:1),o=s/C*(Math.asin(1/i)||0),a=function(t){return 1===t?1:i*Math.pow(2,-10*t)*k((t-o)*s)+1},l="out"===e?a:"in"===e?function(t){return 1-a(1-t)}:Le(a);return s=C/s,l.config=function(n,r){return t(e,n,r)},l},Fe=function t(e,n){void 0===n&&(n=1.70158);var r=function(t){return t?--t*t*((n+1)*t+n)+1:0},i="out"===e?r:"in"===e?function(t){return 1-r(1-t)}:Le(r);return i.config=function(n){return t(e,n)},i};pt("Linear,Quad,Cubic,Quart,Quint,Strong",(function(t,e){var n=e<5?e+1:e;Ne(t+",Power"+(n-1),e?function(t){return Math.pow(t,n)}:function(t){return t},(function(t){return 1-Math.pow(1-t,n)}),(function(t){return t<.5?Math.pow(2*t,n)/2:1-Math.pow(2*(1-t),n)/2}))})),Ie.Linear.easeNone=Ie.none=Ie.Linear.easeIn,Ne("Elastic",Re("in"),Re("out"),Re()),m=7.5625,y=1/(v=2.75),Ne("Bounce",(function(t){return 1-w(1-t)}),w=function(t){return t<y?m*t*t:t<.7272727272727273?m*Math.pow(t-1.5/v,2)+.75:t<.9090909090909092?m*(t-=2.25/v)*t+.9375:m*Math.pow(t-2.625/v,2)+.984375}),Ne("Expo",(function(t){return t?Math.pow(2,10*(t-1)):0})),Ne("Circ",(function(t){return-(I(1-t*t)-1)})),Ne("Sine",(function(t){return 1===t?1:1-A(t*S)})),Ne("Back",Fe("in"),Fe("out"),Fe()),Ie.SteppedEase=Ie.steps=K.SteppedEase={config:function(t,e){void 0===t&&(t=1);var n=1/t,r=t+(e?0:1),i=e?1:0;return function(t){return((r*Qt(0,.99999999,t)|0)+i)*n}}},b.ease=Ie["quad.out"],pt("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(t){return ut+=t+","+t+"Params,"}));var Ve=function(t,e){this.id=x++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:ft,this.set=e?e.getSetter:nn},Be=function(){function t(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,$t(this,+t.duration,1,1),this.data=t.data,a&&(this._ctx=a,a.data.push(this)),g||Se.wake()}var e=t.prototype;return e.delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},e.totalDuration=function(t){return arguments.length?(this._dirty=0,$t(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(t,e){if(xe(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(Vt(this,t),!n._dp||n.parent||Bt(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&zt(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&Math.abs(this._zTime)===E||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),_t(this,t,e)),this},e.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+Nt(this))%(this._dur+this._rDelay)||(t?this._dur:0),e):this._time},e.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+Nt(this),e):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(t,e){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*n,e):this._repeat?Lt(this._tTime,n)+1:1},e.timeScale=function(t,e){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===t)return this;var n=this.parent&&this._ts?Rt(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||-1e-8===t?0:this._rts,this.totalTime(Qt(-Math.abs(this._delay),this._tDur,n),!1!==e),Ft(this),function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t}(this)},e.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(xe(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==E&&(this._tTime-=E)))),this):this._ps},e.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return e&&(e._sort||!this.parent)&&zt(e,this,t-this._delay),this}return this._start},e.endTime=function(t){return this._start+(L(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Rt(e.rawTime(t),this):this._tTime:this._tTime},e.revert=function(t){void 0===t&&(t=nt);var e=o;return o=t,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(t),this.totalTime(-.01,t.suppressEvents)),"nested"!==this.data&&!1!==t.kill&&this.kill(),o=e,this},e.globalTime=function(t){for(var e=this,n=arguments.length?t:e.rawTime();e;)n=e._start+n/(Math.abs(e._ts)||1),e=e._dp;return!this.parent&&this._sat?this._sat.globalTime(t):n},e.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,Ht(this)):-2===this._repeat?1/0:this._repeat},e.repeatDelay=function(t){if(arguments.length){var e=this._time;return this._rDelay=t,Ht(this),e?this.time(e):this}return this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,e){return this.totalTime(Wt(this,t),L(e))},e.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,L(e))},e.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},e.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},e.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var t,e=this.parent||this._dp,n=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=n&&t<this.endTime(!0)-E))},e.eventCallback=function(t,e,n){var r=this.vars;return arguments.length>1?(e?(r[t]=e,n&&(r[t+"Params"]=n),"onUpdate"===t&&(this._onUpdate=e)):delete r[t],this):r[t]},e.then=function(t){var e=this;return new Promise((function(n){var r=D(t)?t:Tt,i=function(){var t=e.then;e.then=null,D(r)&&(r=r(e))&&(r.then||r===e)&&(e.then=t),n(r),e.then=t};e._initted&&1===e.totalProgress()&&e._ts>=0||!e._tTime&&e._ts<0?i():e._prom=i}))},e.kill=function(){fe(this)},t}();Et(Be.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var ze=function(t){function e(e,n){var i;return void 0===e&&(e={}),(i=t.call(this,e)||this).labels={},i.smoothChildTiming=!!e.smoothChildTiming,i.autoRemoveChildren=!!e.autoRemoveChildren,i._sort=L(e.sortChildren),l&&zt(e.parent||l,r(i),n),e.reversed&&i.reverse(),e.paused&&i.paused(!0),e.scrollTrigger&&Ut(r(i),e.scrollTrigger),i}i(e,t);var n=e.prototype;return n.to=function(t,e,n){return Yt(0,arguments,this),this},n.from=function(t,e,n){return Yt(1,arguments,this),this},n.fromTo=function(t,e,n,r){return Yt(2,arguments,this),this},n.set=function(t,e,n){return e.duration=0,e.parent=this,It(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new Qe(t,e,Wt(this,n),1),this},n.call=function(t,e,n){return zt(this,Qe.delayedCall(0,t,e),n)},n.staggerTo=function(t,e,n,r,i,s,o){return n.duration=e,n.stagger=n.stagger||r,n.onComplete=s,n.onCompleteParams=o,n.parent=this,new Qe(t,n,Wt(this,i)),this},n.staggerFrom=function(t,e,n,r,i,s,o){return n.runBackwards=1,It(n).immediateRender=L(n.immediateRender),this.staggerTo(t,e,n,r,i,s,o)},n.staggerFromTo=function(t,e,n,r,i,s,o,a){return r.startAt=n,It(r).immediateRender=L(r.immediateRender),this.staggerTo(t,e,r,i,s,o,a)},n.render=function(t,e,n){var r,i,s,a,c,u,h,d,f,p,g,m,v=this._time,y=this._dirty?this.totalDuration():this._tDur,w=this._dur,_=t<=0?0:mt(t),b=this._zTime<0!=t<0&&(this._initted||!w);if(this!==l&&_>y&&t>=0&&(_=y),_!==this._tTime||n||b){if(v!==this._time&&w&&(_+=this._time-v,t+=this._time-v),r=_,f=this._start,u=!(d=this._ts),b&&(w||(v=this._zTime),(t||!e)&&(this._zTime=t)),this._repeat){if(g=this._yoyo,c=w+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*c+t,e,n);if(r=mt(_%c),_===y?(a=this._repeat,r=w):((a=~~(_/c))&&a===_/c&&(r=w,a--),r>w&&(r=w)),p=Lt(this._tTime,c),!v&&this._tTime&&p!==a&&this._tTime-p*c-this._dur<=0&&(p=a),g&&1&a&&(r=w-r,m=1),a!==p&&!this._lock){var T=g&&1&p,C=T===(g&&1&a);if(a<p&&(T=!T),v=T?0:_%w?w:_,this._lock=1,this.render(v||(m?0:mt(a*c)),e,!w)._lock=0,this._tTime=_,!e&&this.parent&&de(this,"onRepeat"),this.vars.repeatRefresh&&!m&&(this.invalidate()._lock=1),v&&v!==this._time||u!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(w=this._dur,y=this._tDur,C&&(this._lock=2,v=T?w:-1e-4,this.render(v,!0),this.vars.repeatRefresh&&!m&&this.invalidate()),this._lock=0,!this._ts&&!u)return this;Pe(this,m)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(h=function(t,e,n){var r;if(n>e)for(r=t._first;r&&r._start<=n;){if("isPause"===r.data&&r._start>e)return r;r=r._next}else for(r=t._last;r&&r._start>=n;){if("isPause"===r.data&&r._start<e)return r;r=r._prev}}(this,mt(v),mt(r)),h&&(_-=r-(r=h._start))),this._tTime=_,this._time=r,this._act=!d,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,v=0),!v&&r&&!e&&!a&&(de(this,"onStart"),this._tTime!==_))return this;if(r>=v&&t>=0)for(i=this._first;i;){if(s=i._next,(i._act||r>=i._start)&&i._ts&&h!==i){if(i.parent!==this)return this.render(t,e,n);if(i.render(i._ts>0?(r-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(r-i._start)*i._ts,e,n),r!==this._time||!this._ts&&!u){h=0,s&&(_+=this._zTime=-1e-8);break}}i=s}else{i=this._last;for(var S=t<0?t:r;i;){if(s=i._prev,(i._act||S<=i._end)&&i._ts&&h!==i){if(i.parent!==this)return this.render(t,e,n);if(i.render(i._ts>0?(S-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(S-i._start)*i._ts,e,n||o&&(i._initted||i._startAt)),r!==this._time||!this._ts&&!u){h=0,s&&(_+=this._zTime=S?-1e-8:E);break}}i=s}}if(h&&!e&&(this.pause(),h.render(r>=v?0:-1e-8)._zTime=r>=v?1:-1,this._ts))return this._start=f,Ft(this),this.render(t,e,n);this._onUpdate&&!e&&de(this,"onUpdate",!0),(_===y&&this._tTime>=this.totalDuration()||!_&&v)&&(f!==this._start&&Math.abs(d)===Math.abs(this._ts)||this._lock||((t||!w)&&(_===y&&this._ts>0||!_&&this._ts<0)&&Mt(this,1),e||t<0&&!v||!_&&!v&&y||(de(this,_===y&&t>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(_<y&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(t,e){var n=this;if(P(e)||(e=Wt(this,e,t)),!(t instanceof Be)){if(B(t))return t.forEach((function(t){return n.add(t,e)})),this;if(M(t))return this.addLabel(t,e);if(!D(t))return this;t=Qe.delayedCall(0,t)}return this!==t?zt(this,t,e):this},n.getChildren=function(t,e,n,r){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===n&&(n=!0),void 0===r&&(r=-T);for(var i=[],s=this._first;s;)s._start>=r&&(s instanceof Qe?e&&i.push(s):(n&&i.push(s),t&&i.push.apply(i,s.getChildren(!0,e,n)))),s=s._next;return i},n.getById=function(t){for(var e=this.getChildren(1,1,1),n=e.length;n--;)if(e[n].vars.id===t)return e[n]},n.remove=function(t){return M(t)?this.removeLabel(t):D(t)?this.killTweensOf(t):(kt(this,t),t===this._recent&&(this._recent=this._last),Dt(this))},n.totalTime=function(e,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=mt(Se.time-(this._ts>0?e/this._ts:(this.totalDuration()-e)/-this._ts))),t.prototype.totalTime.call(this,e,n),this._forcing=0,this):this._tTime},n.addLabel=function(t,e){return this.labels[t]=Wt(this,e),this},n.removeLabel=function(t){return delete this.labels[t],this},n.addPause=function(t,e,n){var r=Qe.delayedCall(0,e||Z,n);return r.data="isPause",this._hasPause=1,zt(this,r,Wt(this,t))},n.removePause=function(t){var e=this._first;for(t=Wt(this,t);e;)e._start===t&&"isPause"===e.data&&Mt(e),e=e._next},n.killTweensOf=function(t,e,n){for(var r=this.getTweensOf(t,n),i=r.length;i--;)Ue!==r[i]&&r[i].kill(t,e);return this},n.getTweensOf=function(t,e){for(var n,r=[],i=ee(t),s=this._first,o=P(e);s;)s instanceof Qe?yt(s._targets,i)&&(o?(!Ue||s._initted&&s._ts)&&s.globalTime(0)<=e&&s.globalTime(s.totalDuration())>e:!e||s.isActive())&&r.push(s):(n=s.getTweensOf(i,e)).length&&r.push.apply(r,n),s=s._next;return r},n.tweenTo=function(t,e){e=e||{};var n,r=this,i=Wt(r,t),s=e,o=s.startAt,a=s.onStart,l=s.onStartParams,c=s.immediateRender,u=Qe.to(r,Et({ease:e.ease||"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:e.duration||Math.abs((i-(o&&"time"in o?o.time:r._time))/r.timeScale())||E,onStart:function(){if(r.pause(),!n){var t=e.duration||Math.abs((i-(o&&"time"in o?o.time:r._time))/r.timeScale());u._dur!==t&&$t(u,t,0,1).render(u._time,!0,!0),n=1}a&&a.apply(u,l||[])}},e));return c?u.render(0):u},n.tweenFromTo=function(t,e,n){return this.tweenTo(e,Et({startAt:{time:Wt(this,t)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(t){return void 0===t&&(t=this._time),he(this,Wt(this,t))},n.previousLabel=function(t){return void 0===t&&(t=this._time),he(this,Wt(this,t),1)},n.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+E)},n.shiftChildren=function(t,e,n){void 0===n&&(n=0);for(var r,i=this._first,s=this.labels;i;)i._start>=n&&(i._start+=t,i._end+=t),i=i._next;if(e)for(r in s)s[r]>=n&&(s[r]+=t);return Dt(this)},n.invalidate=function(e){var n=this._first;for(this._lock=0;n;)n.invalidate(e),n=n._next;return t.prototype.invalidate.call(this,e)},n.clear=function(t){void 0===t&&(t=!0);for(var e,n=this._first;n;)e=n._next,this.remove(n),n=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),Dt(this)},n.totalDuration=function(t){var e,n,r,i=0,s=this,o=s._last,a=T;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-t:t));if(s._dirty){for(r=s.parent;o;)e=o._prev,o._dirty&&o.totalDuration(),(n=o._start)>a&&s._sort&&o._ts&&!s._lock?(s._lock=1,zt(s,o,n-o._delay,1)._lock=0):a=n,n<0&&o._ts&&(i-=n,(!r&&!s._dp||r&&r.smoothChildTiming)&&(s._start+=n/s._ts,s._time-=n,s._tTime-=n),s.shiftChildren(-n,!1,-Infinity),a=0),o._end>i&&o._ts&&(i=o._end),o=e;$t(s,s===l&&s._time>i?s._time:i,1,1),s._dirty=0}return s._tDur},e.updateRoot=function(t){if(l._ts&&(_t(l,Rt(t,l)),f=Se.frame),Se.frame>=lt){lt+=_.autoSleep||120;var e=l._first;if((!e||!e._ts)&&_.autoSleep&&Se._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||Se.sleep()}}},e}(Be);Et(ze.prototype,{_lock:0,_hasPause:0,_forcing:0});var Ue,qe,je=function(t,e,n,r,i,s,o){var a,l,c,u,h,d,f,p,g=new dn(this._pt,t,e,0,1,on,null,i),m=0,v=0;for(g.b=n,g.e=r,n+="",(f=~(r+="").indexOf("random("))&&(r=ce(r)),s&&(s(p=[n,r],t,e),n=p[0],r=p[1]),l=n.match(j)||[];a=j.exec(r);)u=a[0],h=r.substring(m,a.index),c?c=(c+1)%5:"rgba("===h.substr(-5)&&(c=1),u!==l[v++]&&(d=parseFloat(l[v-1])||0,g._pt={_next:g._pt,p:h||1===v?h:",",s:d,c:"="===u.charAt(1)?vt(d,u)-d:parseFloat(u)-d,m:c&&c<4?Math.round:0},m=j.lastIndex);return g.c=m<r.length?r.substring(m,r.length):"",g.fp=o,(G.test(r)||f)&&(g.e=0),this._pt=g,g},Ge=function(t,e,n,r,i,s,o,a,l,c){D(r)&&(r=r(i||0,t,s));var u,h=t[e],d="get"!==n?n:D(h)?l?t[e.indexOf("set")||!D(t["get"+e.substr(3)])?e:"get"+e.substr(3)](l):t[e]():h,f=D(h)?l?tn:Ze:Je;if(M(r)&&(~r.indexOf("random(")&&(r=ce(r)),"="===r.charAt(1)&&((u=vt(d,r)+(Jt(d)||0))||0===u)&&(r=u)),!c||d!==r||qe)return isNaN(d*r)||""===r?(!h&&!(e in t)&&X(e,r),je.call(this,t,e,d,r,f,a||_.stringFilter,l)):(u=new dn(this._pt,t,e,+d||0,r-(d||0),"boolean"==typeof h?sn:rn,0,f),l&&(u.fp=l),o&&u.modifier(o,this,t),this._pt=u)},$e=function(t,e,n,r,i,s){var o,a,l,c;if(ot[t]&&!1!==(o=new ot[t]).init(i,o.rawVars?e[t]:function(t,e,n,r,i){if(D(t)&&(t=We(t,i,e,n,r)),!N(t)||t.style&&t.nodeType||B(t)||V(t))return M(t)?We(t,i,e,n,r):t;var s,o={};for(s in t)o[s]=We(t[s],i,e,n,r);return o}(e[t],r,i,s,n),n,r,s)&&(n._pt=a=new dn(n._pt,i,t,0,1,o.render,o,0,o.priority),n!==p))for(l=n._ptLookup[n._targets.indexOf(i)],c=o._props.length;c--;)l[o._props[c]]=a;return o},He=function t(e,n,r){var i,a,c,u,h,d,f,p,g,m,v,y,w,_=e.vars,C=_.ease,S=_.startAt,x=_.immediateRender,I=_.lazy,A=_.onUpdate,k=_.runBackwards,M=_.yoyoEase,D=_.keyframes,P=_.autoRevert,O=e._dur,N=e._startAt,R=e._targets,F=e.parent,V=F&&"nested"===F.data?F.vars.targets:R,B="auto"===e._overwrite&&!s,z=e.timeline;if(z&&(!D||!C)&&(C="none"),e._ease=Oe(C,b.ease),e._yEase=M?De(Oe(!0===M?C:M,b.ease)):0,M&&e._yoyo&&!e._repeat&&(M=e._yEase,e._yEase=e._ease,e._ease=M),e._from=!z&&!!_.runBackwards,!z||D&&!_.stagger){if(y=(p=R[0]?dt(R[0]).harness:0)&&_[p.prop],i=xt(_,rt),N&&(N._zTime<0&&N.progress(1),n<0&&k&&x&&!P?N.render(-1,!0):N.revert(k&&O?et:tt),N._lazy=0),S){if(Mt(e._startAt=Qe.set(R,Et({data:"isStart",overwrite:!1,parent:F,immediateRender:!0,lazy:!N&&L(I),startAt:null,delay:0,onUpdate:A&&function(){return de(e,"onUpdate")},stagger:0},S))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(o||!x&&!P)&&e._startAt.revert(et),x&&O&&n<=0&&r<=0)return void(n&&(e._zTime=n))}else if(k&&O&&!N)if(n&&(x=!1),c=Et({overwrite:!1,data:"isFromStart",lazy:x&&!N&&L(I),immediateRender:x,stagger:0,parent:F},i),y&&(c[p.prop]=y),Mt(e._startAt=Qe.set(R,c)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(o?e._startAt.revert(et):e._startAt.render(-1,!0)),e._zTime=n,x){if(!n)return}else t(e._startAt,E,E);for(e._pt=e._ptCache=0,I=O&&L(I)||I&&!O,a=0;a<R.length;a++){if(f=(h=R[a])._gsap||ht(R)[a]._gsap,e._ptLookup[a]=m={},st[f.id]&&it.length&&wt(),v=V===R?a:V.indexOf(h),p&&!1!==(g=new p).init(h,y||i,e,v,V)&&(e._pt=u=new dn(e._pt,h,g.name,0,1,g.render,g,0,g.priority),g._props.forEach((function(t){m[t]=u})),g.priority&&(d=1)),!p||y)for(c in i)ot[c]&&(g=$e(c,i,e,v,h,V))?g.priority&&(d=1):m[c]=u=Ge.call(e,h,c,"get",i[c],v,V,0,_.stringFilter);e._op&&e._op[a]&&e.kill(h,e._op[a]),B&&e._pt&&(Ue=e,l.killTweensOf(h,m,e.globalTime(n)),w=!e.parent,Ue=0),e._pt&&I&&(st[f.id]=1)}d&&hn(e),e._onInit&&e._onInit(e)}e._onUpdate=A,e._initted=(!e._op||e._pt)&&!w,D&&n<=0&&z.render(T,!0,!0)},Ke=function(t,e,n,r){var i,s,o=e.ease||r||"power1.inOut";if(B(e))s=n[t]||(n[t]=[]),e.forEach((function(t,n){return s.push({t:n/(e.length-1)*100,v:t,e:o})}));else for(i in e)s=n[i]||(n[i]=[]),"ease"===i||s.push({t:parseFloat(t),v:e[i],e:o})},We=function(t,e,n,r,i){return D(t)?t.call(e,n,r,i):M(t)&&~t.indexOf("random(")?ce(t):t},Ye=ut+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Xe={};pt(Ye+",id,stagger,delay,duration,paused,scrollTrigger",(function(t){return Xe[t]=1}));var Qe=function(t){function e(e,n,i,o){var a;"number"==typeof n&&(i.duration=n,n=i,i=null);var c,u,h,d,f,p,g,m,v=(a=t.call(this,o?n:It(n))||this).vars,y=v.duration,w=v.delay,b=v.immediateRender,T=v.stagger,E=v.overwrite,C=v.keyframes,S=v.defaults,x=v.scrollTrigger,I=v.yoyoEase,A=n.parent||l,k=(B(e)||V(e)?P(e[0]):"length"in n)?[e]:ee(e);if(a._targets=k.length?ht(k):Q("GSAP target "+e+" not found. https://gsap.com",!_.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=E,C||T||F(y)||F(w)){if(n=a.vars,(c=a.timeline=new ze({data:"nested",defaults:S||{},targets:A&&"nested"===A.data?A.vars.targets:k})).kill(),c.parent=c._dp=r(a),c._start=0,T||F(y)||F(w)){if(d=k.length,g=T&&ie(T),N(T))for(f in T)~Ye.indexOf(f)&&(m||(m={}),m[f]=T[f]);for(u=0;u<d;u++)(h=xt(n,Xe)).stagger=0,I&&(h.yoyoEase=I),m&&Ct(h,m),p=k[u],h.duration=+We(y,r(a),u,p,k),h.delay=(+We(w,r(a),u,p,k)||0)-a._delay,!T&&1===d&&h.delay&&(a._delay=w=h.delay,a._start+=w,h.delay=0),c.to(p,h,g?g(u,p,k):0),c._ease=Ie.none;c.duration()?y=w=0:a.timeline=0}else if(C){It(Et(c.vars.defaults,{ease:"none"})),c._ease=Oe(C.ease||n.ease||"none");var M,D,O,R=0;if(B(C))C.forEach((function(t){return c.to(k,t,">")})),c.duration();else{for(f in h={},C)"ease"===f||"easeEach"===f||Ke(f,C[f],h,C.easeEach);for(f in h)for(M=h[f].sort((function(t,e){return t.t-e.t})),R=0,u=0;u<M.length;u++)(O={ease:(D=M[u]).e,duration:(D.t-(u?M[u-1].t:0))/100*y})[f]=D.v,c.to(k,O,R),R+=O.duration;c.duration()<y&&c.to({},{duration:y-c.duration()})}}y||a.duration(y=c.duration())}else a.timeline=0;return!0!==E||s||(Ue=r(a),l.killTweensOf(k),Ue=0),zt(A,r(a),i),n.reversed&&a.reverse(),n.paused&&a.paused(!0),(b||!y&&!C&&a._start===mt(A._time)&&L(b)&&Ot(r(a))&&"nested"!==A.data)&&(a._tTime=-1e-8,a.render(Math.max(0,-w)||0)),x&&Ut(r(a),x),a}i(e,t);var n=e.prototype;return n.render=function(t,e,n){var r,i,s,a,l,c,u,h,d,f=this._time,p=this._tDur,g=this._dur,m=t<0,v=t>p-E&&!m?p:t<E?0:t;if(g){if(v!==this._tTime||!t||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m){if(r=v,h=this.timeline,this._repeat){if(a=g+this._rDelay,this._repeat<-1&&m)return this.totalTime(100*a+t,e,n);if(r=mt(v%a),v===p?(s=this._repeat,r=g):((s=~~(v/a))&&s===mt(v/a)&&(r=g,s--),r>g&&(r=g)),(c=this._yoyo&&1&s)&&(d=this._yEase,r=g-r),l=Lt(this._tTime,a),r===f&&!n&&this._initted&&s===l)return this._tTime=v,this;s!==l&&(h&&this._yEase&&Pe(h,c),this.vars.repeatRefresh&&!c&&!this._lock&&this._time!==a&&this._initted&&(this._lock=n=1,this.render(mt(a*s),!0).invalidate()._lock=0))}if(!this._initted){if(qt(this,m?t:r,n,e,v))return this._tTime=0,this;if(!(f===this._time||n&&this.vars.repeatRefresh&&s!==l))return this;if(g!==this._dur)return this.render(t,e,n)}if(this._tTime=v,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=u=(d||this._ease)(r/g),this._from&&(this.ratio=u=1-u),r&&!f&&!e&&!s&&(de(this,"onStart"),this._tTime!==v))return this;for(i=this._pt;i;)i.r(u,i.d),i=i._next;h&&h.render(t<0?t:h._dur*h._ease(r/this._dur),e,n)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(m&&Pt(this,t,0,n),de(this,"onUpdate")),this._repeat&&s!==l&&this.vars.onRepeat&&!e&&this.parent&&de(this,"onRepeat"),v!==this._tDur&&v||this._tTime!==v||(m&&!this._onUpdate&&Pt(this,t,0,!0),(t||!g)&&(v===this._tDur&&this._ts>0||!v&&this._ts<0)&&Mt(this,1),e||m&&!f||!(v||f||c)||(de(this,v===p?"onComplete":"onReverseComplete",!0),this._prom&&!(v<p&&this.timeScale()>0)&&this._prom()))}}else!function(t,e,n,r){var i,s,a,l=t.ratio,c=e<0||!e&&(!t._start&&jt(t)&&(t._initted||!Gt(t))||(t._ts<0||t._dp._ts<0)&&!Gt(t))?0:1,u=t._rDelay,h=0;if(u&&t._repeat&&(h=Qt(0,t._tDur,e),s=Lt(h,u),t._yoyo&&1&s&&(c=1-c),s!==Lt(t._tTime,u)&&(l=1-c,t.vars.repeatRefresh&&t._initted&&t.invalidate())),c!==l||o||r||t._zTime===E||!e&&t._zTime){if(!t._initted&&qt(t,e,r,n,h))return;for(a=t._zTime,t._zTime=e||(n?E:0),n||(n=e&&!a),t.ratio=c,t._from&&(c=1-c),t._time=0,t._tTime=h,i=t._pt;i;)i.r(c,i.d),i=i._next;e<0&&Pt(t,e,0,!0),t._onUpdate&&!n&&de(t,"onUpdate"),h&&t._repeat&&!n&&t.parent&&de(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===c&&(c&&Mt(t,1),n||o||(de(t,c?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,t,e,n);return this},n.targets=function(){return this._targets},n.invalidate=function(e){return(!e||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(e),t.prototype.invalidate.call(this,e)},n.resetTo=function(t,e,n,r,i){g||Se.wake(),this._ts||this.play();var s=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||He(this,s),function(t,e,n,r,i,s,o,a){var l,c,u,h,d=(t._pt&&t._ptCache||(t._ptCache={}))[e];if(!d)for(d=t._ptCache[e]=[],u=t._ptLookup,h=t._targets.length;h--;){if((l=u[h][e])&&l.d&&l.d._pt)for(l=l.d._pt;l&&l.p!==e&&l.fp!==e;)l=l._next;if(!l)return qe=1,t.vars[e]="+=0",He(t,o),qe=0,a?Q(e+" not eligible for reset"):1;d.push(l)}for(h=d.length;h--;)(l=(c=d[h])._pt||c).s=!r&&0!==r||i?l.s+(r||0)+s*l.c:r,l.c=n-l.s,c.e&&(c.e=gt(n)+Jt(c.e)),c.b&&(c.b=l.s+Jt(c.b))}(this,t,e,n,r,this._ease(s/this._dur),s,i)?this.resetTo(t,e,n,r,1):(Vt(this,0),this.parent||At(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e))return this._lazy=this._pt=0,this.parent?fe(this):this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,Ue&&!0!==Ue.vars.overwrite)._first||fe(this),this.parent&&n!==this.timeline.totalDuration()&&$t(this,this._dur*this.timeline._tDur/n,0,1),this}var r,i,s,o,a,l,c,u=this._targets,h=t?ee(t):u,d=this._ptLookup,f=this._pt;if((!e||"all"===e)&&function(t,e){for(var n=t.length,r=n===e.length;r&&n--&&t[n]===e[n];);return n<0}(u,h))return"all"===e&&(this._pt=0),fe(this);for(r=this._op=this._op||[],"all"!==e&&(M(e)&&(a={},pt(e,(function(t){return a[t]=1})),e=a),e=function(t,e){var n,r,i,s,o=t[0]?dt(t[0]).harness:0,a=o&&o.aliases;if(!a)return e;for(r in n=Ct({},e),a)if(r in n)for(i=(s=a[r].split(",")).length;i--;)n[s[i]]=n[r];return n}(u,e)),c=u.length;c--;)if(~h.indexOf(u[c]))for(a in i=d[c],"all"===e?(r[c]=e,o=i,s={}):(s=r[c]=r[c]||{},o=e),o)(l=i&&i[a])&&("kill"in l.d&&!0!==l.d.kill(a)||kt(this,l,"_pt"),delete i[a]),"all"!==s&&(s[a]=1);return this._initted&&!this._pt&&f&&fe(this),this},e.to=function(t,n){return new e(t,n,arguments[2])},e.from=function(t,e){return Yt(1,arguments)},e.delayedCall=function(t,n,r,i){return new e(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},e.fromTo=function(t,e,n){return Yt(2,arguments)},e.set=function(t,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new e(t,n)},e.killTweensOf=function(t,e,n){return l.killTweensOf(t,e,n)},e}(Be);Et(Qe.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),pt("staggerTo,staggerFrom,staggerFromTo",(function(t){Qe[t]=function(){var e=new ze,n=Zt.call(arguments,0);return n.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,n)}}));var Je=function(t,e,n){return t[e]=n},Ze=function(t,e,n){return t[e](n)},tn=function(t,e,n,r){return t[e](r.fp,n)},en=function(t,e,n){return t.setAttribute(e,n)},nn=function(t,e){return D(t[e])?Ze:O(t[e])&&t.setAttribute?en:Je},rn=function(t,e){return e.set(e.t,e.p,Math.round(1e6*(e.s+e.c*t))/1e6,e)},sn=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},on=function(t,e){var n=e._pt,r="";if(!t&&e.b)r=e.b;else if(1===t&&e.e)r=e.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*t):Math.round(1e4*(n.s+n.c*t))/1e4)+r,n=n._next;r+=e.c}e.set(e.t,e.p,r,e)},an=function(t,e){for(var n=e._pt;n;)n.r(t,n.d),n=n._next},ln=function(t,e,n,r){for(var i,s=this._pt;s;)i=s._next,s.p===r&&s.modifier(t,e,n),s=i},cn=function(t){for(var e,n,r=this._pt;r;)n=r._next,r.p===t&&!r.op||r.op===t?kt(this,r,"_pt"):r.dep||(e=1),r=n;return!e},un=function(t,e,n,r){r.mSet(t,e,r.m.call(r.tween,n,r.mt),r)},hn=function(t){for(var e,n,r,i,s=t._pt;s;){for(e=s._next,n=r;n&&n.pr>s.pr;)n=n._next;(s._prev=n?n._prev:i)?s._prev._next=s:r=s,(s._next=n)?n._prev=s:i=s,s=e}t._pt=r},dn=function(){function t(t,e,n,r,i,s,o,a,l){this.t=e,this.s=r,this.c=i,this.p=n,this.r=s||rn,this.d=o||this,this.set=a||Je,this.pr=l||0,this._next=t,t&&(t._prev=this)}return t.prototype.modifier=function(t,e,n){this.mSet=this.mSet||this.set,this.set=un,this.m=t,this.mt=n,this.tween=e},t}();pt(ut+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(t){return rt[t]=1})),K.TweenMax=K.TweenLite=Qe,K.TimelineLite=K.TimelineMax=ze,l=new ze({sortChildren:!1,defaults:b,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),_.stringFilter=Ce;var fn=[],pn={},gn=[],mn=0,vn=0,yn=function(t){return(pn[t]||gn).map((function(t){return t()}))},wn=function(){var t=Date.now(),e=[];t-mn>2&&(yn("matchMediaInit"),fn.forEach((function(t){var n,r,i,s,o=t.queries,a=t.conditions;for(r in o)(n=c.matchMedia(o[r]).matches)&&(i=1),n!==a[r]&&(a[r]=n,s=1);s&&(t.revert(),i&&e.push(t))})),yn("matchMediaRevert"),e.forEach((function(t){return t.onMatch(t,(function(e){return t.add(null,e)}))})),mn=t,yn("matchMedia"))},_n=function(){function t(t,e){this.selector=e&&ne(e),this.data=[],this._r=[],this.isReverted=!1,this.id=vn++,t&&this.add(t)}var e=t.prototype;return e.add=function(t,e,n){D(t)&&(n=e,e=t,t=D);var r=this,i=function(){var t,i=a,s=r.selector;return i&&i!==r&&i.data.push(r),n&&(r.selector=ne(n)),a=r,t=e.apply(r,arguments),D(t)&&r._r.push(t),a=i,r.selector=s,r.isReverted=!1,t};return r.last=i,t===D?i(r,(function(t){return r.add(null,t)})):t?r[t]=i:i},e.ignore=function(t){var e=a;a=null,t(this),a=e},e.getTweens=function(){var e=[];return this.data.forEach((function(n){return n instanceof t?e.push.apply(e,n.getTweens()):n instanceof Qe&&!(n.parent&&"nested"===n.parent.data)&&e.push(n)})),e},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(t,e){var n=this;if(t?function(){for(var e,r=n.getTweens(),i=n.data.length;i--;)"isFlip"===(e=n.data[i]).data&&(e.revert(),e.getChildren(!0,!0,!1).forEach((function(t){return r.splice(r.indexOf(t),1)})));for(r.map((function(t){return{g:t._dur||t._delay||t._sat&&!t._sat.vars.immediateRender?t.globalTime(0):-1/0,t}})).sort((function(t,e){return e.g-t.g||-1/0})).forEach((function(e){return e.t.revert(t)})),i=n.data.length;i--;)(e=n.data[i])instanceof ze?"nested"!==e.data&&(e.scrollTrigger&&e.scrollTrigger.revert(),e.kill()):!(e instanceof Qe)&&e.revert&&e.revert(t);n._r.forEach((function(e){return e(t,n)})),n.isReverted=!0}():this.data.forEach((function(t){return t.kill&&t.kill()})),this.clear(),e)for(var r=fn.length;r--;)fn[r].id===this.id&&fn.splice(r,1)},e.revert=function(t){this.kill(t||{})},t}(),bn=function(){function t(t){this.contexts=[],this.scope=t,a&&a.data.push(this)}var e=t.prototype;return e.add=function(t,e,n){N(t)||(t={matches:t});var r,i,s,o=new _n(0,n||this.scope),l=o.conditions={};for(i in a&&!o.selector&&(o.selector=a.selector),this.contexts.push(o),e=o.add("onMatch",e),o.queries=t,t)"all"===i?s=1:(r=c.matchMedia(t[i]))&&(fn.indexOf(o)<0&&fn.push(o),(l[i]=r.matches)&&(s=1),r.addListener?r.addListener(wn):r.addEventListener("change",wn));return s&&e(o,(function(t){return o.add(null,t)})),this},e.revert=function(t){this.kill(t||{})},e.kill=function(t){this.contexts.forEach((function(e){return e.kill(t,!0)}))},t}(),Tn={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach((function(t){return ge(t)}))},timeline:function(t){return new ze(t)},getTweensOf:function(t,e){return l.getTweensOf(t,e)},getProperty:function(t,e,n,r){M(t)&&(t=ee(t)[0]);var i=dt(t||{}).get,s=n?Tt:bt;return"native"===n&&(n=""),t?e?s((ot[e]&&ot[e].get||i)(t,e,n,r)):function(e,n,r){return s((ot[e]&&ot[e].get||i)(t,e,n,r))}:t},quickSetter:function(t,e,n){if((t=ee(t)).length>1){var r=t.map((function(t){return Sn.quickSetter(t,e,n)})),i=r.length;return function(t){for(var e=i;e--;)r[e](t)}}t=t[0]||{};var s=ot[e],o=dt(t),a=o.harness&&(o.harness.aliases||{})[e]||e,l=s?function(e){var r=new s;p._pt=0,r.init(t,n?e+n:e,p,0,[t]),r.render(1,r),p._pt&&an(1,p)}:o.set(t,a);return s?l:function(e){return l(t,a,n?e+n:e,o,1)}},quickTo:function(t,e,n){var r,i=Sn.to(t,Ct(((r={})[e]="+=0.1",r.paused=!0,r),n||{})),s=function(t,n,r){return i.resetTo(e,t,n,r)};return s.tween=i,s},isTweening:function(t){return l.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=Oe(t.ease,b.ease)),St(b,t||{})},config:function(t){return St(_,t||{})},registerEffect:function(t){var e=t.name,n=t.effect,r=t.plugins,i=t.defaults,s=t.extendTimeline;(r||"").split(",").forEach((function(t){return t&&!ot[t]&&!K[t]&&Q(e+" effect requires "+t+" plugin.")})),at[e]=function(t,e,r){return n(ee(t),Et(e||{},i),r)},s&&(ze.prototype[e]=function(t,n,r){return this.add(at[e](t,N(n)?n:(r=n)&&{},this),r)})},registerEase:function(t,e){Ie[t]=Oe(e)},parseEase:function(t,e){return arguments.length?Oe(t,e):Ie},getById:function(t){return l.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var n,r,i=new ze(t);for(i.smoothChildTiming=L(t.smoothChildTiming),l.remove(i),i._dp=0,i._time=i._tTime=l._time,n=l._first;n;)r=n._next,!e&&!n._dur&&n instanceof Qe&&n.vars.onComplete===n._targets[0]||zt(i,n,n._start-n._delay),n=r;return zt(l,i,0),i},context:function(t,e){return t?new _n(t,e):a},matchMedia:function(t){return new bn(t)},matchMediaRefresh:function(){return fn.forEach((function(t){var e,n,r=t.conditions;for(n in r)r[n]&&(r[n]=!1,e=1);e&&t.revert()}))||wn()},addEventListener:function(t,e){var n=pn[t]||(pn[t]=[]);~n.indexOf(e)||n.push(e)},removeEventListener:function(t,e){var n=pn[t],r=n&&n.indexOf(e);r>=0&&n.splice(r,1)},utils:{wrap:function t(e,n,r){var i=n-e;return B(e)?le(e,t(0,e.length),n):Xt(r,(function(t){return(i+(t-e)%i)%i+e}))},wrapYoyo:function t(e,n,r){var i=n-e,s=2*i;return B(e)?le(e,t(0,e.length-1),n):Xt(r,(function(t){return e+((t=(s+(t-e)%s)%s||0)>i?s-t:t)}))},distribute:ie,random:ae,snap:oe,normalize:function(t,e,n){return ue(t,e,0,1,n)},getUnit:Jt,clamp:function(t,e,n){return Xt(n,(function(n){return Qt(t,e,n)}))},splitColor:we,toArray:ee,selector:ne,mapRange:ue,pipe:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduce((function(t,e){return e(t)}),t)}},unitize:function(t,e){return function(n){return t(parseFloat(n))+(e||Jt(n))}},interpolate:function t(e,n,r,i){var s=isNaN(e+n)?0:function(t){return(1-t)*e+t*n};if(!s){var o,a,l,c,u,h=M(e),d={};if(!0===r&&(i=1)&&(r=null),h)e={p:e},n={p:n};else if(B(e)&&!B(n)){for(l=[],c=e.length,u=c-2,a=1;a<c;a++)l.push(t(e[a-1],e[a]));c--,s=function(t){t*=c;var e=Math.min(u,~~t);return l[e](t-e)},r=n}else i||(e=Ct(B(e)?[]:{},e));if(!l){for(o in n)Ge.call(d,e,o,"get",n[o]);s=function(t){return an(t,d)||(h?e.p:e)}}}return Xt(r,s)},shuffle:re},install:Y,effects:at,ticker:Se,updateRoot:ze.updateRoot,plugins:ot,globalTimeline:l,core:{PropTween:dn,globals:J,Tween:Qe,Timeline:ze,Animation:Be,getCache:dt,_removeLinkedListItem:kt,reverting:function(){return o},context:function(t){return t&&a&&(a.data.push(t),t._ctx=a),a},suppressOverwrites:function(t){return s=t}}};pt("to,from,fromTo,delayedCall,set,killTweensOf",(function(t){return Tn[t]=Qe[t]})),Se.add(ze.updateRoot),p=Tn.to({},{duration:0});var En=function(t,e){for(var n=t._pt;n&&n.p!==e&&n.op!==e&&n.fp!==e;)n=n._next;return n},Cn=function(t,e){return{name:t,rawVars:1,init:function(t,n,r){r._onInit=function(t){var r,i;if(M(n)&&(r={},pt(n,(function(t){return r[t]=1})),n=r),e){for(i in r={},n)r[i]=e(n[i]);n=r}!function(t,e){var n,r,i,s=t._targets;for(n in e)for(r=s.length;r--;)(i=t._ptLookup[r][n])&&(i=i.d)&&(i._pt&&(i=En(i,n)),i&&i.modifier&&i.modifier(e[n],t,s[r],n))}(t,n)}}}},Sn=Tn.registerPlugin({name:"attr",init:function(t,e,n,r,i){var s,o,a;for(s in this.tween=n,e)a=t.getAttribute(s)||"",(o=this.add(t,"setAttribute",(a||0)+"",e[s],r,i,0,0,s)).op=s,o.b=a,this._props.push(s)},render:function(t,e){for(var n=e._pt;n;)o?n.set(n.t,n.p,n.b,n):n.r(t,n.d),n=n._next}},{name:"endArray",init:function(t,e){for(var n=e.length;n--;)this.add(t,n,t[n]||0,e[n],0,0,0,0,0,1)}},Cn("roundProps",se),Cn("modifiers"),Cn("snap",oe))||Tn;Qe.version=ze.version=Sn.version="3.12.5",d=1,R()&&xe(),Ie.Power0,Ie.Power1,Ie.Power2,Ie.Power3,Ie.Power4,Ie.Linear,Ie.Quad,Ie.Cubic,Ie.Quart,Ie.Quint,Ie.Strong,Ie.Elastic,Ie.Back,Ie.SteppedEase,Ie.Bounce,Ie.Sine,Ie.Expo,Ie.Circ;var xn,In,An,kn,Mn,Dn,Pn,On,Nn={},Ln=180/Math.PI,Rn=Math.PI/180,Fn=Math.atan2,Vn=/([A-Z])/g,Bn=/(left|right|width|margin|padding|x)/i,zn=/[\s,\(]\S/,Un={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},qn=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},jn=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},Gn=function(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},$n=function(t,e){var n=e.s+e.c*t;e.set(e.t,e.p,~~(n+(n<0?-.5:.5))+e.u,e)},Hn=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},Kn=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},Wn=function(t,e,n){return t.style[e]=n},Yn=function(t,e,n){return t.style.setProperty(e,n)},Xn=function(t,e,n){return t._gsap[e]=n},Qn=function(t,e,n){return t._gsap.scaleX=t._gsap.scaleY=n},Jn=function(t,e,n,r,i){var s=t._gsap;s.scaleX=s.scaleY=n,s.renderTransform(i,s)},Zn=function(t,e,n,r,i){var s=t._gsap;s[e]=n,s.renderTransform(i,s)},tr="transform",er=tr+"Origin",nr=function t(e,n){var r=this,i=this.target,s=i.style,o=i._gsap;if(e in Nn&&s){if(this.tfm=this.tfm||{},"transform"===e)return Un.transform.split(",").forEach((function(e){return t.call(r,e,n)}));if(~(e=Un[e]||e).indexOf(",")?e.split(",").forEach((function(t){return r.tfm[t]=_r(i,t)})):this.tfm[e]=o.x?o[e]:_r(i,e),e===er&&(this.tfm.zOrigin=o.zOrigin),this.props.indexOf(tr)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(er,n,"")),e=tr}(s||n)&&this.props.push(e,n,s[e])},rr=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},ir=function(){var t,e,n=this.props,r=this.target,i=r.style,s=r._gsap;for(t=0;t<n.length;t+=3)n[t+1]?r[n[t]]=n[t+2]:n[t+2]?i[n[t]]=n[t+2]:i.removeProperty("--"===n[t].substr(0,2)?n[t]:n[t].replace(Vn,"-$1").toLowerCase());if(this.tfm){for(e in this.tfm)s[e]=this.tfm[e];s.svg&&(s.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),(t=Pn())&&t.isStart||i[tr]||(rr(i),s.zOrigin&&i[er]&&(i[er]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},sr=function(t,e){var n={target:t,props:[],revert:ir,save:nr};return t._gsap||Sn.core.getCache(t),e&&e.split(",").forEach((function(t){return n.save(t)})),n},or=function(t,e){var n=In.createElementNS?In.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):In.createElement(t);return n&&n.style?n:In.createElement(t)},ar=function t(e,n,r){var i=getComputedStyle(e);return i[n]||i.getPropertyValue(n.replace(Vn,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&t(e,cr(n)||n,1)||""},lr="O,Moz,ms,Ms,Webkit".split(","),cr=function(t,e,n){var r=(e||Mn).style,i=5;if(t in r&&!n)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);i--&&!(lr[i]+t in r););return i<0?null:(3===i?"ms":i>=0?lr[i]:"")+t},ur=function(){"undefined"!=typeof window&&window.document&&(xn=window,In=xn.document,An=In.documentElement,Mn=or("div")||{style:{}},or("div"),tr=cr(tr),er=tr+"Origin",Mn.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",On=!!cr("perspective"),Pn=Sn.core.reverting,kn=1)},hr=function t(e){var n,r=or("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,s=this.nextSibling,o=this.style.cssText;if(An.appendChild(r),r.appendChild(this),this.style.display="block",e)try{n=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch(t){}else this._gsapBBox&&(n=this._gsapBBox());return i&&(s?i.insertBefore(this,s):i.appendChild(this)),An.removeChild(r),this.style.cssText=o,n},dr=function(t,e){for(var n=e.length;n--;)if(t.hasAttribute(e[n]))return t.getAttribute(e[n])},fr=function(t){var e;try{e=t.getBBox()}catch(n){e=hr.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===hr||(e=hr.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+dr(t,["x","cx","x1"])||0,y:+dr(t,["y","cy","y1"])||0,width:0,height:0}},pr=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!fr(t))},gr=function(t,e){if(e){var n,r=t.style;e in Nn&&e!==er&&(e=tr),r.removeProperty?("ms"!==(n=e.substr(0,2))&&"webkit"!==e.substr(0,6)||(e="-"+e),r.removeProperty("--"===n?e:e.replace(Vn,"-$1").toLowerCase())):r.removeAttribute(e)}},mr=function(t,e,n,r,i,s){var o=new dn(t._pt,e,n,0,1,s?Kn:Hn);return t._pt=o,o.b=r,o.e=i,t._props.push(n),o},vr={deg:1,rad:1,turn:1},yr={grid:1,flex:1},wr=function t(e,n,r,i){var s,o,a,l,c=parseFloat(r)||0,u=(r+"").trim().substr((c+"").length)||"px",h=Mn.style,d=Bn.test(n),f="svg"===e.tagName.toLowerCase(),p=(f?"client":"offset")+(d?"Width":"Height"),g=100,m="px"===i,v="%"===i;if(i===u||!c||vr[i]||vr[u])return c;if("px"!==u&&!m&&(c=t(e,n,r,"px")),l=e.getCTM&&pr(e),(v||"%"===u)&&(Nn[n]||~n.indexOf("adius")))return s=l?e.getBBox()[d?"width":"height"]:e[p],gt(v?c/s*g:c/100*s);if(h[d?"width":"height"]=g+(m?u:i),o=~n.indexOf("adius")||"em"===i&&e.appendChild&&!f?e:e.parentNode,l&&(o=(e.ownerSVGElement||{}).parentNode),o&&o!==In&&o.appendChild||(o=In.body),(a=o._gsap)&&v&&a.width&&d&&a.time===Se.time&&!a.uncache)return gt(c/a.width*g);if(!v||"height"!==n&&"width"!==n)(v||"%"===u)&&!yr[ar(o,"display")]&&(h.position=ar(e,"position")),o===e&&(h.position="static"),o.appendChild(Mn),s=Mn[p],o.removeChild(Mn),h.position="absolute";else{var y=e.style[n];e.style[n]=g+i,s=e[p],y?e.style[n]=y:gr(e,n)}return d&&v&&((a=dt(o)).time=Se.time,a.width=o[p]),gt(m?s*c/g:s&&c?g/s*c:0)},_r=function(t,e,n,r){var i;return kn||ur(),e in Un&&"transform"!==e&&~(e=Un[e]).indexOf(",")&&(e=e.split(",")[0]),Nn[e]&&"transform"!==e?(i=Dr(t,r),i="transformOrigin"!==e?i[e]:i.svg?i.origin:Pr(ar(t,er))+" "+i.zOrigin+"px"):(!(i=t.style[e])||"auto"===i||r||~(i+"").indexOf("calc("))&&(i=Cr[e]&&Cr[e](t,e,n)||ar(t,e)||ft(t,e)||("opacity"===e?1:0)),n&&!~(i+"").trim().indexOf(" ")?wr(t,e,i,n)+n:i},br=function(t,e,n,r){if(!n||"none"===n){var i=cr(e,t,1),s=i&&ar(t,i,1);s&&s!==n?(e=i,n=s):"borderColor"===e&&(n=ar(t,"borderTopColor"))}var o,a,l,c,u,h,d,f,p,g,m,v=new dn(this._pt,t.style,e,0,1,on),y=0,w=0;if(v.b=n,v.e=r,n+="","auto"==(r+="")&&(h=t.style[e],t.style[e]=r,r=ar(t,e)||r,h?t.style[e]=h:gr(t,e)),Ce(o=[n,r]),r=o[1],l=(n=o[0]).match(q)||[],(r.match(q)||[]).length){for(;a=q.exec(r);)d=a[0],p=r.substring(y,a.index),u?u=(u+1)%5:"rgba("!==p.substr(-5)&&"hsla("!==p.substr(-5)||(u=1),d!==(h=l[w++]||"")&&(c=parseFloat(h)||0,m=h.substr((c+"").length),"="===d.charAt(1)&&(d=vt(c,d)+m),f=parseFloat(d),g=d.substr((f+"").length),y=q.lastIndex-g.length,g||(g=g||_.units[e]||m,y===r.length&&(r+=g,v.e+=g)),m!==g&&(c=wr(t,e,h,g)||0),v._pt={_next:v._pt,p:p||1===w?p:",",s:c,c:f-c,m:u&&u<4||"zIndex"===e?Math.round:0});v.c=y<r.length?r.substring(y,r.length):""}else v.r="display"===e&&"none"===r?Kn:Hn;return G.test(r)&&(v.e=0),this._pt=v,v},Tr={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Er=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var n,r,i,s=e.t,o=s.style,a=e.u,l=s._gsap;if("all"===a||!0===a)o.cssText="",r=1;else for(i=(a=a.split(",")).length;--i>-1;)n=a[i],Nn[n]&&(r=1,n="transformOrigin"===n?er:tr),gr(s,n);r&&(gr(s,tr),l&&(l.svg&&s.removeAttribute("transform"),Dr(s,1),l.uncache=1,rr(o)))}},Cr={clearProps:function(t,e,n,r,i){if("isFromStart"!==i.data){var s=t._pt=new dn(t._pt,e,n,0,0,Er);return s.u=r,s.pr=-10,s.tween=i,t._props.push(n),1}}},Sr=[1,0,0,1,0,0],xr={},Ir=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},Ar=function(t){var e=ar(t,tr);return Ir(e)?Sr:e.substr(7).match(U).map(gt)},kr=function(t,e){var n,r,i,s,o=t._gsap||dt(t),a=t.style,l=Ar(t);return o.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(i=t.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?Sr:l:(l!==Sr||t.offsetParent||t===An||o.svg||(i=a.display,a.display="block",(n=t.parentNode)&&t.offsetParent||(s=1,r=t.nextElementSibling,An.appendChild(t)),l=Ar(t),i?a.display=i:gr(t,"display"),s&&(r?n.insertBefore(t,r):n?n.appendChild(t):An.removeChild(t))),e&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},Mr=function(t,e,n,r,i,s){var o,a,l,c=t._gsap,u=i||kr(t,!0),h=c.xOrigin||0,d=c.yOrigin||0,f=c.xOffset||0,p=c.yOffset||0,g=u[0],m=u[1],v=u[2],y=u[3],w=u[4],_=u[5],b=e.split(" "),T=parseFloat(b[0])||0,E=parseFloat(b[1])||0;n?u!==Sr&&(a=g*y-m*v)&&(l=T*(-m/a)+E*(g/a)-(g*_-m*w)/a,T=T*(y/a)+E*(-v/a)+(v*_-y*w)/a,E=l):(T=(o=fr(t)).x+(~b[0].indexOf("%")?T/100*o.width:T),E=o.y+(~(b[1]||b[0]).indexOf("%")?E/100*o.height:E)),r||!1!==r&&c.smooth?(w=T-h,_=E-d,c.xOffset=f+(w*g+_*v)-w,c.yOffset=p+(w*m+_*y)-_):c.xOffset=c.yOffset=0,c.xOrigin=T,c.yOrigin=E,c.smooth=!!r,c.origin=e,c.originIsAbsolute=!!n,t.style[er]="0px 0px",s&&(mr(s,c,"xOrigin",h,T),mr(s,c,"yOrigin",d,E),mr(s,c,"xOffset",f,c.xOffset),mr(s,c,"yOffset",p,c.yOffset)),t.setAttribute("data-svg-origin",T+" "+E)},Dr=function(t,e){var n=t._gsap||new Ve(t);if("x"in n&&!e&&!n.uncache)return n;var r,i,s,o,a,l,c,u,h,d,f,p,g,m,v,y,w,b,T,E,C,S,x,I,A,k,M,D,P,O,N,L,R=t.style,F=n.scaleX<0,V="px",B="deg",z=getComputedStyle(t),U=ar(t,er)||"0";return r=i=s=l=c=u=h=d=f=0,o=a=1,n.svg=!(!t.getCTM||!pr(t)),z.translate&&("none"===z.translate&&"none"===z.scale&&"none"===z.rotate||(R[tr]=("none"!==z.translate?"translate3d("+(z.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==z.rotate?"rotate("+z.rotate+") ":"")+("none"!==z.scale?"scale("+z.scale.split(" ").join(",")+") ":"")+("none"!==z[tr]?z[tr]:"")),R.scale=R.rotate=R.translate="none"),m=kr(t,n.svg),n.svg&&(n.uncache?(A=t.getBBox(),U=n.xOrigin-A.x+"px "+(n.yOrigin-A.y)+"px",I=""):I=!e&&t.getAttribute("data-svg-origin"),Mr(t,I||U,!!I||n.originIsAbsolute,!1!==n.smooth,m)),p=n.xOrigin||0,g=n.yOrigin||0,m!==Sr&&(b=m[0],T=m[1],E=m[2],C=m[3],r=S=m[4],i=x=m[5],6===m.length?(o=Math.sqrt(b*b+T*T),a=Math.sqrt(C*C+E*E),l=b||T?Fn(T,b)*Ln:0,(h=E||C?Fn(E,C)*Ln+l:0)&&(a*=Math.abs(Math.cos(h*Rn))),n.svg&&(r-=p-(p*b+g*E),i-=g-(p*T+g*C))):(L=m[6],O=m[7],M=m[8],D=m[9],P=m[10],N=m[11],r=m[12],i=m[13],s=m[14],c=(v=Fn(L,P))*Ln,v&&(I=S*(y=Math.cos(-v))+M*(w=Math.sin(-v)),A=x*y+D*w,k=L*y+P*w,M=S*-w+M*y,D=x*-w+D*y,P=L*-w+P*y,N=O*-w+N*y,S=I,x=A,L=k),u=(v=Fn(-E,P))*Ln,v&&(y=Math.cos(-v),N=C*(w=Math.sin(-v))+N*y,b=I=b*y-M*w,T=A=T*y-D*w,E=k=E*y-P*w),l=(v=Fn(T,b))*Ln,v&&(I=b*(y=Math.cos(v))+T*(w=Math.sin(v)),A=S*y+x*w,T=T*y-b*w,x=x*y-S*w,b=I,S=A),c&&Math.abs(c)+Math.abs(l)>359.9&&(c=l=0,u=180-u),o=gt(Math.sqrt(b*b+T*T+E*E)),a=gt(Math.sqrt(x*x+L*L)),v=Fn(S,x),h=Math.abs(v)>2e-4?v*Ln:0,f=N?1/(N<0?-N:N):0),n.svg&&(I=t.getAttribute("transform"),n.forceCSS=t.setAttribute("transform","")||!Ir(ar(t,tr)),I&&t.setAttribute("transform",I))),Math.abs(h)>90&&Math.abs(h)<270&&(F?(o*=-1,h+=l<=0?180:-180,l+=l<=0?180:-180):(a*=-1,h+=h<=0?180:-180)),e=e||n.uncache,n.x=r-((n.xPercent=r&&(!e&&n.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-r)?-50:0)))?t.offsetWidth*n.xPercent/100:0)+V,n.y=i-((n.yPercent=i&&(!e&&n.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-i)?-50:0)))?t.offsetHeight*n.yPercent/100:0)+V,n.z=s+V,n.scaleX=gt(o),n.scaleY=gt(a),n.rotation=gt(l)+B,n.rotationX=gt(c)+B,n.rotationY=gt(u)+B,n.skewX=h+B,n.skewY=d+B,n.transformPerspective=f+V,(n.zOrigin=parseFloat(U.split(" ")[2])||!e&&n.zOrigin||0)&&(R[er]=Pr(U)),n.xOffset=n.yOffset=0,n.force3D=_.force3D,n.renderTransform=n.svg?Br:On?Vr:Nr,n.uncache=0,n},Pr=function(t){return(t=t.split(" "))[0]+" "+t[1]},Or=function(t,e,n){var r=Jt(e);return gt(parseFloat(e)+parseFloat(wr(t,"x",n+"px",r)))+r},Nr=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,Vr(t,e)},Lr="0deg",Rr="0px",Fr=") ",Vr=function(t,e){var n=e||this,r=n.xPercent,i=n.yPercent,s=n.x,o=n.y,a=n.z,l=n.rotation,c=n.rotationY,u=n.rotationX,h=n.skewX,d=n.skewY,f=n.scaleX,p=n.scaleY,g=n.transformPerspective,m=n.force3D,v=n.target,y=n.zOrigin,w="",_="auto"===m&&t&&1!==t||!0===m;if(y&&(u!==Lr||c!==Lr)){var b,T=parseFloat(c)*Rn,E=Math.sin(T),C=Math.cos(T);T=parseFloat(u)*Rn,b=Math.cos(T),s=Or(v,s,E*b*-y),o=Or(v,o,-Math.sin(T)*-y),a=Or(v,a,C*b*-y+y)}g!==Rr&&(w+="perspective("+g+Fr),(r||i)&&(w+="translate("+r+"%, "+i+"%) "),(_||s!==Rr||o!==Rr||a!==Rr)&&(w+=a!==Rr||_?"translate3d("+s+", "+o+", "+a+") ":"translate("+s+", "+o+Fr),l!==Lr&&(w+="rotate("+l+Fr),c!==Lr&&(w+="rotateY("+c+Fr),u!==Lr&&(w+="rotateX("+u+Fr),h===Lr&&d===Lr||(w+="skew("+h+", "+d+Fr),1===f&&1===p||(w+="scale("+f+", "+p+Fr),v.style[tr]=w||"translate(0, 0)"},Br=function(t,e){var n,r,i,s,o,a=e||this,l=a.xPercent,c=a.yPercent,u=a.x,h=a.y,d=a.rotation,f=a.skewX,p=a.skewY,g=a.scaleX,m=a.scaleY,v=a.target,y=a.xOrigin,w=a.yOrigin,_=a.xOffset,b=a.yOffset,T=a.forceCSS,E=parseFloat(u),C=parseFloat(h);d=parseFloat(d),f=parseFloat(f),(p=parseFloat(p))&&(f+=p=parseFloat(p),d+=p),d||f?(d*=Rn,f*=Rn,n=Math.cos(d)*g,r=Math.sin(d)*g,i=Math.sin(d-f)*-m,s=Math.cos(d-f)*m,f&&(p*=Rn,o=Math.tan(f-p),i*=o=Math.sqrt(1+o*o),s*=o,p&&(o=Math.tan(p),n*=o=Math.sqrt(1+o*o),r*=o)),n=gt(n),r=gt(r),i=gt(i),s=gt(s)):(n=g,s=m,r=i=0),(E&&!~(u+"").indexOf("px")||C&&!~(h+"").indexOf("px"))&&(E=wr(v,"x",u,"px"),C=wr(v,"y",h,"px")),(y||w||_||b)&&(E=gt(E+y-(y*n+w*i)+_),C=gt(C+w-(y*r+w*s)+b)),(l||c)&&(o=v.getBBox(),E=gt(E+l/100*o.width),C=gt(C+c/100*o.height)),o="matrix("+n+","+r+","+i+","+s+","+E+","+C+")",v.setAttribute("transform",o),T&&(v.style[tr]=o)},zr=function(t,e,n,r,i){var s,o,a=360,l=M(i),c=parseFloat(i)*(l&&~i.indexOf("rad")?Ln:1)-r,u=r+c+"deg";return l&&("short"===(s=i.split("_")[1])&&(c%=a)!=c%180&&(c+=c<0?a:-360),"cw"===s&&c<0?c=(c+36e9)%a-~~(c/a)*a:"ccw"===s&&c>0&&(c=(c-36e9)%a-~~(c/a)*a)),t._pt=o=new dn(t._pt,e,n,r,c,jn),o.e=u,o.u="deg",t._props.push(n),o},Ur=function(t,e){for(var n in e)t[n]=e[n];return t},qr=function(t,e,n){var r,i,s,o,a,l,c,u=Ur({},n._gsap),h=n.style;for(i in u.svg?(s=n.getAttribute("transform"),n.setAttribute("transform",""),h[tr]=e,r=Dr(n,1),gr(n,tr),n.setAttribute("transform",s)):(s=getComputedStyle(n)[tr],h[tr]=e,r=Dr(n,1),h[tr]=s),Nn)(s=u[i])!==(o=r[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(a=Jt(s)!==(c=Jt(o))?wr(n,i,s,c):parseFloat(s),l=parseFloat(o),t._pt=new dn(t._pt,r,i,a,l-a,qn),t._pt.u=c||0,t._props.push(i));Ur(r,u)};pt("padding,margin,Width,Radius",(function(t,e){var n="Top",r="Right",i="Bottom",s="Left",o=(e<3?[n,r,i,s]:[n+s,n+r,i+r,i+s]).map((function(n){return e<2?t+n:"border"+n+t}));Cr[e>1?"border"+t:t]=function(t,e,n,r,i){var s,a;if(arguments.length<4)return s=o.map((function(e){return _r(t,e,n)})),5===(a=s.join(" ")).split(s[0]).length?s[0]:a;s=(r+"").split(" "),a={},o.forEach((function(t,e){return a[t]=s[e]=s[e]||s[(e-1)/2|0]})),t.init(e,a,i)}}));var jr,Gr,$r={name:"css",register:ur,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,n,r,i){var s,o,a,l,c,u,h,d,f,p,g,m,v,y,w,b,T,E,C,S,x=this._props,I=t.style,A=n.vars.startAt;for(h in kn||ur(),this.styles=this.styles||sr(t),b=this.styles.props,this.tween=n,e)if("autoRound"!==h&&(o=e[h],!ot[h]||!$e(h,e,n,r,t,i)))if(c=typeof o,u=Cr[h],"function"===c&&(c=typeof(o=o.call(n,r,t,i))),"string"===c&&~o.indexOf("random(")&&(o=ce(o)),u)u(this,t,h,o,n)&&(w=1);else if("--"===h.substr(0,2))s=(getComputedStyle(t).getPropertyValue(h)+"").trim(),o+="",Te.lastIndex=0,Te.test(s)||(d=Jt(s),f=Jt(o)),f?d!==f&&(s=wr(t,h,s,f)+f):d&&(o+=d),this.add(I,"setProperty",s,o,r,i,0,0,h),x.push(h),b.push(h,0,I[h]);else if("undefined"!==c){if(A&&h in A?(s="function"==typeof A[h]?A[h].call(n,r,t,i):A[h],M(s)&&~s.indexOf("random(")&&(s=ce(s)),Jt(s+"")||"auto"===s||(s+=_.units[h]||Jt(_r(t,h))||""),"="===(s+"").charAt(1)&&(s=_r(t,h))):s=_r(t,h),l=parseFloat(s),(p="string"===c&&"="===o.charAt(1)&&o.substr(0,2))&&(o=o.substr(2)),a=parseFloat(o),h in Un&&("autoAlpha"===h&&(1===l&&"hidden"===_r(t,"visibility")&&a&&(l=0),b.push("visibility",0,I.visibility),mr(this,I,"visibility",l?"inherit":"hidden",a?"inherit":"hidden",!a)),"scale"!==h&&"transform"!==h&&~(h=Un[h]).indexOf(",")&&(h=h.split(",")[0])),g=h in Nn)if(this.styles.save(h),m||((v=t._gsap).renderTransform&&!e.parseTransform||Dr(t,e.parseTransform),y=!1!==e.smoothOrigin&&v.smooth,(m=this._pt=new dn(this._pt,I,tr,0,1,v.renderTransform,v,0,-1)).dep=1),"scale"===h)this._pt=new dn(this._pt,v,"scaleY",v.scaleY,(p?vt(v.scaleY,p+a):a)-v.scaleY||0,qn),this._pt.u=0,x.push("scaleY",h),h+="X";else{if("transformOrigin"===h){b.push(er,0,I[er]),E=void 0,C=void 0,S=void 0,C=(E=(T=o).split(" "))[0],S=E[1]||"50%","top"!==C&&"bottom"!==C&&"left"!==S&&"right"!==S||(T=C,C=S,S=T),E[0]=Tr[C]||C,E[1]=Tr[S]||S,o=E.join(" "),v.svg?Mr(t,o,0,y,0,this):((f=parseFloat(o.split(" ")[2])||0)!==v.zOrigin&&mr(this,v,"zOrigin",v.zOrigin,f),mr(this,I,h,Pr(s),Pr(o)));continue}if("svgOrigin"===h){Mr(t,o,1,y,0,this);continue}if(h in xr){zr(this,v,h,l,p?vt(l,p+o):o);continue}if("smoothOrigin"===h){mr(this,v,"smooth",v.smooth,o);continue}if("force3D"===h){v[h]=o;continue}if("transform"===h){qr(this,o,t);continue}}else h in I||(h=cr(h)||h);if(g||(a||0===a)&&(l||0===l)&&!zn.test(o)&&h in I)a||(a=0),(d=(s+"").substr((l+"").length))!==(f=Jt(o)||(h in _.units?_.units[h]:d))&&(l=wr(t,h,s,f)),this._pt=new dn(this._pt,g?v:I,h,l,(p?vt(l,p+a):a)-l,g||"px"!==f&&"zIndex"!==h||!1===e.autoRound?qn:$n),this._pt.u=f||0,d!==f&&"%"!==f&&(this._pt.b=s,this._pt.r=Gn);else if(h in I)br.call(this,t,h,s,p?p+o:o);else if(h in t)this.add(t,h,s||t[h],p?p+o:o,r,i);else if("parseTransform"!==h){X(h,o);continue}g||(h in I?b.push(h,0,I[h]):b.push(h,1,s||t[h])),x.push(h)}w&&hn(this)},render:function(t,e){if(e.tween._time||!Pn())for(var n=e._pt;n;)n.r(t,n.d),n=n._next;else e.styles.revert()},get:_r,aliases:Un,getSetter:function(t,e,n){var r=Un[e];return r&&r.indexOf(",")<0&&(e=r),e in Nn&&e!==er&&(t._gsap.x||_r(t,"x"))?n&&Dn===n?"scale"===e?Qn:Xn:(Dn=n||{})&&("scale"===e?Jn:Zn):t.style&&!O(t.style[e])?Wn:~e.indexOf("-")?Yn:nn(t,e)},core:{_removeProperty:gr,_getMatrix:kr}};Sn.utils.checkPrefix=cr,Sn.core.getStyleSaver=sr,Gr=pt("x,y,z,scale,scaleX,scaleY,xPercent,yPercent"+","+(jr="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(t){Nn[t]=1})),pt(jr,(function(t){_.units[t]="deg",xr[t]=1})),Un[Gr[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+jr,pt("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(t){var e=t.split(":");Un[e[1]]=Gr[e[0]]})),pt("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(t){_.units[t]="px"})),Sn.registerPlugin($r);var Hr=Sn.registerPlugin($r)||Sn;Hr.core.Tween},575:t=>{t.exports='<svg viewBox="0 0 150 150" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M125 112.5C125 126.307 102.614 137.5 75 137.5C47.3857 137.5 25 126.307 25 112.5V87.3375C28.1388 91.1913 32.5934 94.3931 37.5484 96.87C47.3752 101.784 60.6229 104.688 75 104.688C89.3769 104.688 102.625 101.784 112.452 96.87C117.407 94.3931 121.861 91.1913 125 87.3375V112.5Z" fill="white"></path><path d="M75 67.1875C89.3769 67.1875 102.625 64.2837 112.452 59.3703C117.407 56.8928 121.861 53.6912 125 49.8373V75C125 78.125 113.839 84.9443 108.259 88.485C99.9894 92.62 88.2375 95.3125 75 95.3125C61.7628 95.3125 50.0105 92.62 41.741 88.485C34.375 84.8018 25 78.125 25 75V49.8373C28.1388 53.6912 32.5934 56.8928 37.5484 59.3703C47.3752 64.2837 60.6229 67.1875 75 67.1875Z" fill="white"></path><path d="M108.259 50.9851C99.9894 55.1198 88.2375 57.8125 75 57.8125C61.7628 57.8125 50.0105 55.1198 41.741 50.9851C38.524 49.7248 31.2898 45.7183 26.2594 39.2459C25.4034 38.1446 25.036 36.7408 25.2493 35.3624C25.3927 34.4356 25.5925 33.4809 25.8486 32.8891C30.176 21.2846 50.5363 12.5 75 12.5C99.4638 12.5 119.824 21.2846 124.151 32.8891C124.408 33.4809 124.608 34.4356 124.751 35.3624C124.964 36.7408 124.597 38.1446 123.741 39.2459C118.71 45.7183 111.476 49.7248 108.259 50.9851Z" fill="white"></path></svg>'},892:t=>{t.exports='<svg viewBox="0 0 150 150" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M87.0391 118.934C86.4391 118.133 85.7538 117.556 84.9883 117.202C84.2228 116.847 83.4159 116.672 82.565 116.672C81.6935 116.672 80.8633 116.834 80.0719 117.165C79.2805 117.497 78.5745 118.055 77.9512 118.844C77.3279 119.633 76.8366 120.652 76.4848 121.903C76.1305 123.153 75.9417 124.684 75.9185 126.499C75.9417 128.268 76.1254 129.776 76.4667 131.025C76.8081 132.274 77.2788 133.293 77.8814 134.084C78.484 134.876 79.1667 135.45 79.9323 135.817C80.6978 136.184 81.5047 136.365 82.3555 136.365C83.2271 136.365 84.0572 136.195 84.8486 135.853C85.64 135.512 86.346 134.951 86.9693 134.175C87.5926 133.399 88.084 132.378 88.4357 131.115C88.7874 129.853 88.9788 128.317 89.0021 126.502C88.9788 124.733 88.7952 123.23 88.4538 121.994C88.1124 120.758 87.6417 119.736 87.0391 118.934Z" fill="white"></path><path d="M133.19 100.862V36.15C133.19 34.169 132.952 32.7026 131.767 31.5155L101.672 1.42241C100.769 0.519828 99.5174 0 98.2373 0H23.1804C20.1131 0 16.8105 2.36897 16.8105 7.56724V100.862H133.19ZM76.2933 85.3448C76.2933 86.7724 75.1373 87.931 73.7071 87.931C72.2769 87.931 71.1209 86.7724 71.1209 85.3448V77.5862C71.1209 76.1586 72.2769 75 73.7071 75C75.1373 75 76.2933 76.1586 76.2933 77.5862V85.3448ZM96.983 8.76983C96.983 7.58534 98.4131 6.9931 99.2511 7.83103L125.359 33.9388C126.197 34.7767 125.605 36.2069 124.42 36.2069H96.983V8.76983ZM94.3967 62.069V51.7241C94.3967 50.2991 93.2381 49.1379 91.8105 49.1379C90.3804 49.1379 89.2243 47.9793 89.2243 46.5517C89.2243 45.1241 90.3804 43.9655 91.8105 43.9655C96.0881 43.9655 99.5692 47.4466 99.5692 51.7241V62.069C99.5692 64.9216 101.889 67.2414 104.742 67.2414C106.172 67.2414 107.328 68.4 107.328 69.8276C107.328 71.2552 106.172 72.4138 104.742 72.4138C101.889 72.4138 99.5692 74.7336 99.5692 77.5862V87.931C99.5692 92.2086 96.0881 95.6897 91.8105 95.6897C90.3804 95.6897 89.2243 94.531 89.2243 93.1034C89.2243 91.6759 90.3804 90.5172 91.8105 90.5172C93.2381 90.5172 94.3967 89.356 94.3967 87.931V77.5862C94.3967 74.4828 95.7985 71.7259 97.9709 69.8276C95.7985 67.9293 94.3967 65.1724 94.3967 62.069ZM73.7071 56.8966C75.8485 56.8966 77.5864 58.6345 77.5864 60.7759C77.5864 62.9172 75.8485 64.6552 73.7071 64.6552C71.5657 64.6552 69.8278 62.9172 69.8278 60.7759C69.8278 58.6345 71.5657 56.8966 73.7071 56.8966ZM42.6726 67.2414C45.5252 67.2414 47.845 64.9216 47.845 62.069V51.7241C47.845 47.4466 51.3261 43.9655 55.6036 43.9655C57.0338 43.9655 58.1899 45.1241 58.1899 46.5517C58.1899 47.9793 57.0338 49.1379 55.6036 49.1379C54.1761 49.1379 53.0174 50.2991 53.0174 51.7241V62.069C53.0174 65.1724 51.6157 67.9293 49.4433 69.8276C51.6157 71.7259 53.0174 74.4828 53.0174 77.5862V87.931C53.0174 89.356 54.1761 90.5172 55.6036 90.5172C57.0338 90.5172 58.1899 91.6759 58.1899 93.1034C58.1899 94.531 57.0338 95.6897 55.6036 95.6897C51.3261 95.6897 47.845 92.2086 47.845 87.931V77.5862C47.845 74.7336 45.5252 72.4138 42.6726 72.4138C41.2424 72.4138 40.0864 71.2552 40.0864 69.8276C40.0864 68.4 41.2424 67.2414 42.6726 67.2414Z" fill="white"></path><path d="M16.8105 106.034V144.828C16.8105 147.437 19.9657 150 23.1804 150H126.82C130.035 150 133.19 147.437 133.19 144.828V106.034H16.8105ZM46.6062 133.36C46.6062 134.586 46.3812 135.618 45.9338 136.453C45.4864 137.289 44.8864 137.961 44.1312 138.468C43.3761 138.975 42.5097 139.329 41.5321 139.528C40.5545 139.728 39.5459 139.828 38.5088 139.828C37.9916 139.828 37.3812 139.774 36.6881 139.668C35.995 139.562 35.2735 139.399 34.5312 139.174C33.789 138.949 33.0752 138.696 32.3924 138.414C31.7097 138.132 31.133 137.814 30.6597 137.459L32.4623 134.596C32.6976 134.759 33.0338 134.933 33.4709 135.109C33.908 135.284 34.3864 135.45 34.9037 135.603C35.4209 135.755 35.964 135.89 36.5304 136.009C37.0968 136.128 37.6269 136.184 38.1209 136.184C39.37 136.184 40.3657 135.941 41.108 135.46C41.8502 134.979 42.2433 134.157 42.2924 133.003V113.061H46.6062V133.36ZM67.133 135.253C66.745 136.138 66.1968 136.916 65.4881 137.586C64.7795 138.256 63.9105 138.794 62.8709 139.195C61.8312 139.596 60.6571 139.795 59.3355 139.795C58.7692 139.795 58.1873 139.764 57.5847 139.707C56.9821 139.65 56.3769 139.546 55.764 139.407C55.1511 139.265 54.5666 139.071 54.0131 138.822C53.4597 138.574 52.9838 138.274 52.5804 137.92L53.3226 134.878C53.6536 135.067 54.07 135.251 54.5769 135.427C55.0838 135.603 55.6062 135.768 56.1493 135.921C56.6924 136.073 57.233 136.197 57.7761 136.293C58.3192 136.389 58.8235 136.435 59.2967 136.435C60.7347 136.435 61.8364 136.099 62.6019 135.427C63.3674 134.754 63.7502 133.759 63.7502 132.44C63.7502 131.638 63.4812 130.955 62.9381 130.389C62.395 129.822 61.7174 129.31 60.9054 128.85C60.0933 128.39 59.214 127.932 58.27 127.471C57.3261 127.011 56.4442 126.468 55.6192 125.845C54.7942 125.221 54.1114 124.484 53.5683 123.636C53.0252 122.788 52.7562 121.728 52.7562 120.455C52.7562 119.302 52.9683 118.275 53.3924 117.38C53.8166 116.485 54.3881 115.722 55.1071 115.099C55.8261 114.476 56.664 113.997 57.6183 113.666C58.5726 113.335 59.5812 113.172 60.6416 113.172C61.7252 113.172 62.8218 113.273 63.9286 113.472C65.0355 113.671 65.9304 113.997 66.6157 114.445C66.4735 114.75 66.3105 115.086 66.1217 115.453C65.933 115.821 65.7545 116.159 65.5916 116.478C65.4286 116.796 65.2864 117.062 65.1674 117.274C65.0485 117.486 64.9786 117.605 64.9554 117.628C64.8131 117.559 64.6554 117.465 64.4769 117.346C64.2985 117.228 64.0476 117.111 63.7166 116.992C63.3855 116.873 62.9511 116.793 62.408 116.744C61.8649 116.695 61.1692 116.708 60.3209 116.78C59.8476 116.829 59.4028 116.961 58.9761 117.186C58.5493 117.411 58.1743 117.685 57.8433 118.016C57.5123 118.347 57.2536 118.717 57.0649 119.131C56.8761 119.545 56.783 119.94 56.783 120.315C56.783 121.257 57.0519 122.017 57.595 122.596C58.1381 123.176 58.8105 123.68 59.6097 124.117C60.4088 124.554 61.283 124.978 62.2269 125.39C63.1709 125.801 64.0476 126.305 64.8623 126.892C65.6769 127.479 66.3519 128.219 66.895 129.101C67.4381 129.983 67.7071 131.121 67.7071 132.512C67.7174 133.456 67.5209 134.369 67.133 135.253ZM92.4855 132.3C91.9321 133.973 91.164 135.365 90.1864 136.471C89.2088 137.578 88.0657 138.416 86.7571 138.983C85.4485 139.549 84.0157 139.831 82.4614 139.831C80.9071 139.831 79.4743 139.549 78.1657 138.983C76.8571 138.416 75.714 137.581 74.7364 136.471C73.7588 135.362 72.9907 133.973 72.4373 132.3C71.8838 130.627 71.6071 128.692 71.6071 126.502C71.6071 124.311 71.8838 122.382 72.4373 120.721C72.9907 119.061 73.7588 117.675 74.7364 116.568C75.714 115.461 76.8571 114.618 78.1657 114.039C79.4743 113.459 80.9071 113.172 82.4614 113.172C84.0157 113.172 85.4485 113.459 86.7571 114.039C88.0657 114.618 89.2088 115.459 90.1864 116.568C91.164 117.678 91.9321 119.061 92.4855 120.721C93.039 122.382 93.3157 124.311 93.3157 126.502C93.3157 128.692 93.039 130.627 92.4855 132.3ZM118.138 139.655H113.824L103.606 121.694V139.655H99.2924V113.596H103.606L113.824 131.558V113.596H118.138V139.655Z" fill="white"></path></svg>'},750:t=>{t.exports='<svg viewBox="0 0 150 150" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_1259_107)"><path fill-rule="evenodd" clip-rule="evenodd" d="M119.363 66.4893C95.19 52.1343 55.3125 50.8124 32.2275 57.8174C28.5225 58.9349 24.6075 56.8497 23.4825 53.1372C22.3575 49.4322 24.45 45.5171 28.155 44.3921C54.6525 36.3446 98.6925 37.8964 126.525 54.4189C129.855 56.3989 130.95 60.7056 128.97 64.0356C127.005 67.3656 122.685 68.4693 119.363 66.4893ZM118.575 87.7515C116.88 90.504 113.28 91.3652 110.527 89.6777C90.375 77.2877 59.64 73.7024 35.7975 80.9399C32.7 81.8699 29.4375 80.1298 28.5 77.0398C27.57 73.9498 29.31 70.686 32.4 69.7485C59.6325 61.4835 93.495 65.4893 116.648 79.7168C119.4 81.4043 120.262 85.0065 118.575 87.7515ZM109.395 108.171C108.045 110.376 105.172 111.074 102.967 109.724C85.3575 98.9616 63.1875 96.5326 37.08 102.495C34.5675 103.073 32.055 101.496 31.485 98.9758C30.9075 96.4633 32.475 93.9613 35.0025 93.3838C63.57 86.8513 88.0725 89.6619 107.842 101.744C110.047 103.094 110.745 105.966 109.395 108.171ZM75 0C33.5775 0 0 33.5775 0 75C0 116.423 33.5775 150 75 150C116.423 150 150 116.423 150 75C150 33.585 116.423 0 75 0Z" fill="white"></path></g><defs><clipPath id="clip0_1259_107"><rect width="150" height="150" fill="white"></rect></clipPath></defs></svg>'},880:(t,e,n)=>{"use strict";n.d(e,{a:()=>i});const r="https://accounts.spotify.com/api/token";async function i(){const t=await fetch(r,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+btoa("091a3cabc2e14fe49e28d3ea6c14cf98:b4fdae3c592b4a38a78f208c146d81ac")},body:"grant_type=client_credentials"});return t.ok||new Error("not connect to tokenUrl & not found client ID and Secret key"),(await t.json()).access_token}},36:(t,e,n)=>{"use strict";n.a(t,(async(t,r)=>{try{n.d(e,{T:()=>a});var i=n(115),s=n(789),o=t([i,s]);[i,s]=o.then?(await o)():o,(await(0,i.W)())[0].artists[0].id;const a=async({artistIds:t})=>{const e=[];if(t.length>1){for(let n=0;n<t.length;n++){const r=await(0,s.n)(`v1/artists/${t[n]}`,"GET");e.push(r)}return e}return await(0,s.n)(`v1/artists/${t[0]}`,"GET")};r()}catch(t){r(t)}}),1)},115:(t,e,n)=>{"use strict";n.a(t,(async(t,r)=>{try{n.d(e,{W:()=>d});var i=n(594),s=n(695),o=n(789),a=t([o]);o=(a.then?(await a)():a)[0];const l=(0,i.rJ)(s.db,"chart"),c=await(0,i.GG)((0,i.P)(l,(0,i.My)("rank","asc"))),u=[],h=[];c.forEach((t=>{const e={artist_names:t.data().artist_names,rank:t.data().rank,track_name:t.data().track_name,uri:t.data().uri};u.push(e)})),u.forEach((t=>{const e=t.uri.split("").splice(14).join(""),n={artist_names:t.artist_names,rank:t.rank,track_name:t.track_name,id:e};h.push(n)}));const d=async()=>{const t=h.map((t=>t.id)).slice(0,50).join(",");return(await(0,o.n)(`v1/tracks?ids=${t}`,"GET")).tracks};r()}catch(t){r(t)}}),1)},789:(t,e,n)=>{"use strict";n.a(t,(async(t,r)=>{try{n.d(e,{n:()=>o});var i=n(880);const s=await(0,i.a)();async function o(t,e){const n=await fetch(`https://api.spotify.com/${t}`,{headers:{Authorization:`Bearer ${s}`},method:e});return await n.json()}r()}catch(a){r(a)}}),1)},695:(t,e,n)=>{"use strict";n.d(e,{db:()=>o});var r=n(990);(0,r.KO)("firebase","10.12.2","app");var i=n(594);const s=(0,r.Wp)({apikey:"AIzaSyBoq-2gF_OqpJ0BkvjOCQzcF9WCRgsWk40",authDomain:"spotify-11aca.firebaseapp.com",projectId:"spotify-11aca",storageBucket:"spotify-11aca.appspot.com",messagingSenderId:"143100718921",appId:"1:143100718921:web:8ab0585d663c9d25d77498",measurementId:"G-QQJMQLNVR1"}),o=(0,i.aU)(s)},98:(t,e,n)=>{"use strict";n.a(t,(async(t,e)=>{try{var r=n(36),i=n(499),s=n(956),o=n(413),a=n(115),l=n(750),c=n.n(l),u=n(892),h=n.n(u),d=n(575),f=n.n(d),p=n(236),g=n(636),m=t([r,a]);[r,a]=m.then?(await m)():m;const v=document.querySelector("body"),y=document.querySelector(".loading");v.removeChild(y),v.style.overflow="auto",i.os.registerPlugin(s.u);const w=document.querySelector(".banner_video"),_=document.createElement("source");w&&(w.appendChild(_),_.src=o.A);const b=document.querySelector(".screen-container > .Banner"),T=document.querySelector(".video-screen"),E=document.querySelector(".screen-opacity"),C=document.querySelector(".dynamic-container"),S=document.querySelector(".dynamic-logo"),x=document.querySelector(".dynamic-txt"),I=document.querySelector(".scroll-down");i.os.to(T,{position:"sticky",scrollTrigger:{trigger:b,start:"top top",end:"center bottom",scrub:1}}),i.os.to(E,{backgroundColor:"rgba(0,0,0,1)",scrollTrigger:{trigger:b,start:"top top",end:"10% top",scrub:1}}),i.os.to(C,{height:"16rem",scrollTrigger:{trigger:b,start:"10% top",end:"40% top",scrub:1}}),i.os.to(S,{position:"relative",scrollTrigger:{trigger:b,start:"10% top",scrub:1}}),i.os.fromTo(x,{opacity:0,y:100},{opacity:1,y:0,position:"relative",scrollTrigger:{trigger:b,start:"20% top",scrub:1}}),i.os.to(I,{y:250,opacity:0,scrollTrigger:{trigger:b,start:"25% top",scrub:1}});const A=["3HqSLMAZ3g3d5poNaI7GOU","3qNVuliS40BLgXGxhdBdqu","5dCvSnVduaFleCnyy98JMo","6UbmqUEgjLA6jAcXwbM1Z9","6dhfy4ByARPJdPtMyrUYJK","6qvVoPGEqNCyYSjYCgfV1v","7c1HgFDe8ogy5NOZ1ANCJQ","0kRAVpQhUUArA8UnYwEdeZ","6zn0ihyAApAYV51zpXxdEp"],k=await(0,r.T)({artistIds:A}),M=document.querySelector(".carousel-animateBox");for(let t=0;t<k.length;t++){let e=40*t;M.innerHTML+=`\n  <div class = "artist" style = "--i: ${e}">\n    <img src = "${k[t].images[0].url}" alt = "${k[t].name}  "/>\n  </div>\n  `}const D=document.querySelector(".main-ksvArtist"),P=document.querySelector(".carousel-Artist"),O=document.querySelector(".carousel-animateBox");i.os.to(P,{position:"sticky",scrollTrigger:{trigger:D,start:"top top",end:"bottom bottom",scrub:1}}),i.os.fromTo(O,{rotateY:"0deg"},{rotateY:"-360deg",scrollTrigger:{trigger:D,start:"top top",end:"bottom bottom",scrub:1}});const N=document.querySelector(".pick-methods");[{id:1,image:c(),title:"Download Spotify Chart File",info:"spotify chart       CSV  ."},{id:2,image:h(),title:"Format CSV file to JSON file",info:"       CSV  JSON  . ."},{id:3,image:f(),title:"Update Chart Database",info:"       ."}].forEach((t=>{const e=document.createElement("li"),n=document.createElement("div"),r=document.createElement("div"),i=document.createElement("h2"),s=document.createElement("div"),o=document.createElement("p");e.classList.toggle("method-item"),e.appendChild(n),n.classList.toggle("method-imgBox"),n.innerHTML+=t.image,e.appendChild(r),r.classList.toggle("method-infoBox"),r.appendChild(i),s.classList.toggle("info-txt"),r.appendChild(s),s.appendChild(o),i.textContent=t.title,o.textContent=t.info,N.appendChild(e)}));const L=(await(0,a.W)()).slice(0,10),R=document.querySelector(".prev-button"),F=document.querySelector(".next-button");new p.A(".swiper-container",{slidesPerView:3,modules:[g.Vx],navigation:{prevEl:R,nextEl:F},speed:1e3,spaceBetween:50});const V=document.querySelector(".swiper-wrapper");L.forEach((t=>{const e=document.createElement("div");e.classList.toggle("swiper-slide");const n=document.createElement("div");n.classList.toggle("track-image");const r=document.createElement("img");r.src=`${t.album.images[0].url}`,r.alt=`${t.name}  `,n.appendChild(r),e.appendChild(n);const i=document.createElement("div");i.classList.add("track-infoBox");const s=document.createElement("h3"),o=document.createElement("span");s.textContent=t.name,i.appendChild(s),o.textContent=t.artists[0].name,i.appendChild(o),e.appendChild(i),V.appendChild(e)}));const B=document.querySelector(".Weekly-chart"),z=document.querySelector(".chart-titleWrap");i.os.fromTo(z,{opacity:0,y:50},{opacity:1,y:0,scrollTrigger:{trigger:B,start:"-10% top",end:"top top"}}),i.os.fromTo(N,{opacity:0,y:50},{opacity:1,y:0,scrollTrigger:{trigger:B,start:"5% top",end:"10% top"}}),e()}catch(t){e(t)}}),1)},990:(t,e,n)=>{"use strict";n.d(e,{MF:()=>F,j6:()=>N,om:()=>O,Sx:()=>B,Wp:()=>V,KO:()=>z});var r=n(125),i=n(424),s=n(743);const o=(t,e)=>e.some((e=>t instanceof e));let a,l;const c=new WeakMap,u=new WeakMap,h=new WeakMap,d=new WeakMap,f=new WeakMap;let p={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return u.get(t);if("objectStoreNames"===e)return t.objectStoreNames||h.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return m(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function g(t){return"function"==typeof t?(e=t)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(l||(l=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(v(this),t),m(c.get(this))}:function(...t){return m(e.apply(v(this),t))}:function(t,...n){const r=e.call(v(this),t,...n);return h.set(r,t.sort?t.sort():[t]),m(r)}:(t instanceof IDBTransaction&&function(t){if(u.has(t))return;const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{e(),r()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)}));u.set(t,e)}(t),o(t,a||(a=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(t,p):t);var e}function m(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{e(m(t.result)),r()},s=()=>{n(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",s)}));return e.then((e=>{e instanceof IDBCursor&&c.set(e,t)})).catch((()=>{})),f.set(e,t),e}(t);if(d.has(t))return d.get(t);const e=g(t);return e!==t&&(d.set(t,e),f.set(e,t)),e}const v=t=>f.get(t),y=["get","getKey","getAll","getAllKeys","count"],w=["put","add","delete","clear"],_=new Map;function b(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(_.get(e))return _.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=w.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!y.includes(n))return;const s=async function(t,...e){const s=this.transaction(t,i?"readwrite":"readonly");let o=s.store;return r&&(o=o.index(e.shift())),(await Promise.all([o[n](...e),i&&s.done]))[0]};return _.set(e,s),s}var T;T=p,p={...T,get:(t,e,n)=>b(t,e)||T.get(t,e,n),has:(t,e)=>!!b(t,e)||T.has(t,e)};class E{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null})).filter((t=>t)).join(" ")}}const C="@firebase/app",S="0.10.5",x=new i.Vy("@firebase/app"),I="[DEFAULT]",A={[C]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},k=new Map,M=new Map,D=new Map;function P(t,e){try{t.container.addComponent(e)}catch(n){x.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function O(t){const e=t.name;if(D.has(e))return x.debug(`There were multiple attempts to register component ${e}.`),!1;D.set(e,t);for(const e of k.values())P(e,t);for(const e of M.values())P(e,t);return!0}function N(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const L=new s.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class R{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.uA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw L.create("app-deleted",{appName:this._name})}}const F="10.12.2";function V(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const i=Object.assign({name:I,automaticDataCollectionEnabled:!1},e),o=i.name;if("string"!=typeof o||!o)throw L.create("bad-app-name",{appName:String(o)});if(n||(n=(0,s.T9)()),!n)throw L.create("no-options");const a=k.get(o);if(a){if((0,s.bD)(n,a.options)&&(0,s.bD)(i,a.config))return a;throw L.create("duplicate-app",{appName:o})}const l=new r.h1(o);for(const t of D.values())l.addComponent(t);const c=new R(n,i,l);return k.set(o,c),c}function B(t=I){const e=k.get(t);if(!e&&t===I&&(0,s.T9)())return V();if(!e)throw L.create("no-app",{appName:t});return e}function z(t,e,n){var i;let s=null!==(i=A[t])&&void 0!==i?i:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const t=[`Unable to register library "${s}" with version "${e}":`];return o&&t.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&t.push("and"),a&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void x.warn(t.join(" "))}O(new r.uA(`${s}-version`,(()=>({library:s,version:e})),"VERSION"))}const U="firebase-heartbeat-database",q=1,j="firebase-heartbeat-store";let G=null;function $(){return G||(G=function(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=m(o);return r&&o.addEventListener("upgradeneeded",(t=>{r(m(o.result),t.oldVersion,t.newVersion,m(o.transaction),t)})),n&&o.addEventListener("blocked",(t=>n(t.oldVersion,t.newVersion,t))),a.then((t=>{s&&t.addEventListener("close",(()=>s())),i&&t.addEventListener("versionchange",(t=>i(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),a}(U,q,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(j)}catch(t){console.warn(t)}}}).catch((t=>{throw L.create("idb-open",{originalErrorMessage:t.message})}))),G}async function H(t,e){try{const n=(await $()).transaction(j,"readwrite"),r=n.objectStore(j);await r.put(e,K(t)),await n.done}catch(t){if(t instanceof s.g)x.warn(t.message);else{const e=L.create("idb-set",{originalErrorMessage:null==t?void 0:t.message});x.warn(e.message)}}}function K(t){return`${t.name}!${t.options.appId}`}class W{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new X(e),this._heartbeatsCachePromise=this._storage.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){var t,e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Y();if((null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((t=>t.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((t=>{const e=new Date(t.date).valueOf();return Date.now()-e<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const e=Y(),{heartbeatsToSend:n,unsentEntries:r}=function(t,e=1024){const n=[];let r=t.slice();for(const i of t){const t=n.find((t=>t.agent===i.agent));if(t){if(t.dates.push(i.date),Q(n)>e){t.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Q(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=(0,s.Uj)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Y(){return(new Date).toISOString().substring(0,10)}class X{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,s.zW)()&&(0,s.eX)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const t=await async function(t){try{const e=(await $()).transaction(j),n=await e.objectStore(j).get(K(t));return await e.done,n}catch(t){if(t instanceof s.g)x.warn(t.message);else{const e=L.create("idb-get",{originalErrorMessage:null==t?void 0:t.message});x.warn(e.message)}}}(this.app);return(null==t?void 0:t.heartbeats)?t:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return H(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return H(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function Q(t){return(0,s.Uj)(JSON.stringify({version:2,heartbeats:t})).length}O(new r.uA("platform-logger",(t=>new E(t)),"PRIVATE")),O(new r.uA("heartbeat",(t=>new W(t)),"PRIVATE")),z(C,S,""),z(C,S,"esm2017"),z("fire-js","")},125:(t,e,n)=>{"use strict";n.d(e,{h1:()=>a,uA:()=>i});var r=n(743);class i{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const s="[DEFAULT]";class o{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new r.cY;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(t){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(t){if(r)return null;throw t}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(t){}for(const[t,e]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:n});e.resolve(t)}catch(t){}}}}clearInstance(t=s){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(t=s){return this.instances.has(t)}getOptions(t=s){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[t,e]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(t)&&e.resolve(r);return r}onInit(t,e){var n;const r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&t(s,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const r of n)try{r(t,e)}catch(t){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=t,r===s?void 0:r),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch(t){}var r;return n||null}normalizeInstanceIdentifier(t=s){return this.component?this.component.multipleInstances?t:s:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class a{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new o(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}},424:(t,e,n)=>{"use strict";n.d(e,{$b:()=>i,Vy:()=>c});const r=[];var i;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(i||(i={}));const s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},o=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},l=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=a[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class c{constructor(t){this.name=t,this._logLevel=o,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in i))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?s[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}}},594:(t,e,n)=>{"use strict";n.d(e,{rJ:()=>xs,GG:()=>co,aU:()=>ks,My:()=>Js,P:()=>Ws});var r,i,s=n(990),o=n(125),a=n(424),l=n(743),c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},u={};(function(){var t;function e(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function s(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}!function(t,e){function n(){}n.prototype=e.prototype,t.D=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.C=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}(e,(function(){this.blockSize=-1})),e.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},e.prototype.u=function(t,e){void 0===e&&(e=t.length);for(var r=e-this.blockSize,i=this.B,s=this.h,o=0;o<e;){if(0==s)for(;o<=r;)n(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(i[s++]=t.charCodeAt(o++),s==this.blockSize){n(this,i),s=0;break}}else for(;o<e;)if(i[s++]=t[o++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=e},e.prototype.v=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.o;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.u(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var o={};function a(t){return-128<=t&&128>t?function(t,e){var n=o;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=function(t){return new s([0|t],0>t?-1:0)}(t)}(t):new s([0|t],0>t?-1:0)}function l(t){if(isNaN(t)||!isFinite(t))return c;if(0>t)return g(l(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=4294967296;return new s(e,0)}var c=a(0),h=a(1),d=a(16777216);function f(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function p(t){return-1==t.h}function g(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new s(n,~t.h).add(h)}function m(t,e){return t.add(g(e))}function v(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function y(t,e){this.g=t,this.h=e}function w(t,e){if(f(e))throw Error("division by zero");if(f(t))return new y(c,c);if(p(t))return e=w(g(t),e),new y(g(e.g),g(e.h));if(p(e))return e=w(t,g(e)),new y(g(e.g),e.h);if(30<t.g.length){if(p(t)||p(e))throw Error("slowDivide_ only works with positive integers.");for(var n=h,r=e;0>=r.l(t);)n=_(n),r=_(r);var i=b(n,1),s=b(r,1);for(r=b(r,2),n=b(n,2);!f(r);){var o=s.add(r);0>=o.l(t)&&(i=i.add(n),s=o),r=b(r,1),n=b(n,1)}return e=m(t,i.j(e)),new y(i,e)}for(i=c;0<=t.l(e);){for(n=Math.max(1,Math.floor(t.m()/e.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=l(n)).j(e);p(o)||0<o.l(t);)o=(s=l(n-=r)).j(e);f(s)&&(s=h),i=i.add(s),t=m(t,o)}return new y(i,t)}function _(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.i(r)<<1|t.i(r-1)>>>31;return new s(n,t.h)}function b(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.i(o+n)>>>e|t.i(o+n+1)<<32-e:t.i(o+n);return new s(i,t.h)}(t=s.prototype).m=function(){if(p(this))return-g(this).m();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.i(n);t+=(0<=r?r:4294967296+r)*e,e*=4294967296}return t},t.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(f(this))return"0";if(p(this))return"-"+g(this).toString(t);for(var e=l(Math.pow(t,6)),n=this,r="";;){var i=w(n,e).g,s=((0<(n=m(n,i.j(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(f(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},t.i=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},t.l=function(t){return p(t=m(this,t))?-1:f(t)?0:1},t.abs=function(){return p(this)?g(this):this},t.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.i(i))+(65535&t.i(i)),a=(o>>>16)+(this.i(i)>>>16)+(t.i(i)>>>16);r=a>>>16,o&=65535,a&=65535,n[i]=a<<16|o}return new s(n,-2147483648&n[n.length-1]?-1:0)},t.j=function(t){if(f(this)||f(t))return c;if(p(this))return p(t)?g(this).j(g(t)):g(g(this).j(t));if(p(t))return g(this.j(g(t)));if(0>this.l(d)&&0>t.l(d))return l(this.m()*t.m());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.i(r)>>>16,a=65535&this.i(r),u=t.i(i)>>>16,h=65535&t.i(i);n[2*r+2*i]+=a*h,v(n,2*r+2*i),n[2*r+2*i+1]+=o*h,v(n,2*r+2*i+1),n[2*r+2*i+1]+=a*u,v(n,2*r+2*i+1),n[2*r+2*i+2]+=o*u,v(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new s(n,0)},t.A=function(t){return w(this,t).h},t.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.i(r)&t.i(r);return new s(n,this.h&t.h)},t.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.i(r)|t.i(r);return new s(n,this.h|t.h)},t.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.i(r)^t.i(r);return new s(n,this.h^t.h)},e.prototype.digest=e.prototype.v,e.prototype.reset=e.prototype.s,e.prototype.update=e.prototype.u,i=u.Md5=e,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=function t(e,n){if(0==e.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==e.charAt(0))return g(t(e.substring(1),n));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=l(Math.pow(n,8)),i=c,s=0;s<e.length;s+=8){var o=Math.min(8,e.length-s),a=parseInt(e.substring(s,s+o),n);8>o?(o=l(Math.pow(n,o)),i=i.j(o).add(l(a))):i=(i=i.j(r)).add(l(a))}return i},r=u.Integer=s}).apply(void 0!==c?c:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var h,d,f,p,g,m,v,y,w,_="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},b={};(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){return t==Array.prototype||t==Object.prototype||(t[e]=n.value),t},n=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof _&&_];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(t,r){if(r)t:{var i=n;t=t.split(".");for(var s=0;s<t.length-1;s++){var o=t[s];if(!(o in i))break t;i=i[o]}(r=r(s=i[t=t[t.length-1]]))!=s&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(t){return t||function(){return function(t,e){t instanceof String&&(t+="");var n=0,r=!1,i={next:function(){if(!r&&n<t.length){var i=n++;return{value:e(0,t[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(t,e){return e}))}}));var r=r||{},i=this||self;function s(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function o(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function a(t,e,n){return t.call.apply(t.bind,arguments)}function l(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function c(t,e,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function T(t,e){function n(){}n.prototype=e.prototype,t.aa=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Qb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function E(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function C(t,e){for(let e=1;e<arguments.length;e++){const n=arguments[e];if(s(n)){const e=t.length||0,r=n.length||0;t.length=e+r;for(let i=0;i<r;i++)t[e+i]=n[i]}else t.push(n)}}function S(t){return/^[\s\xa0]*$/.test(t)}function x(){var t=i.navigator;return t&&(t=t.userAgent)?t:""}function I(t){return I[" "](t),t}I[" "]=function(){};var A=!(-1==x().indexOf("Gecko")||-1!=x().toLowerCase().indexOf("webkit")&&-1==x().indexOf("Edge")||-1!=x().indexOf("Trident")||-1!=x().indexOf("MSIE")||-1!=x().indexOf("Edge"));function k(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function M(t){const e={};for(const n in t)e[n]=t[n];return e}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(t,e){let n,r;for(let e=1;e<arguments.length;e++){for(n in r=arguments[e],r)t[n]=r[n];for(let e=0;e<D.length;e++)n=D[e],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function O(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function N(t){i.setTimeout((()=>{throw t}),0)}function L(){var t=z;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var R=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}((()=>new F),(t=>t.reset()));class F{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}let V,B=!1,z=new class{constructor(){this.h=this.g=null}add(t,e){const n=R.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}},U=()=>{const t=i.Promise.resolve(void 0);V=()=>{t.then(q)}};var q=()=>{for(var t;t=L();){try{t.h.call(t.g)}catch(t){N(t)}var e=R;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}B=!1};function j(){this.s=this.s,this.C=this.C}function G(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}j.prototype.s=!1,j.prototype.ma=function(){this.s||(this.s=!0,this.N())},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},G.prototype.h=function(){this.defaultPrevented=!0};var $=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const t=()=>{};i.addEventListener("test",t,e),i.removeEventListener("test",t,e)}catch(t){}return t}();function H(t,e){if(G.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(A){t:{try{I(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:K[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&H.aa.h.call(this)}}T(H,G);var K={2:"touch",3:"pen",4:"mouse"};H.prototype.h=function(){H.aa.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var W="closure_listenable_"+(1e6*Math.random()|0),Y=0;function X(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++Y,this.da=this.fa=!1}function Q(t){t.da=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function J(t){this.src=t,this.g={},this.h=0}function Z(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],s=Array.prototype.indexOf.call(i,e,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Q(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function tt(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.da&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}J.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=tt(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new X(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var et="closure_lm_"+(1e6*Math.random()|0),nt={};function rt(t,e,n,r,i){if(r&&r.once)return st(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)rt(t,e[s],n,r,i);return null}return n=dt(n),t&&t[W]?t.K(e,n,o(r)?!!r.capture:!!r,i):it(t,e,n,!1,r,i)}function it(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var a=o(i)?!!i.capture:!!i,l=ut(t);if(l||(t[et]=l=new J(t)),(n=l.add(e,n,r,a,s)).proxy)return n;if(r=function(){const t=ct;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)$||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(lt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function st(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)st(t,e[s],n,r,i);return null}return n=dt(n),t&&t[W]?t.L(e,n,o(r)?!!r.capture:!!r,i):it(t,e,n,!0,r,i)}function ot(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)ot(t,e[s],n,r,i);else r=o(r)?!!r.capture:!!r,n=dt(n),t&&t[W]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=tt(s=t.g[e],n,r,i))&&(Q(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=ut(t))&&(e=t.g[e.toString()],t=-1,e&&(t=tt(e,n,r,i)),(n=-1<t?e[t]:null)&&at(n))}function at(t){if("number"!=typeof t&&t&&!t.da){var e=t.src;if(e&&e[W])Z(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(lt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ut(e))?(Z(n,t),0==n.h&&(n.src=null,e[et]=null)):Q(t)}}}function lt(t){return t in nt?nt[t]:nt[t]="on"+t}function ct(t,e){if(t.da)t=!0;else{e=new H(e,this);var n=t.listener,r=t.ha||t.src;t.fa&&at(t),t=n.call(r,e)}return t}function ut(t){return(t=t[et])instanceof J?t:null}var ht="__closure_events_fn_"+(1e9*Math.random()>>>0);function dt(t){return"function"==typeof t?t:(t[ht]||(t[ht]=function(e){return t.handleEvent(e)}),t[ht])}function ft(){j.call(this),this.i=new J(this),this.M=this,this.F=null}function pt(t,e){var n,r=t.F;if(r)for(n=[];r;r=r.F)n.push(r);if(t=t.M,r=e.type||e,"string"==typeof e)e=new G(e,t);else if(e instanceof G)e.target=e.target||t;else{var i=e;P(e=new G(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=gt(o,r,!0,e)&&i}if(i=gt(o=e.g=t,r,!0,e)&&i,i=gt(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=gt(o=e.g=n[s],r,!1,e)&&i}function gt(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.da&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.fa&&Z(t.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function mt(t,e,n){if("function"==typeof t)n&&(t=c(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=c(t.handleEvent,t)}return 2147483647<Number(e)?-1:i.setTimeout(t,e||0)}function vt(t){t.g=mt((()=>{t.g=null,t.i&&(t.i=!1,vt(t))}),t.l);const e=t.h;t.h=null,t.m.apply(null,e)}T(ft,j),ft.prototype[W]=!0,ft.prototype.removeEventListener=function(t,e,n,r){ot(this,t,e,n,r)},ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Q(n[r]);delete e.g[t],e.h--}}this.F=null},ft.prototype.K=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},ft.prototype.L=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};class yt extends j{constructor(t,e){super(),this.m=t,this.l=e,this.h=null,this.i=!1,this.g=null}j(t){this.h=arguments,this.g?this.i=!0:vt(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wt(t){j.call(this),this.h=t,this.g={}}T(wt,j);var _t=[];function bt(t){k(t.g,(function(t,e){this.g.hasOwnProperty(e)&&at(t)}),t),t.g={}}wt.prototype.N=function(){wt.aa.N.call(this),bt(this)},wt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tt=i.JSON.stringify,Et=i.JSON.parse,Ct=class{stringify(t){return i.JSON.stringify(t,void 0)}parse(t){return i.JSON.parse(t,void 0)}};function St(){}function xt(t){return t.h||(t.h=t.i())}function It(){}St.prototype.h=null;var At={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kt(){G.call(this,"d")}function Mt(){G.call(this,"c")}T(kt,G),T(Mt,G);var Dt={},Pt=null;function Ot(){return Pt=Pt||new ft}function Nt(t){G.call(this,Dt.La,t)}function Lt(t){const e=Ot();pt(e,new Nt(e))}function Rt(t,e){G.call(this,Dt.STAT_EVENT,t),this.stat=e}function Ft(t){const e=Ot();pt(e,new Rt(e,t))}function Vt(t,e){G.call(this,Dt.Ma,t),this.size=e}function Bt(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){t()}),e)}function zt(){this.g=!0}function Ut(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Tt(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}Dt.La="serverreachability",T(Nt,G),Dt.STAT_EVENT="statevent",T(Rt,G),Dt.Ma="timingevent",T(Vt,G),zt.prototype.xa=function(){this.g=!1},zt.prototype.info=function(){};var qt,jt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Gt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function $t(){}function Ht(t,e,n,r){this.j=t,this.i=e,this.l=n,this.R=r||1,this.U=new wt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Kt}function Kt(){this.i=null,this.g="",this.h=!1}T($t,St),$t.prototype.g=function(){return new XMLHttpRequest},$t.prototype.i=function(){return{}},qt=new $t;var Wt={},Yt={};function Xt(t,e,n){t.L=1,t.v=Te(ve(e)),t.m=n,t.P=!0,Qt(t,null)}function Qt(t,e){t.F=Date.now(),te(t),t.A=ve(t.v);var n=t.A,r=t.R;Array.isArray(r)||(r=[String(r)]),Re(n.i,"t",r),t.C=0,n=t.j.J,t.h=new Kt,t.g=Cn(t.j,n?e:null,!t.m),0<t.O&&(t.M=new yt(c(t.Y,t,t.g),t.O)),e=t.U,n=t.g,r=t.ca;var i="readystatechange";Array.isArray(i)||(i&&(_t[0]=i.toString()),i=_t);for(var s=0;s<i.length;s++){var o=rt(n,i[s],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}e=t.H?M(t.H):{},t.m?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.m,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Lt(),function(t,e,n,r,i,s){t.info((function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o}))}(t.i,t.u,t.A,t.l,t.R,t.m)}function Jt(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.j.Ca}function Zt(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Yt:(n=Number(e.substring(n,r)),isNaN(n)?Wt:(r+=1)+n>e.length?Yt:(e=e.slice(r,r+n),t.C=r+n,e))}function te(t){t.S=Date.now()+t.I,ee(t,t.I)}function ee(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Bt(c(t.ba,t),e)}function ne(t){t.B&&(i.clearTimeout(t.B),t.B=null)}function re(t){0==t.j.G||t.J||wn(t.j,t)}function ie(t){ne(t);var e=t.M;e&&"function"==typeof e.ma&&e.ma(),t.M=null,bt(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ma())}function se(t,e){try{var n=t.j;if(0!=n.G&&(n.g==t||ue(n.h,t)))if(!t.K&&ue(n.h,t)&&3==n.G){try{var r=n.Da.g.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;yn(n),ln(n)}gn(n),Ft(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Bt(c(n.Za,n),6e3));if(1>=ce(n.h)&&n.ca){try{n.ca()}catch(t){}n.ca=void 0}}else bn(n,11)}else if((t.K||n.g==t)&&yn(n),!S(e))for(i=n.Da.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const e=c[3];null!=e&&(n.la=e,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"==typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var s=r.h;s.g||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(he(s,s.h),s.h=null))}if(r.D){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(r.ya=t,be(r.I,r.D,t))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-t.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=t;if((r=n).qa=En(r,r.J?r.ia:null,r.W),o.K){de(r.h,o);var a=o,l=r.L;l&&(a.I=l),a.B&&(ne(a),te(a)),r.g=o}else pn(r);0<n.i.length&&un(n)}else"stop"!=c[0]&&"close"!=c[0]||bn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?bn(n,7):an(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Lt()}catch(t){}}Ht.prototype.ca=function(t){t=t.target;const e=this.M;e&&3==nn(t)?e.j():this.Y(t)},Ht.prototype.Y=function(t){try{if(t==this.g)t:{const d=nn(this.g);var e=this.g.Ba();if(this.g.Z(),!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||rn(this.g)))){this.J||4!=d||7==e||Lt(),ne(this);var n=this.g.Z();this.X=n;e:if(Jt(this)){var r=rn(this.g);t="";var s=r.length,o=4==nn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ie(this),re(this);var a="";break e}this.h.i=new i.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:!(o&&e==s-1)});r.length=0,this.h.g+=t,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(t,e,n,r,i,s,o){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){e:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(l)){var u=l;break e}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ft(12),ie(this),re(this);break t}Ut(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,se(this,n)}if(this.P){let t;for(n=!0;!this.J&&this.C<a.length;){if(t=Zt(this,a),t==Yt){4==d&&(this.s=4,Ft(14),n=!1),Ut(this.i,this.l,null,"[Incomplete Response]");break}if(t==Wt){this.s=4,Ft(15),Ut(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Ut(this.i,this.l,t,null),se(this,t)}if(Jt(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=a.length||this.h.h||(this.s=1,Ft(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),mn(h),h.M=!0,Ft(11))}}else Ut(this.i,this.l,a,"[Invalid Chunked Response]"),ie(this),re(this)}else Ut(this.i,this.l,a,null),se(this,a);4==d&&ie(this),this.o&&!this.J&&(4==d?wn(this.j,this):(this.o=!1,te(this)))}else(function(t){const e={};t=(t.g&&2<=nn(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(S(t[r]))continue;var n=O(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,(function(t){return t.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Ft(12)):(this.s=0,Ft(13)),ie(this),re(this)}}}catch(t){}},Ht.prototype.cancel=function(){this.J=!0,ie(this)},Ht.prototype.ba=function(){this.B=null;const t=Date.now();0<=t-this.S?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.i,this.A),2!=this.L&&(Lt(),Ft(17)),ie(this),this.s=2,re(this)):ee(this,this.S-t)};var oe=class{constructor(t,e){this.g=t,this.map=e}};function ae(t){this.l=t||10,t=i.PerformanceNavigationTiming?0<(t=i.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function le(t){return!!t.h||!!t.g&&t.g.size>=t.j}function ce(t){return t.h?1:t.g?t.g.size:0}function ue(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function he(t,e){t.g?t.g.add(e):t.h=e}function de(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function fe(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return E(t.i)}function pe(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(s(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function(t){if(t.na&&"function"==typeof t.na)return t.na();if(!t.V||"function"!=typeof t.V){if("undefined"!=typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!=typeof Set&&t instanceof Set)){if(s(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function(t){if(t.V&&"function"==typeof t.V)return t.V();if("undefined"!=typeof Map&&t instanceof Map||"undefined"!=typeof Set&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(s(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}ae.prototype.cancel=function(){if(this.i=fe(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var ge=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function me(t){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,t instanceof me){this.h=t.h,ye(this,t.j),this.o=t.o,this.g=t.g,we(this,t.s),this.l=t.l;var e=t.i,n=new Pe;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),_e(this,n),this.m=t.m}else t&&(e=String(t).match(ge))?(this.h=!1,ye(this,e[1]||"",!0),this.o=Ee(e[2]||""),this.g=Ee(e[3]||"",!0),we(this,e[4]),this.l=Ee(e[5]||"",!0),_e(this,e[6]||"",!0),this.m=Ee(e[7]||"")):(this.h=!1,this.i=new Pe(null,this.h))}function ve(t){return new me(t)}function ye(t,e,n){t.j=n?Ee(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function we(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.s=e}else t.s=null}function _e(t,e,n){e instanceof Pe?(t.i=e,function(t,e){e&&!t.j&&(Oe(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Ne(this,e),Re(this,n,t))}),t)),t.j=e}(t.i,t.h)):(n||(e=Ce(e,Me)),t.i=new Pe(e,t.h))}function be(t,e,n){t.i.set(e,n)}function Te(t){return be(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ee(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ce(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Se),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Se(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}me.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ce(e,Ie,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.o)&&t.push(Ce(e,Ie,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ce(n,"/"==n.charAt(0)?ke:Ae,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.m)&&t.push("#",Ce(n,De)),t.join("")};var xe,Ie=/[#\/\?@]/g,Ae=/[#\?:]/g,ke=/[#\?]/g,Me=/[#\?@]/g,De=/#/g;function Pe(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Oe(t){t.g||(t.g=new Map,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Ne(t,e){Oe(t),e=Fe(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Le(t,e){return Oe(t),e=Fe(t,e),t.g.has(e)}function Re(t,e,n){Ne(t,e),0<n.length&&(t.i=null,t.g.set(Fe(t,e),E(n)),t.h+=n.length)}function Fe(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Ve(t,e,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(t){}}function Be(){this.g=new Ct}function ze(t,e,n){const r=n||"";try{pe(t,(function(t,n){let i=t;o(t)&&(i=Tt(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function Ue(t){this.l=t.Ub||null,this.j=t.eb||!1}function qe(t,e){ft.call(this),this.D=t,this.o=e,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function je(t){t.j.read().then(t.Pa.bind(t)).catch(t.ga.bind(t))}function Ge(t){t.readyState=4,t.l=null,t.j=null,t.v=null,$e(t)}function $e(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function He(t){let e="";return k(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}function Ke(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=He(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):be(t,e,n))}function We(t){ft.call(this),this.headers=new Map,this.o=t||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(t=Pe.prototype).add=function(t,e){Oe(this),this.i=null,t=Fe(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},t.forEach=function(t,e){Oe(this),this.g.forEach((function(n,r){n.forEach((function(n){t.call(e,n,r,this)}),this)}),this)},t.na=function(){Oe(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let t=0;t<i.length;t++)n.push(e[r])}return n},t.V=function(t){Oe(this);let e=[];if("string"==typeof t)Le(this,t)&&(e=e.concat(this.g.get(Fe(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},t.set=function(t,e){return Oe(this),this.i=null,Le(this,t=Fe(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")},T(Ue,St),Ue.prototype.g=function(){return new qe(this.l,this.j)},Ue.prototype.i=(xe={},function(){return xe}),T(qe,ft),(t=qe.prototype).open=function(t,e){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=t,this.A=e,this.readyState=1,$e(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.u,method:this.B,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||i).fetch(new Request(this.A,e)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ge(this)),this.readyState=0},t.Sa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,$e(this)),this.g&&(this.readyState=3,$e(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(void 0!==i.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;je(this)}else t.text().then(this.Ra.bind(this),this.ga.bind(this))},t.Pa=function(t){if(this.g){if(this.o&&t.value)this.response.push(t.value);else if(!this.o){var e=t.value?t.value:new Uint8Array(0);(e=this.v.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ge(this):$e(this),3==this.readyState&&je(this)}},t.Ra=function(t){this.g&&(this.response=this.responseText=t,Ge(this))},t.Qa=function(t){this.g&&(this.response=t,Ge(this))},t.ga=function(){this.g&&Ge(this)},t.setRequestHeader=function(t,e){this.u.append(t,e)},t.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(qe.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}}),T(We,ft);var Ye=/^https?$/i,Xe=["POST","PUT"];function Qe(t,e){t.h=!1,t.g&&(t.j=!0,t.g.abort(),t.j=!1),t.l=e,t.m=5,Je(t),tn(t)}function Je(t){t.A||(t.A=!0,pt(t,"complete"),pt(t,"error"))}function Ze(t){if(t.h&&void 0!==r&&(!t.v[1]||4!=nn(t)||2!=t.Z()))if(t.u&&4==nn(t))mt(t.Ea,0,t);else if(pt(t,"readystatechange"),4==nn(t)){t.h=!1;try{const r=t.Z();t:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var s;if(s=0===r){var o=String(t.D).match(ge)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),s=!Ye.test(o?o.toLowerCase():"")}n=s}if(n)pt(t,"complete"),pt(t,"success");else{t.m=6;try{var a=2<nn(t)?t.g.statusText:""}catch(t){a=""}t.l=a+" ["+t.Z()+"]",Je(t)}}finally{tn(t)}}}function tn(t,e){if(t.g){en(t);const n=t.g,r=t.v[0]?()=>{}:null;t.g=null,t.v=null,e||pt(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function en(t){t.I&&(i.clearTimeout(t.I),t.I=null)}function nn(t){return t.g?t.g.readyState:0}function rn(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.H){case"":case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(t){return null}}function sn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function on(t){this.Aa=0,this.i=[],this.j=new zt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sn("failFast",!1,t),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sn("baseRetryDelayMs",5e3,t),this.cb=sn("retryDelaySeedMs",1e4,t),this.Wa=sn("forwardChannelMaxRetries",2,t),this.wa=sn("forwardChannelRequestTimeoutMs",2e4,t),this.pa=t&&t.xmlHttpFactory||void 0,this.Xa=t&&t.Tb||void 0,this.Ca=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.h=new ae(t&&t.concurrentRequestLimit),this.Da=new Be,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=t&&t.Rb||!1,t&&t.xa&&this.j.xa(),t&&t.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&t&&t.detectBufferingProxy||!1,this.ja=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.ja=t.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function an(t){if(cn(t),3==t.G){var e=t.U++,n=ve(t.I);if(be(n,"SID",t.K),be(n,"RID",e),be(n,"TYPE","terminate"),dn(t,n),(e=new Ht(t,t.j,e)).L=2,e.v=Te(ve(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(e.v.toString(),"")}catch(t){}!n&&i.Image&&((new Image).src=e.v,n=!0),n||(e.g=Cn(e.j,null),e.g.ea(e.v)),e.F=Date.now(),te(e)}Tn(t)}function ln(t){t.g&&(mn(t),t.g.cancel(),t.g=null)}function cn(t){ln(t),t.u&&(i.clearTimeout(t.u),t.u=null),yn(t),t.h.cancel(),t.s&&("number"==typeof t.s&&i.clearTimeout(t.s),t.s=null)}function un(t){if(!le(t.h)&&!t.s){t.s=!0;var e=t.Ga;V||U(),B||(V(),B=!0),z.add(e,t),t.B=0}}function hn(t,e){var n;n=e?e.l:t.U++;const r=ve(t.I);be(r,"SID",t.K),be(r,"RID",n),be(r,"AID",t.T),dn(t,r),t.m&&t.o&&Ke(r,t.m,t.o),n=new Ht(t,t.j,n,t.B+1),null===t.m&&(n.H=t.o),e&&(t.i=e.D.concat(t.i)),e=fn(t,n,1e3),n.I=Math.round(.5*t.wa)+Math.round(.5*t.wa*Math.random()),he(t.h,n),Xt(n,r,e)}function dn(t,e){t.H&&k(t.H,(function(t,n){be(e,n,t)})),t.l&&pe({},(function(t,n){be(e,n,t)}))}function fn(t,e,n){n=Math.min(t.i.length,n);var r=t.l?c(t.l.Na,t.l,t):null;t:{var i=t.i;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=i[0].g,t.push("ofs="+e)):e=0:t.push("ofs="+e);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=e,0>n)e=Math.max(0,i[o].g-100),s=!1;else try{ze(a,t,"req"+n+"_")}catch(t){r&&r(a)}}if(s){r=t.join("&");break t}}}return t=t.i.splice(0,n),e.D=t,r}function pn(t){if(!t.g&&!t.u){t.Y=1;var e=t.Fa;V||U(),B||(V(),B=!0),z.add(e,t),t.v=0}}function gn(t){return!(t.g||t.u||3<=t.v||(t.Y++,t.u=Bt(c(t.Fa,t),_n(t,t.v)),t.v++,0))}function mn(t){null!=t.A&&(i.clearTimeout(t.A),t.A=null)}function vn(t){t.g=new Ht(t,t.j,"rpc",t.Y),null===t.m&&(t.g.H=t.o),t.g.O=0;var e=ve(t.qa);be(e,"RID","rpc"),be(e,"SID",t.K),be(e,"AID",t.T),be(e,"CI",t.F?"0":"1"),!t.F&&t.ja&&be(e,"TO",t.ja),be(e,"TYPE","xmlhttp"),dn(t,e),t.m&&t.o&&Ke(e,t.m,t.o),t.L&&(t.g.I=t.L);var n=t.g;t=t.ia,n.L=1,n.v=Te(ve(e)),n.m=null,n.P=!0,Qt(n,t)}function yn(t){null!=t.C&&(i.clearTimeout(t.C),t.C=null)}function wn(t,e){var n=null;if(t.g==e){yn(t),mn(t),t.g=null;var r=2}else{if(!ue(t.h,e))return;n=e.D,de(t.h,e),r=1}if(0!=t.G)if(e.o)if(1==r){n=e.m?e.m.length:0,e=Date.now()-e.F;var i=t.B;pt(r=Ot(),new Vt(r,n)),un(t)}else pn(t);else if(3==(i=e.s)||0==i&&0<e.X||!(1==r&&function(t,e){return!(ce(t.h)>=t.h.j-(t.s?1:0)||(t.s?(t.i=e.D.concat(t.i),0):1==t.G||2==t.G||t.B>=(t.Va?0:t.Wa)||(t.s=Bt(c(t.Ga,t,e),_n(t,t.B)),t.B++,0)))}(t,e)||2==r&&gn(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:bn(t,5);break;case 4:bn(t,10);break;case 3:bn(t,6);break;default:bn(t,2)}}function _n(t,e){let n=t.Ta+Math.floor(Math.random()*t.cb);return t.isActive()||(n*=2),n*e}function bn(t,e){if(t.j.info("Error code "+e),2==e){var n=c(t.fb,t),r=t.Xa;const e=!r;r=new me(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ye(r,"https"),Te(r),e?function(t,e){const n=new zt;if(i.Image){const r=new Image;r.onload=u(Ve,n,"TestLoadImage: loaded",!0,e,r),r.onerror=u(Ve,n,"TestLoadImage: error",!1,e,r),r.onabort=u(Ve,n,"TestLoadImage: abort",!1,e,r),r.ontimeout=u(Ve,n,"TestLoadImage: timeout",!1,e,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(r.toString(),n):function(t,e){new zt;const n=new AbortController,r=setTimeout((()=>{n.abort(),Ve(0,0,!1,e)}),1e4);fetch(t,{signal:n.signal}).then((t=>{clearTimeout(r),t.ok?Ve(0,0,!0,e):Ve(0,0,!1,e)})).catch((()=>{clearTimeout(r),Ve(0,0,!1,e)}))}(r.toString(),n)}else Ft(2);t.G=0,t.l&&t.l.sa(e),Tn(t),cn(t)}function Tn(t){if(t.G=0,t.ka=[],t.l){const e=fe(t.h);0==e.length&&0==t.i.length||(C(t.ka,e),C(t.ka,t.i),t.h.i.length=0,E(t.i),t.i.length=0),t.l.ra()}}function En(t,e,n){var r=n instanceof me?ve(n):new me(n);if(""!=r.g)e&&(r.g=e+"."+r.g),we(r,r.s);else{var s=i.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var o=new me(null);r&&ye(o,r),e&&(o.g=e),s&&we(o,s),n&&(o.l=n),r=o}return n=t.D,e=t.ya,n&&e&&be(r,n,e),be(r,"VER",t.la),dn(t,r),r}function Cn(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=t.Ca&&!t.pa?new We(new Ue({eb:n})):new We(t.pa)).Ha(t.J),e}function Sn(){}function xn(){}function In(t,e){ft.call(this),this.g=new on(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.o=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.va&&(t?t["X-WebChannel-Client-Profile"]=e.va:t={"X-WebChannel-Client-Profile":e.va}),this.g.S=t,(t=e&&e.Sb)&&!S(t)&&(this.g.m=t),this.v=e&&e.supportsCrossDomainXhr||!1,this.u=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!S(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Mn(this)}function An(t){kt.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function kn(){Mt.call(this),this.status=1}function Mn(t){this.g=t}(t=We.prototype).Ha=function(t){this.J=t},t.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);e=e?e.toUpperCase():"GET",this.D=t,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qt.g(),this.v=this.o?xt(this.o):xt(qt),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(e,String(t),!0),this.B=!1}catch(t){return void Qe(this,t)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const t of r.keys())n.set(t,r.get(t))}r=Array.from(n.keys()).find((t=>"content-type"==t.toLowerCase())),s=i.FormData&&t instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Xe,e,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[t,e]of n)this.g.setRequestHeader(t,e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{en(this),this.u=!0,this.g.send(t),this.u=!1}catch(t){Qe(this,t)}},t.abort=function(t){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=t||7,pt(this,"complete"),pt(this,"abort"),tn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tn(this,!0)),We.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ze(this):this.bb())},t.bb=function(){Ze(this)},t.isActive=function(){return!!this.g},t.Z=function(){try{return 2<nn(this)?this.g.status:-1}catch(t){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},t.Oa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Et(e)}},t.Ba=function(){return this.m},t.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(t=on.prototype).la=8,t.G=1,t.connect=function(t,e,n,r){Ft(0),this.W=t,this.H=e||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=En(this,null,this.W),un(this)},t.Ga=function(t){if(this.s)if(this.s=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Ht(this,this.j,t);let s=this.o;if(this.S&&(s?(s=M(s),P(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)t:{for(var e=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break t}if(4096===e||n===this.i.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=fn(this,i,e),be(n=ve(this.I),"RID",t),be(n,"CVER",22),this.D&&be(n,"X-HTTP-Session-Id",this.D),dn(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(He(s)))+"&"+e:this.m&&Ke(n,this.m,s)),he(this.h,i),this.Ua&&be(n,"TYPE","init"),this.P?(be(n,"$req",e),be(n,"SID","null"),i.T=!0,Xt(i,n,null)):Xt(i,n,e),this.G=2}}else 3==this.G&&(t?hn(this,t):0==this.i.length||le(this.h)||hn(this))},t.Fa=function(){if(this.u=null,vn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var t=2*this.R;this.j.info("BP detection timer enabled: "+t),this.A=Bt(c(this.ab,this),t)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ft(10),ln(this),vn(this))},t.Za=function(){null!=this.C&&(this.C=null,ln(this),gn(this),Ft(19))},t.fb=function(t){t?(this.j.info("Successfully pinged google.com"),Ft(2)):(this.j.info("Failed to ping google.com"),Ft(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=Sn.prototype).ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){},xn.prototype.g=function(t,e){return new In(t,e)},T(In,ft),In.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){an(this.g)},In.prototype.o=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.u&&((n={}).__data__=Tt(t),t=n);e.i.push(new oe(e.Ya++,t)),3==e.G&&un(e)},In.prototype.N=function(){this.g.l=null,delete this.j,an(this.g),delete this.g,In.aa.N.call(this)},T(An,kt),T(kn,Mt),T(Mn,Sn),Mn.prototype.ua=function(){pt(this.g,"a")},Mn.prototype.ta=function(t){pt(this.g,new An(t))},Mn.prototype.sa=function(t){pt(this.g,new kn)},Mn.prototype.ra=function(){pt(this.g,"b")},xn.prototype.createWebChannel=xn.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,w=b.createWebChannelTransport=function(){return new xn},y=b.getStatEventTarget=function(){return Ot()},v=b.Event=Dt,m=b.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},jt.NO_ERROR=0,jt.TIMEOUT=8,jt.HTTP_ERROR=6,g=b.ErrorCode=jt,Gt.COMPLETE="complete",p=b.EventType=Gt,It.EventType=At,At.OPEN="a",At.CLOSE="b",At.ERROR="c",At.MESSAGE="d",ft.prototype.listen=ft.prototype.K,f=b.WebChannel=It,d=b.FetchXmlHttpFactory=Ue,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,h=b.XhrIo=We}).apply(void 0!==_?_:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const T="@firebase/firestore";class E{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}E.UNAUTHENTICATED=new E(null),E.GOOGLE_CREDENTIALS=new E("google-credentials-uid"),E.FIRST_PARTY=new E("first-party-uid"),E.MOCK_USER=new E("mock-user");let C="10.12.1";const S=new a.Vy("@firebase/firestore");function x(){return S.logLevel}function I(t,...e){if(S.logLevel<=a.$b.DEBUG){const n=e.map(M);S.debug(`Firestore (${C}): ${t}`,...n)}}function A(t,...e){if(S.logLevel<=a.$b.ERROR){const n=e.map(M);S.error(`Firestore (${C}): ${t}`,...n)}}function k(t,...e){if(S.logLevel<=a.$b.WARN){const n=e.map(M);S.warn(`Firestore (${C}): ${t}`,...n)}}function M(t){if("string"==typeof t)return t;try{return function(t){return JSON.stringify(t)}(t)}catch(e){return t}}function D(t="Unexpected state"){const e=`FIRESTORE (${C}) INTERNAL ASSERTION FAILED: `+t;throw A(e),new Error(e)}function P(t,e){t||D()}function O(t,e){return t}const N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class L extends l.g{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class R{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class F{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class V{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(E.UNAUTHENTICATED)))}shutdown(){}}class B{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class z{constructor(t){this.t=t,this.currentUser=E.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){let n=this.i;const r=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let i=new R;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new R,t.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const e=i;t.enqueueRetryable((async()=>{await e.promise,await r(this.currentUser)}))},o=t=>{I("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((t=>o(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?o(t):(I("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new R)}}),0),s()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(I("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(P("string"==typeof e.accessToken),new F(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return P(null===t||"string"==typeof t),new E(t)}}class U{constructor(t,e,n){this.l=t,this.h=e,this.P=n,this.type="FirstParty",this.user=E.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class q{constructor(t,e,n){this.l=t,this.h=e,this.P=n}getToken(){return Promise.resolve(new U(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable((()=>e(E.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class j{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class G{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){const n=t=>{null!=t.error&&I("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${t.error.message}`);const n=t.token!==this.R;return this.R=t.token,I("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable((()=>n(e)))};const r=t=>{I("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.appCheck.addTokenListener(this.o)};this.A.onInit((t=>r(t))),setTimeout((()=>{if(!this.appCheck){const t=this.A.getImmediate({optional:!0});t?r(t):I("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((t=>t?(P("string"==typeof t.token),this.R=t.token,new j(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function $(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let e=0;e<t;e++)n[e]=Math.floor(256*Math.random());return n}class H{static newId(){const t=62*Math.floor(256/62);let e="";for(;e.length<20;){const n=$(40);for(let r=0;r<n.length;++r)e.length<20&&n[r]<t&&(e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return e}}function K(t,e){return t<e?-1:t>e?1:0}function W(t,e,n){return t.length===e.length&&t.every(((t,r)=>n(t,e[r])))}class Y{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new L(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new L(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new L(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new L(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Y.fromMillis(Date.now())}static fromDate(t){return Y.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new Y(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?K(this.nanoseconds,t.nanoseconds):K(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class X{constructor(t){this.timestamp=t}static fromTimestamp(t){return new X(t)}static min(){return new X(new Y(0,0))}static max(){return new X(new Y(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Q{constructor(t,e,n){void 0===e?e=0:e>t.length&&D(),void 0===n?n=t.length-e:n>t.length-e&&D(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===Q.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Q?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const n=t.get(r),i=e.get(r);if(n<i)return-1;if(n>i)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class J extends Q{construct(t,e,n){return new J(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new L(N.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter((t=>t.length>0)))}return new J(e)}static emptyPath(){return new J([])}}const Z=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tt extends Q{construct(t,e,n){return new tt(t,e,n)}static isValidIdentifier(t){return Z.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tt.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new tt(["__name__"])}static fromServerFormat(t){const e=[];let n="",r=0;const i=()=>{if(0===n.length)throw new L(N.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let s=!1;for(;r<t.length;){const e=t[r];if("\\"===e){if(r+1===t.length)throw new L(N.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[r+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new L(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,r+=2}else"`"===e?(s=!s,r++):"."!==e||s?(n+=e,r++):(i(),r++)}if(i(),s)throw new L(N.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new tt(e)}static emptyPath(){return new tt([])}}class et{constructor(t){this.path=t}static fromPath(t){return new et(J.fromString(t))}static fromName(t){return new et(J.fromString(t).popFirst(5))}static empty(){return new et(J.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===J.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return J.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new et(new J(t.slice()))}}function nt(t){return new rt(t.readTime,t.key,-1)}class rt{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new rt(X.min(),et.empty(),-1)}static max(){return new rt(X.max(),et.empty(),-1)}}function it(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=et.comparator(t.documentKey,e.documentKey),0!==n?n:K(t.largestBatchId,e.largestBatchId))}const st="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ot{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function at(t){if(t.code!==N.FAILED_PRECONDITION||t.message!==st)throw t;I("LocalStore","Unexpectedly lost primary lease")}class lt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&D(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new lt(((n,r)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,r)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof lt?e:lt.resolve(e)}catch(t){return lt.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):lt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):lt.reject(e)}static resolve(t){return new lt(((e,n)=>{e(t)}))}static reject(t){return new lt(((e,n)=>{n(t)}))}static waitFor(t){return new lt(((e,n)=>{let r=0,i=0,s=!1;t.forEach((t=>{++r,t.next((()=>{++i,s&&i===r&&e()}),(t=>n(t)))})),s=!0,i===r&&e()}))}static or(t){let e=lt.resolve(!1);for(const n of t)e=e.next((t=>t?lt.resolve(t):n()));return e}static forEach(t,e){const n=[];return t.forEach(((t,r)=>{n.push(e.call(this,t,r))})),this.waitFor(n)}static mapArray(t,e){return new lt(((n,r)=>{const i=t.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;e(t[l]).next((t=>{s[l]=t,++o,o===i&&n(s)}),(t=>r(t)))}}))}static doWhile(t,e){return new lt(((n,r)=>{const i=()=>{!0===t()?e().next((()=>{i()}),r):n()};i()}))}}function ct(t){return"IndexedDbTransactionError"===t.name}class ut{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.ie(t),this.se=t=>e.writeSequenceNumber(t))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}function ht(t){return null==t}function dt(t){return 0===t&&1/t==-1/0}ut.oe=-1;function ft(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function pt(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gt(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class mt{constructor(t,e){this.comparator=t,this.root=e||yt.EMPTY}insert(t,e){return new mt(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,yt.BLACK,null,null))}remove(t){return new mt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,yt.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push(`${e}:${n}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new vt(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new vt(this.root,t,this.comparator,!1)}getReverseIterator(){return new vt(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new vt(this.root,t,this.comparator,!0)}}class vt{constructor(t,e,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=e?n(t.key,e):1,e&&r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class yt{constructor(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:yt.RED,this.left=null!=r?r:yt.EMPTY,this.right=null!=i?i:yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,r,i){return new yt(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this;const i=n(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return yt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return yt.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw D();if(this.right.isRed())throw D();const t=this.left.check();if(t!==this.right.check())throw D();return t+(this.isRed()?0:1)}}yt.EMPTY=null,yt.RED=!0,yt.BLACK=!1,yt.EMPTY=new class{constructor(){this.size=0}get key(){throw D()}get value(){throw D()}get color(){throw D()}get left(){throw D()}get right(){throw D()}copy(t,e,n,r,i){return this}insert(t,e,n){return new yt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class wt{constructor(t){this.comparator=t,this.data=new mt(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new _t(this.data.getIterator())}getIteratorFrom(t){return new _t(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof wt))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(0!==this.comparator(t,r))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new wt(this.comparator);return e.data=t,e}}class _t{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class bt{constructor(t){this.fields=t,t.sort(tt.comparator)}static empty(){return new bt([])}unionWith(t){let e=new wt(tt.comparator);for(const t of this.fields)e=e.add(t);for(const n of t)e=e.add(n);return new bt(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return W(this.fields,t.fields,((t,e)=>t.isEqual(e)))}}class Tt extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Et{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(t){try{return atob(t)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new Tt("Invalid base64 string: "+t):t}}(t);return new Et(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new Et(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return K(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Et.EMPTY_BYTE_STRING=new Et("");const Ct=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function St(t){if(P(!!t),"string"==typeof t){let e=0;const n=Ct.exec(t);if(P(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(t.seconds),nanos:xt(t.nanos)}}function xt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function It(t){return"string"==typeof t?Et.fromBase64String(t):Et.fromUint8Array(t)}function At(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function kt(t){const e=t.mapValue.fields.__previous_value__;return At(e)?kt(e):e}function Mt(t){const e=St(t.mapValue.fields.__local_write_time__.timestampValue);return new Y(e.seconds,e.nanos)}class Dt{constructor(t,e,n,r,i,s,o,a,l){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class Pt{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Pt("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Pt&&t.projectId===this.projectId&&t.database===this.database}}const Ot={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Nt(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?At(t)?4:Wt(t)?9007199254740991:10:D()}function Lt(t,e){if(t===e)return!0;const n=Nt(t);if(n!==Nt(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Mt(t).isEqual(Mt(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=St(t.timestampValue),r=St(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return It(t.bytesValue).isEqual(It(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return xt(t.geoPointValue.latitude)===xt(e.geoPointValue.latitude)&&xt(t.geoPointValue.longitude)===xt(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return xt(t.integerValue)===xt(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=xt(t.doubleValue),r=xt(e.doubleValue);return n===r?dt(n)===dt(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return W(t.arrayValue.values||[],e.arrayValue.values||[],Lt);case 10:return function(t,e){const n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(ft(n)!==ft(r))return!1;for(const t in n)if(n.hasOwnProperty(t)&&(void 0===r[t]||!Lt(n[t],r[t])))return!1;return!0}(t,e);default:return D()}}function Rt(t,e){return void 0!==(t.values||[]).find((t=>Lt(t,e)))}function Ft(t,e){if(t===e)return 0;const n=Nt(t),r=Nt(e);if(n!==r)return K(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return K(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=xt(t.integerValue||t.doubleValue),r=xt(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Vt(t.timestampValue,e.timestampValue);case 4:return Vt(Mt(t),Mt(e));case 5:return K(t.stringValue,e.stringValue);case 6:return function(t,e){const n=It(t),r=It(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),r=e.split("/");for(let t=0;t<n.length&&t<r.length;t++){const e=K(n[t],r[t]);if(0!==e)return e}return K(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=K(xt(t.latitude),xt(e.latitude));return 0!==n?n:K(xt(t.longitude),xt(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){const n=t.values||[],r=e.values||[];for(let t=0;t<n.length&&t<r.length;++t){const e=Ft(n[t],r[t]);if(e)return e}return K(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){if(t===Ot.mapValue&&e===Ot.mapValue)return 0;if(t===Ot.mapValue)return 1;if(e===Ot.mapValue)return-1;const n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let t=0;t<r.length&&t<s.length;++t){const e=K(r[t],s[t]);if(0!==e)return e;const o=Ft(n[r[t]],i[s[t]]);if(0!==o)return o}return K(r.length,s.length)}(t.mapValue,e.mapValue);default:throw D()}}function Vt(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return K(t,e);const n=St(t),r=St(e),i=K(n.seconds,r.seconds);return 0!==i?i:K(n.nanos,r.nanos)}function Bt(t){return zt(t)}function zt(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=St(t);return`time(${e.seconds},${e.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(t){return It(t).toBase64()}(t.bytesValue):"referenceValue"in t?function(t){return et.fromName(t).toString()}(t.referenceValue):"geoPointValue"in t?function(t){return`geo(${t.latitude},${t.longitude})`}(t.geoPointValue):"arrayValue"in t?function(t){let e="[",n=!0;for(const r of t.values||[])n?n=!1:e+=",",e+=zt(r);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",r=!0;for(const i of e)r?r=!1:n+=",",n+=`${i}:${zt(t.fields[i])}`;return n+"}"}(t.mapValue):D()}function Ut(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function qt(t){return!!t&&"integerValue"in t}function jt(t){return!!t&&"arrayValue"in t}function Gt(t){return!!t&&"nullValue"in t}function $t(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ht(t){return!!t&&"mapValue"in t}function Kt(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return pt(t.mapValue.fields,((t,n)=>e.mapValue.fields[t]=Kt(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kt(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Wt(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Yt{constructor(t){this.value=t}static empty(){return new Yt({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!Ht(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Kt(e)}setAll(t){let e=tt.emptyPath(),n={},r=[];t.forEach(((t,i)=>{if(!e.isImmediateParentOf(i)){const t=this.getFieldsMap(e);this.applyChanges(t,n,r),n={},r=[],e=i.popLast()}t?n[i.lastSegment()]=Kt(t):r.push(i.lastSegment())}));const i=this.getFieldsMap(e);this.applyChanges(i,n,r)}delete(t){const e=this.field(t.popLast());Ht(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Lt(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=e.mapValue.fields[t.get(n)];Ht(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,n){pt(e,((e,n)=>t[e]=n));for(const e of n)delete t[e]}clone(){return new Yt(Kt(this.value))}}class Xt{constructor(t,e,n,r,i,s,o){this.key=t,this.documentType=e,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(t){return new Xt(t,0,X.min(),X.min(),X.min(),Yt.empty(),0)}static newFoundDocument(t,e,n,r){return new Xt(t,1,e,X.min(),n,r,0)}static newNoDocument(t,e){return new Xt(t,2,e,X.min(),X.min(),Yt.empty(),0)}static newUnknownDocument(t,e){return new Xt(t,3,e,X.min(),X.min(),Yt.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(X.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Yt.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Yt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Xt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qt{constructor(t,e){this.position=t,this.inclusive=e}}function Jt(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?et.comparator(et.fromName(o.referenceValue),n.key):Ft(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Zt(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Lt(t.position[n],e.position[n]))return!1;return!0}class te{constructor(t,e="asc"){this.field=t,this.dir=e}}function ee(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class ne{}class re extends ne{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,n):new ue(t,e,n):"array-contains"===e?new pe(t,n):"in"===e?new ge(t,n):"not-in"===e?new me(t,n):"array-contains-any"===e?new ve(t,n):new re(t,e,n)}static createKeyFieldInFilter(t,e,n){return"in"===e?new he(t,n):new de(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Ft(e,this.value)):null!==e&&Nt(this.value)===Nt(e)&&this.matchesComparison(Ft(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return D()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ie extends ne{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new ie(t,e)}matches(t){return se(this)?void 0===this.filters.find((e=>!e.matches(t))):void 0!==this.filters.find((e=>e.matches(t)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function se(t){return"and"===t.op}function oe(t){return function(t){for(const e of t.filters)if(e instanceof ie)return!1;return!0}(t)&&se(t)}function ae(t){if(t instanceof re)return t.field.canonicalString()+t.op.toString()+Bt(t.value);if(oe(t))return t.filters.map((t=>ae(t))).join(",");{const e=t.filters.map((t=>ae(t))).join(",");return`${t.op}(${e})`}}function le(t,e){return t instanceof re?function(t,e){return e instanceof re&&t.op===e.op&&t.field.isEqual(e.field)&&Lt(t.value,e.value)}(t,e):t instanceof ie?function(t,e){return e instanceof ie&&t.op===e.op&&t.filters.length===e.filters.length&&t.filters.reduce(((t,n,r)=>t&&le(n,e.filters[r])),!0)}(t,e):void D()}function ce(t){return t instanceof re?function(t){return`${t.field.canonicalString()} ${t.op} ${Bt(t.value)}`}(t):t instanceof ie?function(t){return t.op.toString()+" {"+t.getFilters().map(ce).join(" ,")+"}"}(t):"Filter"}class ue extends re{constructor(t,e,n){super(t,e,n),this.key=et.fromName(n.referenceValue)}matches(t){const e=et.comparator(t.key,this.key);return this.matchesComparison(e)}}class he extends re{constructor(t,e){super(t,"in",e),this.keys=fe(0,e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class de extends re{constructor(t,e){super(t,"not-in",e),this.keys=fe(0,e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function fe(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((t=>et.fromName(t.referenceValue)))}class pe extends re{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return jt(e)&&Rt(e.arrayValue,this.value)}}class ge extends re{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Rt(this.value.arrayValue,e)}}class me extends re{constructor(t,e){super(t,"not-in",e)}matches(t){if(Rt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Rt(this.value.arrayValue,e)}}class ve extends re{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!jt(e)||!e.arrayValue.values)&&e.arrayValue.values.some((t=>Rt(this.value.arrayValue,t)))}}class ye{constructor(t,e=null,n=[],r=[],i=null,s=null,o=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ue=null}}function we(t,e=null,n=[],r=[],i=null,s=null,o=null){return new ye(t,e,n,r,i,s,o)}function _e(t){const e=O(t);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((t=>ae(t))).join(","),t+="|ob:",t+=e.orderBy.map((t=>function(t){return t.field.canonicalString()+t.dir}(t))).join(","),ht(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((t=>Bt(t))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((t=>Bt(t))).join(",")),e.ue=t}return e.ue}function be(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ee(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!le(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Zt(t.startAt,e.startAt)&&Zt(t.endAt,e.endAt)}function Te(t){return et.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Ee{constructor(t,e=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Ce(t){return new Ee(t)}function Se(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function xe(t){return null!==t.collectionGroup}function Ie(t){const e=O(t);if(null===e.ce){e.ce=[];const t=new Set;for(const n of e.explicitOrderBy)e.ce.push(n),t.add(n.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc",r=function(t){let e=new wt(tt.comparator);return t.filters.forEach((t=>{t.getFlattenedFilters().forEach((t=>{t.isInequality()&&(e=e.add(t.field))}))})),e}(e);r.forEach((r=>{t.has(r.canonicalString())||r.isKeyField()||e.ce.push(new te(r,n))})),t.has(tt.keyField().canonicalString())||e.ce.push(new te(tt.keyField(),n))}return e.ce}function Ae(t){const e=O(t);return e.le||(e.le=function(t,e){if("F"===t.limitType)return we(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((t=>{const e="desc"===t.dir?"asc":"desc";return new te(t.field,e)}));const n=t.endAt?new Qt(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Qt(t.startAt.position,t.startAt.inclusive):null;return we(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,Ie(t))),e.le}function ke(t,e){const n=t.filters.concat([e]);return new Ee(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Me(t,e,n){return new Ee(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function De(t,e){return be(Ae(t),Ae(e))&&t.limitType===e.limitType}function Pe(t){return`${_e(Ae(t))}|lt:${t.limitType}`}function Oe(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map((t=>ce(t))).join(", ")}]`),ht(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map((t=>function(t){return`${t.field.canonicalString()} (${t.dir})`}(t))).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((t=>Bt(t))).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((t=>Bt(t))).join(",")),`Target(${e})`}(Ae(t))}; limitType=${t.limitType})`}function Ne(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):et.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of Ie(t))if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,n){const r=Jt(t,e,n);return t.inclusive?r<=0:r<0}(t.startAt,Ie(t),e)||t.endAt&&!function(t,e,n){const r=Jt(t,e,n);return t.inclusive?r>=0:r>0}(t.endAt,Ie(t),e))}(t,e)}function Le(t){return(e,n)=>{let r=!1;for(const i of Ie(t)){const t=Re(i,e,n);if(0!==t)return t;r=r||i.field.isKeyField()}return 0}}function Re(t,e,n){const r=t.field.isKeyField()?et.comparator(e.key,n.key):function(t,e,n){const r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Ft(r,i):D()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return D()}}class Fe{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[e,r]of n)if(this.equalsFn(e,t))return r}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),r=this.inner[n];if(void 0===r)return this.inner[n]=[[t,e]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],t))return void(r[n]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(t){pt(this.inner,((e,n)=>{for(const[e,r]of n)t(e,r)}))}isEmpty(){return gt(this.inner)}size(){return this.innerSize}}const Ve=new mt(et.comparator);function Be(){return Ve}const ze=new mt(et.comparator);function Ue(...t){let e=ze;for(const n of t)e=e.insert(n.key,n);return e}function qe(t){let e=ze;return t.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function je(){return $e()}function Ge(){return $e()}function $e(){return new Fe((t=>t.toString()),((t,e)=>t.isEqual(e)))}new mt(et.comparator);const He=new wt(et.comparator);function Ke(...t){let e=He;for(const n of t)e=e.add(n);return e}const We=new wt(K);function Ye(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dt(e)?"-0":e}}function Xe(t){return{integerValue:""+t}}function Qe(t,e){return function(t){return"number"==typeof t&&Number.isInteger(t)&&!dt(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?Xe(e):Ye(t,e)}class Je{constructor(){this._=void 0}}function Ze(t,e,n){return t instanceof en?function(t,e){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&At(e)&&(e=kt(e)),e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof nn?rn(t,e):t instanceof sn?on(t,e):function(t,e){const n=function(t,e){return t instanceof an?function(t){return qt(t)||function(t){return!!t&&"doubleValue"in t}(t)}(e)?e:{integerValue:0}:null}(t,e),r=ln(n)+ln(t.Pe);return qt(n)&&qt(t.Pe)?Xe(r):Ye(t.serializer,r)}(t,e)}function tn(t,e,n){return t instanceof nn?rn(t,e):t instanceof sn?on(t,e):n}class en extends Je{}class nn extends Je{constructor(t){super(),this.elements=t}}function rn(t,e){const n=cn(e);for(const e of t.elements)n.some((t=>Lt(t,e)))||n.push(e);return{arrayValue:{values:n}}}class sn extends Je{constructor(t){super(),this.elements=t}}function on(t,e){let n=cn(e);for(const e of t.elements)n=n.filter((t=>!Lt(t,e)));return{arrayValue:{values:n}}}class an extends Je{constructor(t,e){super(),this.serializer=t,this.Pe=e}}function ln(t){return xt(t.integerValue||t.doubleValue)}function cn(t){return jt(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class un{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new un}static exists(t){return new un(void 0,t)}static updateTime(t){return new un(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function hn(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class dn{}function fn(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Tn(t.key,un.none()):new vn(t.key,t.data,un.none());{const n=t.data,r=Yt.empty();let i=new wt(tt.comparator);for(let t of e.fields)if(!i.has(t)){let e=n.field(t);null===e&&t.length>1&&(t=t.popLast(),e=n.field(t)),null===e?r.delete(t):r.set(t,e),i=i.add(t)}return new yn(t.key,r,new bt(i.toArray()),un.none())}}function pn(t,e,n){t instanceof vn?function(t,e,n){const r=t.value.clone(),i=_n(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof yn?function(t,e,n){if(!hn(t.precondition,e))return void e.convertToUnknownDocument(n.version);const r=_n(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(wn(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function gn(t,e,n,r){return t instanceof vn?function(t,e,n,r){if(!hn(t.precondition,e))return n;const i=t.value.clone(),s=bn(t.fieldTransforms,r,e);return i.setAll(s),e.convertToFoundDocument(e.version,i).setHasLocalMutations(),null}(t,e,n,r):t instanceof yn?function(t,e,n,r){if(!hn(t.precondition,e))return n;const i=bn(t.fieldTransforms,r,e),s=e.data;return s.setAll(wn(t)),s.setAll(i),e.convertToFoundDocument(e.version,s).setHasLocalMutations(),null===n?null:n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map((t=>t.field)))}(t,e,n,r):function(t,e,n){return hn(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):n}(t,e,n)}function mn(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&W(t,e,((t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof nn&&e instanceof nn||t instanceof sn&&e instanceof sn?W(t.elements,e.elements,Lt):t instanceof an&&e instanceof an?Lt(t.Pe,e.Pe):t instanceof en&&e instanceof en}(t.transform,e.transform)}(t,e)))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class vn extends dn{constructor(t,e,n,r=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class yn extends dn{constructor(t,e,n,r,i=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function wn(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function _n(t,e,n){const r=new Map;P(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,tn(o,a,n[i]))}return r}function bn(t,e,n){const r=new Map;for(const i of t){const t=i.transform,s=n.data.field(i.field);r.set(i.field,Ze(t,s,e))}return r}class Tn extends dn{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class En{constructor(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let e=0;e<this.mutations.length;e++){const r=this.mutations[e];r.key.isEqual(t.key)&&pn(r,t,n[e])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=gn(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=gn(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=Ge();return this.mutations.forEach((r=>{const i=t.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=e.has(r.key)?null:o;const a=fn(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(X.min())})),n}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Ke())}isEqual(t){return this.batchId===t.batchId&&W(this.mutations,t.mutations,((t,e)=>mn(t,e)))&&W(this.baseMutations,t.baseMutations,((t,e)=>mn(t,e)))}}class Cn{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Sn{constructor(t,e){this.count=t,this.unchangedNames=e}}var xn,In;function An(t){if(void 0===t)return A("GRPC error has no .code"),N.UNKNOWN;switch(t){case xn.OK:return N.OK;case xn.CANCELLED:return N.CANCELLED;case xn.UNKNOWN:return N.UNKNOWN;case xn.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case xn.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case xn.INTERNAL:return N.INTERNAL;case xn.UNAVAILABLE:return N.UNAVAILABLE;case xn.UNAUTHENTICATED:return N.UNAUTHENTICATED;case xn.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case xn.NOT_FOUND:return N.NOT_FOUND;case xn.ALREADY_EXISTS:return N.ALREADY_EXISTS;case xn.PERMISSION_DENIED:return N.PERMISSION_DENIED;case xn.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case xn.ABORTED:return N.ABORTED;case xn.OUT_OF_RANGE:return N.OUT_OF_RANGE;case xn.UNIMPLEMENTED:return N.UNIMPLEMENTED;case xn.DATA_LOSS:return N.DATA_LOSS;default:return D()}}(In=xn||(xn={}))[In.OK=0]="OK",In[In.CANCELLED=1]="CANCELLED",In[In.UNKNOWN=2]="UNKNOWN",In[In.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",In[In.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",In[In.NOT_FOUND=5]="NOT_FOUND",In[In.ALREADY_EXISTS=6]="ALREADY_EXISTS",In[In.PERMISSION_DENIED=7]="PERMISSION_DENIED",In[In.UNAUTHENTICATED=16]="UNAUTHENTICATED",In[In.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",In[In.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",In[In.ABORTED=10]="ABORTED",In[In.OUT_OF_RANGE=11]="OUT_OF_RANGE",In[In.UNIMPLEMENTED=12]="UNIMPLEMENTED",In[In.INTERNAL=13]="INTERNAL",In[In.UNAVAILABLE=14]="UNAVAILABLE",In[In.DATA_LOSS=15]="DATA_LOSS";const kn=new r([4294967295,4294967295],0);function Mn(t){const e=(new TextEncoder).encode(t),n=new i;return n.update(e),new Uint8Array(n.digest())}function Dn(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new r([n,i],0),new r([s,o],0)]}class Pn{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new On(`Invalid padding: ${e}`);if(n<0)throw new On(`Invalid hash count: ${n}`);if(t.length>0&&0===this.hashCount)throw new On(`Invalid hash count: ${n}`);if(0===t.length&&0!==e)throw new On(`Invalid padding when bitmap length is 0: ${e}`);this.Ie=8*t.length-e,this.Te=r.fromNumber(this.Ie)}Ee(t,e,n){let i=t.add(e.multiply(r.fromNumber(n)));return 1===i.compare(kn)&&(i=new r([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ie)return!1;const e=Mn(t),[n,r]=Dn(e);for(let t=0;t<this.hashCount;t++){const e=this.Ee(n,r,t);if(!this.de(e))return!1}return!0}static create(t,e,n){const r=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),s=new Pn(i,r,e);return n.forEach((t=>s.insert(t))),s}insert(t){if(0===this.Ie)return;const e=Mn(t),[n,r]=Dn(e);for(let t=0;t<this.hashCount;t++){const e=this.Ee(n,r,t);this.Ae(e)}}Ae(t){const e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}}class On extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nn{constructor(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const r=new Map;return r.set(t,Ln.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new Nn(X.min(),r,new mt(K),Be(),Ke())}}class Ln{constructor(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new Ln(n,e,Ke(),Ke(),Ke())}}class Rn{constructor(t,e,n,r){this.Re=t,this.removedTargetIds=e,this.key=n,this.Ve=r}}class Fn{constructor(t,e){this.targetId=t,this.me=e}}class Vn{constructor(t,e,n=Et.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}class Bn{constructor(){this.fe=0,this.ge=qn(),this.pe=Et.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}Ce(){let t=Ke(),e=Ke(),n=Ke();return this.ge.forEach(((r,i)=>{switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:D()}})),new Ln(this.pe,this.ye,t,e,n)}ve(){this.we=!1,this.ge=qn()}Fe(t,e){this.we=!0,this.ge=this.ge.insert(t,e)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,P(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class zn{constructor(t){this.Le=t,this.Be=new Map,this.ke=Be(),this.qe=Un(),this.Qe=new mt(K)}Ke(t){for(const e of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(e,t.Ve):this.Ue(e,t.key,t.Ve);for(const e of t.removedTargetIds)this.Ue(e,t.key,t.Ve)}We(t){this.forEachTarget(t,(e=>{const n=this.Ge(e);switch(t.state){case 0:this.ze(e)&&n.De(t.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(t.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(e);break;case 3:this.ze(e)&&(n.Ne(),n.De(t.resumeToken));break;case 4:this.ze(e)&&(this.je(e),n.De(t.resumeToken));break;default:D()}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Be.forEach(((t,n)=>{this.ze(n)&&e(n)}))}He(t){const e=t.targetId,n=t.me.count,r=this.Je(e);if(r){const i=r.target;if(Te(i))if(0===n){const t=new et(i.path);this.Ue(e,t,Xt.newNoDocument(t,X.min()))}else P(1===n);else{const r=this.Ye(e);if(r!==n){const n=this.Ze(t),i=n?this.Xe(n,t,r):1;if(0!==i){this.je(e);const t=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(e,t)}}}}}Ze(t){const e=t.me.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=e;let s,o;try{s=It(n).toUint8Array()}catch(t){if(t instanceof Tt)return k("Decoding the base64 bloom filter in existence filter failed ("+t.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw t}try{o=new Pn(s,r,i)}catch(t){return k(t instanceof On?"BloomFilter error: ":"Applying bloom filter failed: ",t),null}return 0===o.Ie?null:o}Xe(t,e,n){return e.me.count===n-this.nt(t,e.targetId)?0:2}nt(t,e){const n=this.Le.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{const i=this.Le.tt(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;t.mightContain(s)||(this.Ue(e,n,null),r++)})),r}rt(t){const e=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&Te(i.target)){const e=new et(i.target.path);null!==this.ke.get(e)||this.it(r,e)||this.Ue(r,e,Xt.newNoDocument(e,t))}n.be&&(e.set(r,n.Ce()),n.ve())}}));let n=Ke();this.qe.forEach(((t,e)=>{let r=!0;e.forEachWhile((t=>{const e=this.Je(t);return!e||"TargetPurposeLimboResolution"===e.purpose||(r=!1,!1)})),r&&(n=n.add(t))})),this.ke.forEach(((e,n)=>n.setReadTime(t)));const r=new Nn(t,e,this.Qe,this.ke,n);return this.ke=Be(),this.qe=Un(),this.Qe=new mt(K),r}$e(t,e){if(!this.ze(t))return;const n=this.it(t,e.key)?2:0;this.Ge(t).Fe(e.key,n),this.ke=this.ke.insert(e.key,e),this.qe=this.qe.insert(e.key,this.st(e.key).add(t))}Ue(t,e,n){if(!this.ze(t))return;const r=this.Ge(t);this.it(t,e)?r.Fe(e,1):r.Me(e),this.qe=this.qe.insert(e,this.st(e).delete(t)),n&&(this.ke=this.ke.insert(e,n))}removeTarget(t){this.Be.delete(t)}Ye(t){const e=this.Ge(t).Ce();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let e=this.Be.get(t);return e||(e=new Bn,this.Be.set(t,e)),e}st(t){let e=this.qe.get(t);return e||(e=new wt(K),this.qe=this.qe.insert(t,e)),e}ze(t){const e=null!==this.Je(t);return e||I("WatchChangeAggregator","Detected inactive target",t),e}Je(t){const e=this.Be.get(t);return e&&e.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new Bn),this.Le.getRemoteKeysForTarget(t).forEach((e=>{this.Ue(t,e,null)}))}it(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function Un(){return new mt(et.comparator)}function qn(){return new mt(et.comparator)}const jn={asc:"ASCENDING",desc:"DESCENDING"},Gn={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$n={and:"AND",or:"OR"};class Hn{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Kn(t,e){return t.useProto3Json||ht(e)?e:{value:e}}function Wn(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Yn(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Xn(t){return P(!!t),X.fromTimestamp(function(t){const e=St(t);return new Y(e.seconds,e.nanos)}(t))}function Qn(t,e){return Jn(t,e).canonicalString()}function Jn(t,e){const n=function(t){return new J(["projects",t.projectId,"databases",t.database])}(t).child("documents");return void 0===e?n:n.child(e)}function Zn(t){const e=J.fromString(t);return P(pr(e)),e}function tr(t,e){const n=Zn(e);if(n.get(1)!==t.databaseId.projectId)throw new L(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new et(rr(n))}function er(t,e){return Qn(t.databaseId,e)}function nr(t){return new J(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rr(t){return P(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function ir(t,e){return{documents:[er(t,e.path)]}}function sr(t,e){const n={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=er(t,i);const s=function(t){if(0!==t.length)return fr(ie.create(t,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(t){if(0!==t.length)return t.map((t=>function(t){return{field:hr(t.field),direction:lr(t.dir)}}(t)))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Kn(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(t){return{before:t.inclusive,values:t.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),{_t:n,parent:i}}function or(t){let e=function(t){const e=Zn(t);return 4===e.length?J.emptyPath():rr(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){P(1===r);const t=n.from[0];t.allDescendants?i=t.collectionId:e=e.child(t.collectionId)}let s=[];n.where&&(s=function(t){const e=ar(t);return e instanceof ie&&oe(e)?e.getFilters():[e]}(n.where));let o=[];n.orderBy&&(o=function(t){return t.map((t=>function(t){return new te(dr(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)))}(n.orderBy));let a=null;n.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,ht(e)?null:e}(n.limit));let l=null;n.startAt&&(l=function(t){const e=!!t.before,n=t.values||[];return new Qt(n,e)}(n.startAt));let c=null;return n.endAt&&(c=function(t){const e=!t.before,n=t.values||[];return new Qt(n,e)}(n.endAt)),function(t,e,n,r,i,s,o,a){return new Ee(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",l,c)}function ar(t){return void 0!==t.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=dr(t.unaryFilter.field);return re.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=dr(t.unaryFilter.field);return re.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=dr(t.unaryFilter.field);return re.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=dr(t.unaryFilter.field);return re.create(i,"!=",{nullValue:"NULL_VALUE"});default:return D()}}(t):void 0!==t.fieldFilter?function(t){return re.create(dr(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return D()}}(t.fieldFilter.op),t.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(t){return ie.create(t.compositeFilter.filters.map((t=>ar(t))),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return D()}}(t.compositeFilter.op))}(t):D()}function lr(t){return jn[t]}function cr(t){return Gn[t]}function ur(t){return $n[t]}function hr(t){return{fieldPath:t.canonicalString()}}function dr(t){return tt.fromServerFormat(t.fieldPath)}function fr(t){return t instanceof re?function(t){if("=="===t.op){if($t(t.value))return{unaryFilter:{field:hr(t.field),op:"IS_NAN"}};if(Gt(t.value))return{unaryFilter:{field:hr(t.field),op:"IS_NULL"}}}else if("!="===t.op){if($t(t.value))return{unaryFilter:{field:hr(t.field),op:"IS_NOT_NAN"}};if(Gt(t.value))return{unaryFilter:{field:hr(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hr(t.field),op:cr(t.op),value:t.value}}}(t):t instanceof ie?function(t){const e=t.getFilters().map((t=>fr(t)));return 1===e.length?e[0]:{compositeFilter:{op:ur(t.op),filters:e}}}(t):D()}function pr(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class gr{constructor(t,e,n,r,i=X.min(),s=X.min(),o=Et.EMPTY_BYTE_STRING,a=null){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(t){return new gr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new gr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class mr{constructor(t){this.ct=t}}function vr(t){const e=or({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Me(e,e.limit,"L"):e}class yr{constructor(){}Pt(t,e){this.It(t,e),e.Tt()}It(t,e){if("nullValue"in t)this.Et(e,5);else if("booleanValue"in t)this.Et(e,10),e.dt(t.booleanValue?1:0);else if("integerValue"in t)this.Et(e,15),e.dt(xt(t.integerValue));else if("doubleValue"in t){const n=xt(t.doubleValue);isNaN(n)?this.Et(e,13):(this.Et(e,15),dt(n)?e.dt(0):e.dt(n))}else if("timestampValue"in t){let n=t.timestampValue;this.Et(e,20),"string"==typeof n&&(n=St(n)),e.At(`${n.seconds||""}`),e.dt(n.nanos||0)}else if("stringValue"in t)this.Rt(t.stringValue,e),this.Vt(e);else if("bytesValue"in t)this.Et(e,30),e.ft(It(t.bytesValue)),this.Vt(e);else if("referenceValue"in t)this.gt(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.Et(e,45),e.dt(n.latitude||0),e.dt(n.longitude||0)}else"mapValue"in t?Wt(t)?this.Et(e,Number.MAX_SAFE_INTEGER):(this.yt(t.mapValue,e),this.Vt(e)):"arrayValue"in t?(this.wt(t.arrayValue,e),this.Vt(e)):D()}Rt(t,e){this.Et(e,25),this.St(t,e)}St(t,e){e.At(t)}yt(t,e){const n=t.fields||{};this.Et(e,55);for(const t of Object.keys(n))this.Rt(t,e),this.It(n[t],e)}wt(t,e){const n=t.values||[];this.Et(e,50);for(const t of n)this.It(t,e)}gt(t,e){this.Et(e,37),et.fromName(t).path.forEach((t=>{this.Et(e,60),this.St(t,e)}))}Et(t,e){t.dt(e)}Vt(t){t.dt(2)}}yr.bt=new yr;class wr{constructor(){this._n=new _r}addToCollectionParentIndex(t,e){return this._n.add(e),lt.resolve()}getCollectionParents(t,e){return lt.resolve(this._n.getEntries(e))}addFieldIndex(t,e){return lt.resolve()}deleteFieldIndex(t,e){return lt.resolve()}deleteAllFieldIndexes(t){return lt.resolve()}createTargetIndexes(t,e){return lt.resolve()}getDocumentsMatchingTarget(t,e){return lt.resolve(null)}getIndexType(t,e){return lt.resolve(0)}getFieldIndexes(t,e){return lt.resolve([])}getNextCollectionGroupToUpdate(t){return lt.resolve(null)}getMinOffset(t,e){return lt.resolve(rt.min())}getMinOffsetFromCollectionGroup(t,e){return lt.resolve(rt.min())}updateCollectionGroup(t,e,n){return lt.resolve()}updateIndexEntries(t,e){return lt.resolve()}}class _r{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new wt(J.comparator),i=!r.has(n);return this.index[e]=r.add(n),i}has(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)}getEntries(t){return(this.index[t]||new wt(J.comparator)).toArray()}}new Uint8Array(0);class br{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new br(t,br.DEFAULT_COLLECTION_PERCENTILE,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}br.DEFAULT_COLLECTION_PERCENTILE=10,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,br.DEFAULT=new br(41943040,br.DEFAULT_COLLECTION_PERCENTILE,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),br.DISABLED=new br(-1,0,0);class Tr{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new Tr(0)}static Ln(){return new Tr(-1)}}class Er{constructor(){this.changes=new Fe((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Xt.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?lt.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Cr{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class Sr{constructor(t,e,n,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=r}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(n=r,this.remoteDocumentCache.getEntry(t,e)))).next((t=>(null!==n&&gn(n.mutation,t,bt.empty(),Y.now()),t)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.getLocalViewOfDocuments(t,e,Ke()).next((()=>e))))}getLocalViewOfDocuments(t,e,n=Ke()){const r=je();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,n).next((t=>{let e=Ue();return t.forEach(((t,n)=>{e=e.insert(t,n.overlayedDocument)})),e}))))}getOverlayedDocuments(t,e){const n=je();return this.populateOverlays(t,n,e).next((()=>this.computeViews(t,e,n,Ke())))}populateOverlays(t,e,n){const r=[];return n.forEach((t=>{e.has(t)||r.push(t)})),this.documentOverlayCache.getOverlays(t,r).next((t=>{t.forEach(((t,n)=>{e.set(t,n)}))}))}computeViews(t,e,n,r){let i=Be();const s=$e(),o=$e();return e.forEach(((t,e)=>{const o=n.get(e.key);r.has(e.key)&&(void 0===o||o.mutation instanceof yn)?i=i.insert(e.key,e):void 0!==o?(s.set(e.key,o.mutation.getFieldMask()),gn(o.mutation,e,o.mutation.getFieldMask(),Y.now())):s.set(e.key,bt.empty())})),this.recalculateAndSaveOverlays(t,i).next((t=>(t.forEach(((t,e)=>s.set(t,e))),e.forEach(((t,e)=>{var n;return o.set(t,new Cr(e,null!==(n=s.get(t))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(t,e){const n=$e();let r=new mt(((t,e)=>t-e)),i=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((t=>{for(const i of t)i.keys().forEach((t=>{const s=e.get(t);if(null===s)return;let o=n.get(t)||bt.empty();o=i.applyToLocalView(s,o),n.set(t,o);const a=(r.get(i.batchId)||Ke()).add(t);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=Ge();l.forEach((t=>{if(!i.has(t)){const r=fn(e.get(t),n.get(t));null!==r&&c.set(t,r),i=i.add(t)}})),s.push(this.documentOverlayCache.saveOverlays(t,a,c))}return lt.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.recalculateAndSaveOverlays(t,e)))}getDocumentsMatchingQuery(t,e,n,r){return function(t){return et.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):xe(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,r):this.getDocumentsMatchingCollectionQuery(t,e,n,r)}getNextDocuments(t,e,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,r-i.size):lt.resolve(je());let o=-1,a=i;return s.next((e=>lt.forEach(e,((e,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(e)?lt.resolve():this.remoteDocumentCache.getEntry(t,e).next((t=>{a=a.insert(e,t)}))))).next((()=>this.populateOverlays(t,e,i))).next((()=>this.computeViews(t,a,e,Ke()))).next((t=>({batchId:o,changes:qe(t)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new et(e)).next((t=>{let e=Ue();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}getDocumentsMatchingCollectionGroupQuery(t,e,n,r){const i=e.collectionGroup;let s=Ue();return this.indexManager.getCollectionParents(t,i).next((o=>lt.forEach(o,(o=>{const a=function(t,e){return new Ee(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return this.getDocumentsMatchingCollectionQuery(t,a,n,r).next((t=>{t.forEach(((t,e)=>{s=s.insert(t,e)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(t,e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,i,r)))).next((t=>{i.forEach(((e,n)=>{const r=n.getKey();null===t.get(r)&&(t=t.insert(r,Xt.newInvalidDocument(r)))}));let n=Ue();return t.forEach(((t,r)=>{const s=i.get(t);void 0!==s&&gn(s.mutation,r,bt.empty(),Y.now()),Ne(e,r)&&(n=n.insert(t,r))})),n}))}}class xr{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,e){return lt.resolve(this.cr.get(e))}saveBundleMetadata(t,e){return this.cr.set(e.id,function(t){return{id:t.id,version:t.version,createTime:Xn(t.createTime)}}(e)),lt.resolve()}getNamedQuery(t,e){return lt.resolve(this.lr.get(e))}saveNamedQuery(t,e){return this.lr.set(e.name,function(t){return{name:t.name,query:vr(t.bundledQuery),readTime:Xn(t.readTime)}}(e)),lt.resolve()}}class Ir{constructor(){this.overlays=new mt(et.comparator),this.hr=new Map}getOverlay(t,e){return lt.resolve(this.overlays.get(e))}getOverlays(t,e){const n=je();return lt.forEach(e,(e=>this.getOverlay(t,e).next((t=>{null!==t&&n.set(e,t)})))).next((()=>n))}saveOverlays(t,e,n){return n.forEach(((n,r)=>{this.ht(t,e,r)})),lt.resolve()}removeOverlaysForBatchId(t,e,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((t=>this.overlays=this.overlays.remove(t))),this.hr.delete(n)),lt.resolve()}getOverlaysForCollection(t,e,n){const r=je(),i=e.length+1,s=new et(e.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const t=o.getNext().value,s=t.getKey();if(!e.isPrefixOf(s.path))break;s.path.length===i&&t.largestBatchId>n&&r.set(t.getKey(),t)}return lt.resolve(r)}getOverlaysForCollectionGroup(t,e,n,r){let i=new mt(((t,e)=>t-e));const s=this.overlays.getIterator();for(;s.hasNext();){const t=s.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>n){let e=i.get(t.largestBatchId);null===e&&(e=je(),i=i.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const o=je(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((t,e)=>o.set(t,e))),!(o.size()>=r)););return lt.resolve(o)}ht(t,e,n){const r=this.overlays.get(n.key);if(null!==r){const t=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,t)}this.overlays=this.overlays.insert(n.key,new Cn(e,n));let i=this.hr.get(e);void 0===i&&(i=Ke(),this.hr.set(e,i)),this.hr.set(e,i.add(n.key))}}class Ar{constructor(){this.Pr=new wt(kr.Ir),this.Tr=new wt(kr.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,e){const n=new kr(t,e);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(t,e){t.forEach((t=>this.addReference(t,e)))}removeReference(t,e){this.Ar(new kr(t,e))}Rr(t,e){t.forEach((t=>this.removeReference(t,e)))}Vr(t){const e=new et(new J([])),n=new kr(e,t),r=new kr(e,t+1),i=[];return this.Tr.forEachInRange([n,r],(t=>{this.Ar(t),i.push(t.key)})),i}mr(){this.Pr.forEach((t=>this.Ar(t)))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const e=new et(new J([])),n=new kr(e,t),r=new kr(e,t+1);let i=Ke();return this.Tr.forEachInRange([n,r],(t=>{i=i.add(t.key)})),i}containsKey(t){const e=new kr(t,0),n=this.Pr.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class kr{constructor(t,e){this.key=t,this.pr=e}static Ir(t,e){return et.comparator(t.key,e.key)||K(t.pr,e.pr)}static Er(t,e){return K(t.pr,e.pr)||et.comparator(t.key,e.key)}}class Mr{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.yr=1,this.wr=new wt(kr.Ir)}checkEmpty(t){return lt.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new En(i,e,n,r);this.mutationQueue.push(s);for(const e of r)this.wr=this.wr.add(new kr(e.key,i)),this.indexManager.addToCollectionParentIndex(t,e.key.path.popLast());return lt.resolve(s)}lookupMutationBatch(t,e){return lt.resolve(this.Sr(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,r=this.br(n),i=r<0?0:r;return lt.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return lt.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(t){return lt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new kr(e,0),r=new kr(e,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(t=>{const e=this.Sr(t.pr);i.push(e)})),lt.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new wt(K);return e.forEach((t=>{const e=new kr(t,0),r=new kr(t,Number.POSITIVE_INFINITY);this.wr.forEachInRange([e,r],(t=>{n=n.add(t.pr)}))})),lt.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1;let i=n;et.isDocumentKey(i)||(i=i.child(""));const s=new kr(new et(i),0);let o=new wt(K);return this.wr.forEachWhile((t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.pr)),!0)}),s),lt.resolve(this.Dr(o))}Dr(t){const e=[];return t.forEach((t=>{const n=this.Sr(t);null!==n&&e.push(n)})),e}removeMutationBatch(t,e){P(0===this.Cr(e.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return lt.forEach(e.mutations,(r=>{const i=new kr(r.key,e.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.wr=n}))}Mn(t){}containsKey(t,e){const n=new kr(e,0),r=this.wr.firstAfterOrEqual(n);return lt.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,lt.resolve()}Cr(t,e){return this.br(t)}br(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Sr(t){const e=this.br(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class Dr{constructor(t){this.vr=t,this.docs=new mt(et.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,r=this.docs.get(n),i=r?r.size:0,s=this.vr(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return lt.resolve(n?n.document.mutableCopy():Xt.newInvalidDocument(e))}getEntries(t,e){let n=Be();return e.forEach((t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.mutableCopy():Xt.newInvalidDocument(t))})),lt.resolve(n)}getDocumentsMatchingQuery(t,e,n,r){let i=Be();const s=e.path,o=new et(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:t,value:{document:o}}=a.getNext();if(!s.isPrefixOf(t.path))break;t.path.length>s.length+1||it(nt(o),n)<=0||(r.has(o.key)||Ne(e,o))&&(i=i.insert(o.key,o.mutableCopy()))}return lt.resolve(i)}getAllFromCollectionGroup(t,e,n,r){D()}Fr(t,e){return lt.forEach(this.docs,(t=>e(t)))}newChangeBuffer(t){return new Pr(this)}getSize(t){return lt.resolve(this.size)}}class Pr extends Er{constructor(t){super(),this.ar=t}applyChanges(t){const e=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?e.push(this.ar.addEntry(t,r)):this.ar.removeEntry(n)})),lt.waitFor(e)}getFromCache(t,e){return this.ar.getEntry(t,e)}getAllFromCache(t,e){return this.ar.getEntries(t,e)}}class Or{constructor(t){this.persistence=t,this.Mr=new Fe((t=>_e(t)),be),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Ar,this.targetCount=0,this.Lr=Tr.Nn()}forEachTarget(t,e){return this.Mr.forEach(((t,n)=>e(n))),lt.resolve()}getLastRemoteSnapshotVersion(t){return lt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return lt.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Lr.next(),lt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Or&&(this.Or=e),lt.resolve()}qn(t){this.Mr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Lr=new Tr(e),this.highestTargetId=e),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,e){return this.qn(e),this.targetCount+=1,lt.resolve()}updateTargetData(t,e){return this.qn(e),lt.resolve()}removeTargetData(t,e){return this.Mr.delete(e.target),this.Nr.Vr(e.targetId),this.targetCount-=1,lt.resolve()}removeTargets(t,e,n){let r=0;const i=[];return this.Mr.forEach(((s,o)=>{o.sequenceNumber<=e&&null===n.get(o.targetId)&&(this.Mr.delete(s),i.push(this.removeMatchingKeysForTargetId(t,o.targetId)),r++)})),lt.waitFor(i).next((()=>r))}getTargetCount(t){return lt.resolve(this.targetCount)}getTargetData(t,e){const n=this.Mr.get(e)||null;return lt.resolve(n)}addMatchingKeys(t,e,n){return this.Nr.dr(e,n),lt.resolve()}removeMatchingKeys(t,e,n){this.Nr.Rr(e,n);const r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((e=>{i.push(r.markPotentiallyOrphaned(t,e))})),lt.waitFor(i)}removeMatchingKeysForTargetId(t,e){return this.Nr.Vr(e),lt.resolve()}getMatchingKeysForTargetId(t,e){const n=this.Nr.gr(e);return lt.resolve(n)}containsKey(t,e){return lt.resolve(this.Nr.containsKey(e))}}class Nr{constructor(t,e){this.Br={},this.overlays={},this.kr=new ut(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new Or(this),this.indexManager=new wr,this.remoteDocumentCache=function(t){return new Dr(t)}((t=>this.referenceDelegate.Kr(t))),this.serializer=new mr(e),this.$r=new xr(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Ir,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.Br[t.toKey()];return n||(n=new Mr(e,this.referenceDelegate),this.Br[t.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,e,n){I("MemoryPersistence","Starting transaction:",t);const r=new Lr(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((t=>this.referenceDelegate.Wr(r).next((()=>t)))).toPromise().then((t=>(r.raiseOnCommittedEvent(),t)))}Gr(t,e){return lt.or(Object.values(this.Br).map((n=>()=>n.containsKey(t,e))))}}class Lr extends ot{constructor(t){super(),this.currentSequenceNumber=t}}class Rr{constructor(t){this.persistence=t,this.zr=new Ar,this.jr=null}static Hr(t){return new Rr(t)}get Jr(){if(this.jr)return this.jr;throw D()}addReference(t,e,n){return this.zr.addReference(n,e),this.Jr.delete(n.toString()),lt.resolve()}removeReference(t,e,n){return this.zr.removeReference(n,e),this.Jr.add(n.toString()),lt.resolve()}markPotentiallyOrphaned(t,e){return this.Jr.add(e.toString()),lt.resolve()}removeTarget(t,e){this.zr.Vr(e.targetId).forEach((t=>this.Jr.add(t.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next((t=>{t.forEach((t=>this.Jr.add(t.toString())))})).next((()=>n.removeTargetData(t,e)))}Ur(){this.jr=new Set}Wr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return lt.forEach(this.Jr,(n=>{const r=et.fromPath(n);return this.Yr(t,r).next((t=>{t||e.removeEntry(r,X.min())}))})).next((()=>(this.jr=null,e.apply(t))))}updateLimboDocument(t,e){return this.Yr(t,e).next((t=>{t?this.Jr.delete(e.toString()):this.Jr.add(e.toString())}))}Kr(t){return 0}Yr(t,e){return lt.or([()=>lt.resolve(this.zr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gr(t,e)])}}class Fr{constructor(t,e,n,r){this.targetId=t,this.fromCache=e,this.qi=n,this.Qi=r}static Ki(t,e){let n=Ke(),r=Ke();for(const t of e.docChanges)switch(t.type){case 0:n=n.add(t.doc.key);break;case 1:r=r.add(t.doc.key)}return new Fr(t,e.fromCache,n,r)}}class Vr{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Br{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,l.nr)()?8:function(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}((0,l.ZQ)())>0?6:4}initialize(t,e){this.zi=t,this.indexManager=e,this.$i=!0}getDocumentsMatchingQuery(t,e,n,r){const i={result:null};return this.ji(t,e).next((t=>{i.result=t})).next((()=>{if(!i.result)return this.Hi(t,e,r,n).next((t=>{i.result=t}))})).next((()=>{if(i.result)return;const n=new Vr;return this.Ji(t,e,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(t,e,n,r.size)}))})).next((()=>i.result))}Yi(t,e,n,r){return n.documentReadCount<this.Wi?(x()<=a.$b.DEBUG&&I("QueryEngine","SDK will not create cache indexes for query:",Oe(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),lt.resolve()):(x()<=a.$b.DEBUG&&I("QueryEngine","Query:",Oe(e),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(x()<=a.$b.DEBUG&&I("QueryEngine","The SDK decides to create cache indexes for query:",Oe(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ae(e))):lt.resolve())}ji(t,e){if(Se(e))return lt.resolve(null);let n=Ae(e);return this.indexManager.getIndexType(t,n).next((r=>0===r?null:(null!==e.limit&&1===r&&(e=Me(e,null,"F"),n=Ae(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next((r=>{const i=Ke(...r);return this.zi.getDocuments(t,i).next((r=>this.indexManager.getMinOffset(t,n).next((n=>{const s=this.Zi(e,r);return this.Xi(e,s,i,n.readTime)?this.ji(t,Me(e,null,"F")):this.es(t,s,e,n)}))))})))))}Hi(t,e,n,r){return Se(e)||r.isEqual(X.min())?lt.resolve(null):this.zi.getDocuments(t,n).next((i=>{const s=this.Zi(e,i);return this.Xi(e,s,n,r)?lt.resolve(null):(x()<=a.$b.DEBUG&&I("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Oe(e)),this.es(t,s,e,function(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=X.fromTimestamp(1e9===r?new Y(n+1,0):new Y(n,r));return new rt(i,et.empty(),e)}(r,-1)).next((t=>t)))}))}Zi(t,e){let n=new wt(Le(t));return e.forEach(((e,r)=>{Ne(t,r)&&(n=n.add(r))})),n}Xi(t,e,n,r){if(null===t.limit)return!1;if(n.size!==e.size)return!0;const i="F"===t.limitType?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(t,e,n){return x()<=a.$b.DEBUG&&I("QueryEngine","Using full collection scan to execute query:",Oe(e)),this.zi.getDocumentsMatchingQuery(t,e,rt.min(),n)}es(t,e,n,r){return this.zi.getDocumentsMatchingQuery(t,n,r).next((t=>(e.forEach((e=>{t=t.insert(e.key,e)})),t)))}}class zr{constructor(t,e,n,r){this.persistence=t,this.ts=e,this.serializer=r,this.ns=new mt(K),this.rs=new Fe((t=>_e(t)),be),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(n)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Sr(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.ns)))}}async function Ur(t,e){const n=O(t);return await n.persistence.runTransaction("Handle user change","readonly",(t=>{let r;return n.mutationQueue.getAllMutationBatches(t).next((i=>(r=i,n._s(e),n.mutationQueue.getAllMutationBatches(t)))).next((e=>{const i=[],s=[];let o=Ke();for(const t of r){i.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}for(const t of e){s.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}return n.localDocuments.getDocuments(t,o).next((t=>({us:t,removedBatchIds:i,addedBatchIds:s})))}))}))}function qr(t){const e=O(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Qr.getLastRemoteSnapshotVersion(t)))}async function jr(t,e,n){const r=O(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(t=>r.persistence.referenceDelegate.removeTarget(t,i)))}catch(t){if(!ct(t))throw t;I("LocalStore",`Failed to update sequence numbers for target ${e}: ${t}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function Gr(t,e,n){const r=O(t);let i=X.min(),s=Ke();return r.persistence.runTransaction("Execute query","readwrite",(t=>function(t,e,n){const r=O(t),i=r.rs.get(n);return void 0!==i?lt.resolve(r.ns.get(i)):r.Qr.getTargetData(e,n)}(r,t,Ae(e)).next((e=>{if(e)return i=e.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(t,e.targetId).next((t=>{s=t}))})).next((()=>r.ts.getDocumentsMatchingQuery(t,e,n?i:X.min(),n?s:Ke()))).next((t=>(function(t,e,n){let r=t.ss.get(e)||X.min();n.forEach(((t,e)=>{e.readTime.compareTo(r)>0&&(r=e.readTime)})),t.ss.set(e,r)}(r,function(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),t),{documents:t,hs:s})))))}class $r{constructor(){this.activeTargetIds=We}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Hr{constructor(){this.no=new $r,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,e,n){this.ro[t]=e}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new $r,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Kr{io(t){}shutdown(){}}class Wr{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){I("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){I("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Yr=null;function Xr(){return null===Yr?Yr=268435456+Math.round(2147483648*Math.random()):Yr++,"0x"+Yr.toString(16)}const Qr={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Jr{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}Ao(t){this.Ro=t}onMessage(t){this.Vo=t}close(){this.ho()}send(t){this.lo(t)}mo(){this.Io()}fo(){this.Eo()}po(t){this.Ro(t)}yo(t){this.Vo(t)}}const Zr="WebChannelConnection";class ti extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.wo=e+"://"+t.host,this.So=`projects/${n}/databases/${r}`,this.bo="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}get Do(){return!1}Co(t,e,n,r,i){const s=Xr(),o=this.vo(t,e.toUriEncodedString());I("RestConnection",`Sending RPC '${t}' ${s}:`,o,n);const a={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(a,r,i),this.Mo(t,o,a,n).then((e=>(I("RestConnection",`Received RPC '${t}' ${s}: `,e),e)),(e=>{throw k("RestConnection",`RPC '${t}' ${s} failed with error: `,e,"url: ",o,"request:",n),e}))}xo(t,e,n,r,i,s){return this.Co(t,e,n,r,i)}Fo(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+C,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((e,n)=>t[n]=e)),n&&n.headers.forEach(((e,n)=>t[n]=e))}vo(t,e){const n=Qr[t];return`${this.wo}/v1/${e}:${n}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Mo(t,e,n,r){const i=Xr();return new Promise(((s,o)=>{const a=new h;a.setWithCredentials(!0),a.listenOnce(p.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case g.NO_ERROR:const e=a.getResponseJson();I(Zr,`XHR for RPC '${t}' ${i} received:`,JSON.stringify(e)),s(e);break;case g.TIMEOUT:I(Zr,`RPC '${t}' ${i} timed out`),o(new L(N.DEADLINE_EXCEEDED,"Request time out"));break;case g.HTTP_ERROR:const n=a.getStatus();if(I(Zr,`RPC '${t}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let t=a.getResponseJson();Array.isArray(t)&&(t=t[0]);const e=null==t?void 0:t.error;if(e&&e.status&&e.message){const t=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(e)>=0?e:N.UNKNOWN}(e.status);o(new L(t,e.message))}else o(new L(N.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new L(N.UNAVAILABLE,"Connection failed."));break;default:D()}}finally{I(Zr,`RPC '${t}' ${i} completed.`)}}));const l=JSON.stringify(r);I(Zr,`RPC '${t}' ${i} sending request:`,r),a.send(e,"POST",l,n,15)}))}Oo(t,e,n){const r=Xr(),i=[this.wo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=w(),o=y(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new d({})),this.Fo(a.initMessageHeaders,e,n),a.encodeInitMessageHeaders=!0;const c=i.join("");I(Zr,`Creating RPC '${t}' stream ${r}: ${c}`,a);const u=s.createWebChannel(c,a);let h=!1,p=!1;const g=new Jr({lo:e=>{p?I(Zr,`Not sending because RPC '${t}' stream ${r} is closed:`,e):(h||(I(Zr,`Opening RPC '${t}' stream ${r} transport.`),u.open(),h=!0),I(Zr,`RPC '${t}' stream ${r} sending:`,e),u.send(e))},ho:()=>u.close()}),_=(t,e,n)=>{t.listen(e,(t=>{try{n(t)}catch(t){setTimeout((()=>{throw t}),0)}}))};return _(u,f.EventType.OPEN,(()=>{p||(I(Zr,`RPC '${t}' stream ${r} transport opened.`),g.mo())})),_(u,f.EventType.CLOSE,(()=>{p||(p=!0,I(Zr,`RPC '${t}' stream ${r} transport closed`),g.po())})),_(u,f.EventType.ERROR,(e=>{p||(p=!0,k(Zr,`RPC '${t}' stream ${r} transport errored:`,e),g.po(new L(N.UNAVAILABLE,"The operation could not be completed")))})),_(u,f.EventType.MESSAGE,(e=>{var n;if(!p){const i=e.data[0];P(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){I(Zr,`RPC '${t}' stream ${r} received error:`,o);const e=o.status;let n=function(t){const e=xn[t];if(void 0!==e)return An(e)}(e),i=o.message;void 0===n&&(n=N.INTERNAL,i="Unknown error status: "+e+" with message "+o.message),p=!0,g.po(new L(n,i)),u.close()}else I(Zr,`RPC '${t}' stream ${r} received:`,i),g.yo(i)}})),_(o,v.STAT_EVENT,(e=>{e.stat===m.PROXY?I(Zr,`RPC '${t}' stream ${r} detected buffering proxy`):e.stat===m.NOPROXY&&I(Zr,`RPC '${t}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{g.fo()}),0),g}}function ei(){return"undefined"!=typeof document?document:null}function ni(t){return new Hn(t,!0)}class ri{constructor(t,e,n=1e3,r=1.5,i=6e4){this.oi=t,this.timerId=e,this.No=n,this.Lo=r,this.Bo=i,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(t){this.cancel();const e=Math.floor(this.ko+this.Uo()),n=Math.max(0,Date.now()-this.Qo),r=Math.max(0,e-n);r>0&&I("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.ko} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Qo=Date.now(),t()))),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class ii{constructor(t,e,n,r,i,s,o,a){this.oi=t,this.Go=n,this.zo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new ri(t,e)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,(()=>this.r_())))}i_(t){this.s_(),this.stream.send(t)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(t,e){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,4!==t?this.Yo.reset():e&&e.code===N.RESOURCE_EXHAUSTED?(A(e.toString()),A("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):e&&e.code===N.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.__(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Ao(e)}__(){}auth(){this.state=1;const t=this.a_(this.jo),e=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([t,n])=>{this.jo===e&&this.u_(t,n)}),(e=>{t((()=>{const t=new L(N.UNKNOWN,"Fetching auth token failed: "+e.message);return this.c_(t)}))}))}u_(t,e){const n=this.a_(this.jo);this.stream=this.l_(t,e),this.stream.Po((()=>{n((()=>this.listener.Po()))})),this.stream.To((()=>{n((()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,(()=>(this.Xo()&&(this.state=3),Promise.resolve()))),this.listener.To())))})),this.stream.Ao((t=>{n((()=>this.c_(t)))})),this.stream.onMessage((t=>{n((()=>this.onMessage(t)))}))}e_(){this.state=5,this.Yo.$o((async()=>{this.state=0,this.start()}))}c_(t){return I("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}a_(t){return e=>{this.oi.enqueueAndForget((()=>this.jo===t?e():(I("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class si extends ii{constructor(t,e,n,r,i,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,r,s),this.serializer=i}l_(t,e){return this.connection.Oo("Listen",t,e)}onMessage(t){this.Yo.reset();const e=function(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:D()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.useProto3Json?(P(void 0===e||"string"==typeof e),Et.fromBase64String(e||"")):(P(void 0===e||e instanceof Buffer||e instanceof Uint8Array),Et.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){const e=void 0===t.code?N.UNKNOWN:An(t.code);return new L(e,t.message||"")}(o);n=new Vn(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=tr(t,r.document.name),s=Xn(r.document.updateTime),o=r.document.createTime?Xn(r.document.createTime):X.min(),a=new Yt({mapValue:{fields:r.document.fields}}),l=Xt.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Rn(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=tr(t,r.document),s=r.readTime?Xn(r.readTime):X.min(),o=Xt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Rn([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=tr(t,r.document),s=r.removedTargetIds||[];n=new Rn([],s,i,null)}else{if(!("filter"in e))return D();{e.filter;const t=e.filter;t.targetId;const{count:r=0,unchangedNames:i}=t,s=new Sn(r,i),o=t.targetId;n=new Fn(o,s)}}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return X.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?X.min():e.readTime?Xn(e.readTime):X.min()}(t);return this.listener.h_(e,n)}P_(t){const e={};e.database=nr(this.serializer),e.addTarget=function(t,e){let n;const r=e.target;if(n=Te(r)?{documents:ir(t,r)}:{query:sr(t,r)._t},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0){n.resumeToken=Yn(t,e.resumeToken);const r=Kn(t,e.expectedCount);null!==r&&(n.expectedCount=r)}else if(e.snapshotVersion.compareTo(X.min())>0){n.readTime=Wn(t,e.snapshotVersion.toTimestamp());const r=Kn(t,e.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,t);const n=function(t,e){const n=function(t){switch(t){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return D()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);n&&(e.labels=n),this.i_(e)}I_(t){const e={};e.database=nr(this.serializer),e.removeTarget=t,this.i_(e)}}class oi extends class{}{constructor(t,e,n,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new L(N.FAILED_PRECONDITION,"The client has already been terminated.")}Co(t,e,n,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,s])=>this.connection.Co(t,Jn(e,n),r,i,s))).catch((t=>{throw"FirebaseError"===t.name?(t.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new L(N.UNKNOWN,t.toString())}))}xo(t,e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.xo(t,Jn(e,n),r,s,o,i))).catch((t=>{throw"FirebaseError"===t.name?(t.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new L(N.UNKNOWN,t.toString())}))}terminate(){this.m_=!0,this.connection.terminate()}}class ai{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve()))))}D_(t){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.S_("Offline")))}set(t){this.C_(),this.g_=0,"Online"===t&&(this.y_=!1),this.S_(t)}S_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}b_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(A(e),this.y_=!1):I("OnlineStateTracker",e)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class li{constructor(t,e,n,r,i){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=i,this.O_.io((t=>{n.enqueueAndForget((async()=>{vi(this)&&(I("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=O(t);e.M_.add(4),await ui(e),e.N_.set("Unknown"),e.M_.delete(4),await ci(e)}(this))}))})),this.N_=new ai(n,r)}}async function ci(t){if(vi(t))for(const e of t.x_)await e(!0)}async function ui(t){for(const e of t.x_)await e(!1)}function hi(t,e){const n=O(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),mi(n)?gi(n):Si(n).Xo()&&fi(n,e))}function di(t,e){const n=O(t),r=Si(n);n.F_.delete(e),r.Xo()&&pi(n,e),0===n.F_.size&&(r.Xo()?r.n_():vi(n)&&n.N_.set("Unknown"))}function fi(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(X.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Si(t).P_(e)}function pi(t,e){t.L_.xe(e),Si(t).I_(e)}function gi(t){t.L_=new zn({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Si(t).start(),t.N_.w_()}function mi(t){return vi(t)&&!Si(t).Zo()&&t.F_.size>0}function vi(t){return 0===O(t).M_.size}function yi(t){t.L_=void 0}async function wi(t){t.N_.set("Online")}async function _i(t){t.F_.forEach(((e,n)=>{fi(t,e)}))}async function bi(t,e){yi(t),mi(t)?(t.N_.D_(e),gi(t)):t.N_.set("Unknown")}async function Ti(t,e,n){if(t.N_.set("Online"),e instanceof Vn&&2===e.state&&e.cause)try{await async function(t,e){const n=e.cause;for(const r of e.targetIds)t.F_.has(r)&&(await t.remoteSyncer.rejectListen(r,n),t.F_.delete(r),t.L_.removeTarget(r))}(t,e)}catch(n){I("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Ei(t,n)}else if(e instanceof Rn?t.L_.Ke(e):e instanceof Fn?t.L_.He(e):t.L_.We(e),!n.isEqual(X.min()))try{const e=await qr(t.localStore);n.compareTo(e)>=0&&await function(t,e){const n=t.L_.rt(e);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=t.F_.get(r);i&&t.F_.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach(((e,n)=>{const r=t.F_.get(e);if(!r)return;t.F_.set(e,r.withResumeToken(Et.EMPTY_BYTE_STRING,r.snapshotVersion)),pi(t,e);const i=new gr(r.target,e,n,r.sequenceNumber);fi(t,i)})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)}catch(e){I("RemoteStore","Failed to raise snapshot:",e),await Ei(t,e)}}async function Ei(t,e,n){if(!ct(e))throw e;t.M_.add(1),await ui(t),t.N_.set("Offline"),n||(n=()=>qr(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{I("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await ci(t)}))}async function Ci(t,e){const n=O(t);n.asyncQueue.verifyOperationInProgress(),I("RemoteStore","RemoteStore received new credentials");const r=vi(n);n.M_.add(3),await ui(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await ci(n)}function Si(t){return t.B_||(t.B_=function(t,e,n){const r=O(t);return r.f_(),new si(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(t.datastore,t.asyncQueue,{Po:wi.bind(null,t),To:_i.bind(null,t),Ao:bi.bind(null,t),h_:Ti.bind(null,t)}),t.x_.push((async e=>{e?(t.B_.t_(),mi(t)?gi(t):t.N_.set("Unknown")):(await t.B_.stop(),yi(t))}))),t.B_}class xi{constructor(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new R,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,r,i){const s=Date.now()+n,o=new xi(t,e,s,r,i);return o.start(n),o}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new L(N.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ii(t,e){if(A("AsyncQueue",`${e}: ${t}`),ct(t))return new L(N.UNAVAILABLE,`${e}: ${t}`);throw t}class Ai{constructor(t){this.comparator=t?(e,n)=>t(e,n)||et.comparator(e.key,n.key):(t,e)=>et.comparator(t.key,e.key),this.keyedMap=Ue(),this.sortedSet=new mt(this.comparator)}static emptySet(t){return new Ai(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,n)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Ai))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(!t.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new Ai;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}class ki{constructor(){this.q_=new mt(et.comparator)}track(t){const e=t.doc.key,n=this.q_.get(e);n?0!==t.type&&3===n.type?this.q_=this.q_.insert(e,t):3===t.type&&1!==n.type?this.q_=this.q_.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.q_=this.q_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.q_=this.q_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.q_=this.q_.remove(e):1===t.type&&2===n.type?this.q_=this.q_.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.q_=this.q_.insert(e,{type:2,doc:t.doc}):D():this.q_=this.q_.insert(e,t)}Q_(){const t=[];return this.q_.inorderTraversal(((e,n)=>{t.push(n)})),t}}class Mi{constructor(t,e,n,r,i,s,o,a,l){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(t,e,n,r,i){const s=[];return e.forEach((t=>{s.push({type:0,doc:t})})),new Mi(t,e,Ai.emptySet(e),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&De(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t].type!==n[t].type||!e[t].doc.isEqual(n[t].doc))return!1;return!0}}class Di{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some((t=>t.G_()))}}class Pi{constructor(){this.queries=new Fe((t=>Pe(t)),De),this.onlineState="Unknown",this.z_=new Set}}function Oi(t,e){const n=O(t);let r=!1;for(const t of e){const e=t.query,i=n.queries.get(e);if(i){for(const e of i.U_)e.H_(t)&&(r=!0);i.K_=t}}r&&Li(n)}function Ni(t,e,n){const r=O(t),i=r.queries.get(e);if(i)for(const t of i.U_)t.onError(n);r.queries.delete(e)}function Li(t){t.z_.forEach((t=>{t.next()}))}var Ri,Fi;(Fi=Ri||(Ri={})).J_="default",Fi.Cache="cache";class Vi{constructor(t,e,n){this.query=t,this.Y_=e,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=n||{}}H_(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new Mi(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Z_?this.ea(t)&&(this.Y_.next(t),e=!0):this.ta(t,this.onlineState)&&(this.na(t),e=!0),this.X_=t,e}onError(t){this.Y_.error(t)}j_(t){this.onlineState=t;let e=!1;return this.X_&&!this.Z_&&this.ta(this.X_,t)&&(this.na(this.X_),e=!0),e}ta(t,e){if(!t.fromCache)return!0;if(!this.G_())return!0;const n="Offline"!==e;return(!this.options.ra||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}ea(t){if(t.docChanges.length>0)return!0;const e=this.X_&&this.X_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}na(t){t=Mi.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Z_=!0,this.Y_.next(t)}G_(){return this.options.source!==Ri.Cache}}class Bi{constructor(t){this.key=t}}class zi{constructor(t){this.key=t}}class Ui{constructor(t,e){this.query=t,this.la=e,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Ke(),this.mutatedKeys=Ke(),this.Ia=Le(t),this.Ta=new Ai(this.Ia)}get Ea(){return this.la}da(t,e){const n=e?e.Aa:new ki,r=e?e.Ta:this.Ta;let i=e?e.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((t,e)=>{const c=r.get(t),u=Ne(this.query,e)?e:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.Ra(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Ia(u,a)>0||l&&this.Ia(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),i=d?i.add(t):i.delete(t)):(s=s.delete(t),i=i.delete(t)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const t="F"===this.query.limitType?s.last():s.first();s=s.delete(t.key),i=i.delete(t.key),n.track({type:1,doc:t})}return{Ta:s,Aa:n,Xi:o,mutatedKeys:i}}Ra(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n,r){const i=this.Ta;this.Ta=t.Ta,this.mutatedKeys=t.mutatedKeys;const s=t.Aa.Q_();s.sort(((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return D()}};return n(t)-n(e)}(t.type,e.type)||this.Ia(t.doc,e.doc))),this.Va(n),r=null!=r&&r;const o=e&&!r?this.ma():[],a=0===this.Pa.size&&this.current&&!r?1:0,l=a!==this.ha;return this.ha=a,0!==s.length||l?{snapshot:new Mi(this.query,t.Ta,i,s,t.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),fa:o}:{fa:o}}j_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new ki,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(t){return!this.la.has(t)&&!!this.Ta.has(t)&&!this.Ta.get(t).hasLocalMutations}Va(t){t&&(t.addedDocuments.forEach((t=>this.la=this.la.add(t))),t.modifiedDocuments.forEach((t=>{})),t.removedDocuments.forEach((t=>this.la=this.la.delete(t))),this.current=t.current)}ma(){if(!this.current)return[];const t=this.Pa;this.Pa=Ke(),this.Ta.forEach((t=>{this.ga(t.key)&&(this.Pa=this.Pa.add(t.key))}));const e=[];return t.forEach((t=>{this.Pa.has(t)||e.push(new zi(t))})),this.Pa.forEach((n=>{t.has(n)||e.push(new Bi(n))})),e}pa(t){this.la=t.hs,this.Pa=Ke();const e=this.da(t.documents);return this.applyChanges(e,!0)}ya(){return Mi.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class qi{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class ji{constructor(t){this.key=t,this.wa=!1}}class Gi{constructor(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new Fe((t=>Pe(t)),De),this.Da=new Map,this.Ca=new Set,this.va=new mt(et.comparator),this.Fa=new Map,this.Ma=new Ar,this.xa={},this.Oa=new Map,this.Na=Tr.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}async function $i(t,e,n=!0){const r=as(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await Ki(r,e,n,!0),i}async function Hi(t,e){const n=as(t);await Ki(n,e,!0,!1)}async function Ki(t,e,n,r){const i=await function(t,e){const n=O(t);return n.persistence.runTransaction("Allocate target","readwrite",(t=>{let r;return n.Qr.getTargetData(t,e).next((i=>i?(r=i,lt.resolve(r)):n.Qr.allocateTargetId(t).next((i=>(r=new gr(e,i,"TargetPurposeListen",t.currentSequenceNumber),n.Qr.addTargetData(t,r).next((()=>r)))))))})).then((t=>{const r=n.ns.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(t.targetId,t),n.rs.set(e,t.targetId)),t}))}(t.localStore,Ae(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await async function(t,e,n,r,i){t.Ba=(e,n,r)=>async function(t,e,n,r){let i=e.view.da(n);i.Xi&&(i=await Gr(t.localStore,e.query,!1).then((({documents:t})=>e.view.da(t,i))));const s=r&&r.targetChanges.get(e.targetId),o=r&&null!=r.targetMismatches.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,s,o);return es(t,e.targetId,a.fa),a.snapshot}(t,e,n,r);const s=await Gr(t.localStore,e,!0),o=new Ui(e,s.hs),a=o.da(s.documents),l=Ln.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,l);es(t,n,c.fa);const u=new qi(e,n,o);return t.ba.set(e,u),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),c.snapshot}(t,e,s,"current"===o,i.resumeToken)),t.isPrimaryClient&&n&&hi(t.remoteStore,i),a}async function Wi(t,e,n){const r=O(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter((t=>!De(t,e)))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await jr(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&di(r.remoteStore,i.targetId),Zi(r,i.targetId)})).catch(at)):(Zi(r,i.targetId),await jr(r.localStore,i.targetId,!0))}async function Yi(t,e){const n=O(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),di(n.remoteStore,r.targetId))}async function Xi(t,e){const n=O(t);try{const t=await function(t,e){const n=O(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(t=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const o=[];e.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Qr.removeMatchingKeys(t,s.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(t,s.addedDocuments,a))));let c=l.withSequenceNumber(t.currentSequenceNumber);null!==e.targetMismatches.get(a)?c=c.withResumeToken(Et.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),function(t,e,n){return 0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.Qr.updateTargetData(t,c))}));let a=Be(),l=Ke();if(e.documentUpdates.forEach((r=>{e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),o.push(function(t,e,n){let r=Ke(),i=Ke();return n.forEach((t=>r=r.add(t))),e.getEntries(t,r).next((t=>{let r=Be();return n.forEach(((n,s)=>{const o=t.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(X.min())?(e.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(e.addEntry(s),r=r.insert(n,s)):I("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{cs:r,ls:i}}))}(t,s,e.documentUpdates).next((t=>{a=t.cs,l=t.ls}))),!r.isEqual(X.min())){const e=n.Qr.getLastRemoteSnapshotVersion(t).next((e=>n.Qr.setTargetsMetadata(t,t.currentSequenceNumber,r)));o.push(e)}return lt.waitFor(o).next((()=>s.apply(t))).next((()=>n.localDocuments.getLocalViewOfDocuments(t,a,l))).next((()=>a))})).then((t=>(n.ns=i,t)))}(n.localStore,e);e.targetChanges.forEach(((t,e)=>{const r=n.Fa.get(e);r&&(P(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.wa=!0:t.modifiedDocuments.size>0?P(r.wa):t.removedDocuments.size>0&&(P(r.wa),r.wa=!1))})),await is(n,t,e)}catch(t){await at(t)}}function Qi(t,e,n){const r=O(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const t=[];r.ba.forEach(((n,r)=>{const i=r.view.j_(e);i.snapshot&&t.push(i.snapshot)})),function(t,e){const n=O(t);n.onlineState=e;let r=!1;n.queries.forEach(((t,n)=>{for(const t of n.U_)t.j_(e)&&(r=!0)})),r&&Li(n)}(r.eventManager,e),t.length&&r.Sa.h_(t),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Ji(t,e,n){const r=O(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let t=new mt(et.comparator);t=t.insert(s,Xt.newNoDocument(s,X.min()));const n=Ke().add(s),i=new Nn(X.min(),new Map,new mt(K),t,n);await Xi(r,i),r.va=r.va.remove(s),r.Fa.delete(e),rs(r)}else await jr(r.localStore,e,!1).then((()=>Zi(r,e,n))).catch(at)}function Zi(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach((e=>{t.Ma.containsKey(e)||ts(t,e)}))}function ts(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);null!==n&&(di(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),rs(t))}function es(t,e,n){for(const r of n)r instanceof Bi?(t.Ma.addReference(r.key,e),ns(t,r)):r instanceof zi?(I("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||ts(t,r.key)):D()}function ns(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(I("SyncEngine","New document in limbo: "+n),t.Ca.add(r),rs(t))}function rs(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new et(J.fromString(e)),r=t.Na.next();t.Fa.set(r,new ji(n)),t.va=t.va.insert(n,r),hi(t.remoteStore,new gr(Ae(Ce(n.path)),r,"TargetPurposeLimboResolution",ut.oe))}}async function is(t,e,n){const r=O(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach(((t,a)=>{o.push(r.Ba(a,e,n).then((t=>{if((t||n)&&r.isPrimaryClient){const e=t&&!t.fromCache;r.sharedClientState.updateQueryState(a.targetId,e?"current":"not-current")}if(t){i.push(t);const e=Fr.Ki(a.targetId,t);s.push(e)}})))})),await Promise.all(o),r.Sa.h_(i),await async function(t,e){const n=O(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(t=>lt.forEach(e,(e=>lt.forEach(e.qi,(r=>n.persistence.referenceDelegate.addReference(t,e.targetId,r))).next((()=>lt.forEach(e.Qi,(r=>n.persistence.referenceDelegate.removeReference(t,e.targetId,r)))))))))}catch(t){if(!ct(t))throw t;I("LocalStore","Failed to update sequence numbers: "+t)}for(const t of e){const e=t.targetId;if(!t.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,s))}async function ss(t,e){const n=O(t);if(!n.currentUser.isEqual(e)){I("SyncEngine","User change. New user:",e.toKey());const t=await Ur(n.localStore,e);n.currentUser=e,function(t,e){t.Oa.forEach((t=>{t.forEach((t=>{t.reject(new L(N.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Oa.clear()}(n),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await is(n,t.us)}}function os(t,e){const n=O(t),r=n.Fa.get(e);if(r&&r.wa)return Ke().add(r.key);{let t=Ke();const r=n.Da.get(e);if(!r)return t;for(const e of r){const r=n.ba.get(e);t=t.unionWith(r.view.Ea)}return t}}function as(t){const e=O(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Xi.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=os.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ji.bind(null,e),e.Sa.h_=Oi.bind(null,e.eventManager),e.Sa.ka=Ni.bind(null,e.eventManager),e}class ls{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=ni(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return function(t,e,n,r){return new zr(t,e,n,r)}(this.persistence,new Br,t.initialUser,this.serializer)}createPersistence(t){return new Nr(Rr.Hr,this.serializer)}createSharedClientState(t){return new Hr}async terminate(){var t,e;null===(t=this.gcScheduler)||void 0===t||t.stop(),null===(e=this.indexBackfillerScheduler)||void 0===e||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class cs{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>Qi(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=ss.bind(null,this.syncEngine),await async function(t,e){const n=O(t);e?(n.M_.delete(2),await ci(n)):e||(n.M_.add(2),await ui(n),n.N_.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new Pi}createDatastore(t){const e=ni(t.databaseInfo.databaseId),n=function(t){return new ti(t)}(t.databaseInfo);return function(t,e,n,r){return new oi(t,e,n,r)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return function(t,e,n,r,i){return new li(t,e,n,r,i)}(this.localStore,this.datastore,t.asyncQueue,(t=>Qi(this.syncEngine,t,0)),Wr.D()?new Wr:new Kr)}createSyncEngine(t,e){return function(t,e,n,r,i,s,o){const a=new Gi(t,e,n,r,i,s);return o&&(a.La=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t;await async function(t){const e=O(t);I("RemoteStore","RemoteStore shutting down."),e.M_.add(5),await ui(e),e.O_.shutdown(),e.N_.set("Unknown")}(this.remoteStore),null===(t=this.datastore)||void 0===t||t.terminate()}}class us{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ka(this.observer.next,t)}error(t){this.observer.error?this.Ka(this.observer.error,t):A("Uncaught Error in snapshot listener:",t.toString())}$a(){this.muted=!0}Ka(t,e){this.muted||setTimeout((()=>{this.muted||t(e)}),0)}}class hs{constructor(t,e,n,r){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=E.UNAUTHENTICATED,this.clientId=H.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async t=>{I("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t})),this.appCheckCredentials.start(n,(t=>(I("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new L(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new R;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=Ii(e,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function ds(t,e){t.asyncQueue.verifyOperationInProgress(),I("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async t=>{r.isEqual(t)||(await Ur(e.localStore,t),r=t)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function fs(t,e){t.asyncQueue.verifyOperationInProgress();const n=await async function(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){I("FirestoreClient","Using user provided OfflineComponentProvider");try{await ds(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(t){return"FirebaseError"===t.name?t.code===N.FAILED_PRECONDITION||t.code===N.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;k("Error using user provided cache. Falling back to memory cache: "+n),await ds(t,new ls)}}else I("FirestoreClient","Using default OfflineComponentProvider"),await ds(t,new ls);return t._offlineComponents}(t);I("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((t=>Ci(e.remoteStore,t))),t.setAppCheckTokenChangeListener(((t,n)=>Ci(e.remoteStore,n))),t._onlineComponents=e}async function ps(t){const e=await async function(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(I("FirestoreClient","Using user provided OnlineComponentProvider"),await fs(t,t._uninitializedComponentsProvider._online)):(I("FirestoreClient","Using default OnlineComponentProvider"),await fs(t,new cs))),t._onlineComponents}(t),n=e.eventManager;return n.onListen=$i.bind(null,e.syncEngine),n.onUnlisten=Wi.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Hi.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Yi.bind(null,e.syncEngine),n}function gs(t,e,n={}){const r=new R;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,r,i){const s=new us({next:n=>{e.enqueueAndForget((()=>async function(t,e){const n=O(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const t=s.U_.indexOf(e);t>=0&&(s.U_.splice(t,1),0===s.U_.length?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}(t,o))),n.fromCache&&"server"===r.source?i.reject(new L(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:t=>i.reject(t)}),o=new Vi(n,s,{includeMetadataChanges:!0,ra:!0});return async function(t,e){const n=O(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new Di,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(t){const n=Ii(t,`Initialization of query '${Oe(e.query)}' failed`);return void e.onError(n)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&Li(n)}(t,o)}(await ps(t),t.asyncQueue,e,n,r))),r.promise}function ms(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const vs=new Map;function ys(t){if(et.isDocumentKey(t))throw new L(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ws(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return"function"==typeof t?"a function":D()}function _s(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ws(t);throw new L(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class bs{constructor(t){var e,n;if(void 0===t.host){if(void 0!==t.ssl)throw new L(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new L(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(t,e,n,r){if(!0===e&&!0===r)throw new L(N.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")})(0,t.experimentalForceLongPolling,0,t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ms(null!==(n=t.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(t){if(void 0!==t.timeoutSeconds){if(isNaN(t.timeoutSeconds))throw new L(N.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (must not be NaN)`);if(t.timeoutSeconds<5)throw new L(N.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (minimum allowed value is 5)`);if(t.timeoutSeconds>30)throw new L(N.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(t,e){return t.timeoutSeconds===e.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ts{constructor(t,e,n,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bs({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new L(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new L(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bs(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new V;switch(t.type){case"firstParty":return new q(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new L(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=vs.get(t);e&&(I("ComponentProvider","Removing Datastore"),vs.delete(t),e.terminate())}(this),Promise.resolve()}}class Es{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Es(this.firestore,t,this._query)}}class Cs{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Cs(this.firestore,t,this._key)}}class Ss extends Es{constructor(t,e,n){super(t,e,Ce(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Cs(this.firestore,null,new et(t))}withConverter(t){return new Ss(this.firestore,t,this._path)}}function xs(t,e,...n){if(t=(0,l.Ku)(t),function(t,e,n){if(!n)throw new L(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}("collection","path",e),t instanceof Ts){const r=J.fromString(e,...n);return ys(r),new Ss(t,null,r)}{if(!(t instanceof Cs||t instanceof Ss))throw new L(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(J.fromString(e,...n));return ys(r),new Ss(t.firestore,null,r)}}class Is{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new ri(this,"async_queue_retry"),this.hu=()=>{const t=ei();t&&I("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Yo.Wo()};const t=ei();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pu(),this.Iu(t)}enterRestrictedMode(t){if(!this.ou){this.ou=!0,this.cu=t||!1;const e=ei();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.hu)}}enqueue(t){if(this.Pu(),this.ou)return new Promise((()=>{}));const e=new R;return this.Iu((()=>this.ou&&this.cu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.su.push(t),this.Tu())))}async Tu(){if(0!==this.su.length){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(t){if(!ct(t))throw t;I("AsyncQueue","Operation failed with retryable error: "+t)}this.su.length>0&&this.Yo.$o((()=>this.Tu()))}}Iu(t){const e=this.iu.then((()=>(this.uu=!0,t().catch((t=>{this.au=t,this.uu=!1;const e=function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t);throw A("INTERNAL UNHANDLED ERROR: ",e),t})).then((t=>(this.uu=!1,t))))));return this.iu=e,e}enqueueAfterDelay(t,e,n){this.Pu(),this.lu.indexOf(t)>-1&&(e=0);const r=xi.createAndSchedule(this,t,e,n,(t=>this.Eu(t)));return this._u.push(r),r}Pu(){this.au&&D()}verifyOperationInProgress(){}async du(){let t;do{t=this.iu,await t}while(t!==this.iu)}Au(t){for(const e of this._u)if(e.timerId===t)return!0;return!1}Ru(t){return this.du().then((()=>{this._u.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this._u)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.du()}))}Vu(t){this.lu.push(t)}Eu(t){const e=this._u.indexOf(t);this._u.splice(e,1)}}class As extends Ts{constructor(t,e,n,r){super(t,e,n,r),this.type="firestore",this._queue=new Is,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ms(this),this._firestoreClient.terminate()}}function ks(t,e){const n="object"==typeof t?t:(0,s.Sx)(),r="string"==typeof t?t:e||"(default)",i=(0,s.j6)(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const t=(0,l.yU)("firestore");t&&function(t,e,n,r={}){var i;const s=(t=_s(t,Ts))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&k("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let e,n;if("string"==typeof r.mockUserToken)e=r.mockUserToken,n=E.MOCK_USER;else{e=(0,l.Fy)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new L(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new E(s)}t._authCredentials=new B(new F(e,n))}}(i,...t)}return i}function Ms(t){var e,n,r;const i=t._freezeSettings(),s=function(t,e,n,r){return new Dt(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,ms(r.experimentalLongPollingOptions),r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new hs(t._authCredentials,t._appCheckCredentials,t._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class Ds{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ds(Et.fromBase64String(t))}catch(t){throw new L(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new Ds(Et.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Ps{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new L(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Os{constructor(t){this._methodName=t}}class Ns{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new L(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new L(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return K(this._lat,t._lat)||K(this._long,t._long)}}const Ls=/^__.*__$/;function Rs(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw D()}}class Fs{constructor(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.mu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(t){return new Fs(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.gu({path:n,yu:!1});return r.wu(t),r}Su(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.gu({path:n,yu:!1});return r.mu(),r}bu(t){return this.gu({path:void 0,yu:!0})}Du(t){return qs(t,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(t){return void 0!==this.fieldMask.find((e=>t.isPrefixOf(e)))||void 0!==this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))}mu(){if(this.path)for(let t=0;t<this.path.length;t++)this.wu(this.path.get(t))}wu(t){if(0===t.length)throw this.Du("Document fields must not be empty");if(Rs(this.fu)&&Ls.test(t))throw this.Du('Document fields cannot begin and end with "__"')}}class Vs{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||ni(t)}Fu(t,e,n,r=!1){return new Fs({fu:t,methodName:e,vu:n,path:tt.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bs(t,e){if(zs(t=(0,l.Ku)(t)))return function(t,e,n){if(!zs(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){const r=ws(n);throw"an object"===r?e.Du(t+" a custom object"):e.Du(t+" "+r)}}("Unsupported field value:",e,t),function(t,e){const n={};return gt(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pt(t,((t,r)=>{const i=Bs(r,e.pu(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}(t,e);if(t instanceof Os)return function(t,e){if(!Rs(e.fu))throw e.Du(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e.Du(`${t._methodName}() is not currently supported inside arrays`);const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(t,e){const n=[];let r=0;for(const i of t){let t=Bs(i,e.bu(r));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,l.Ku)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Qe(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=Y.fromDate(t);return{timestampValue:Wn(e.serializer,n)}}if(t instanceof Y){const n=new Y(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Wn(e.serializer,n)}}if(t instanceof Ns)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ds)return{bytesValue:Yn(e.serializer,t._byteString)};if(t instanceof Cs){const n=e.databaseId,r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Du(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Qn(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Du(`Unsupported field value: ${ws(t)}`)}(t,e)}function zs(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Y||t instanceof Ns||t instanceof Ds||t instanceof Cs||t instanceof Os)}const Us=new RegExp("[~\\*/\\[\\]]");function qs(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new L(N.INVALID_ARGUMENT,a+t+l)}class js{constructor(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Cs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Gs(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field($s("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Gs extends js{data(){return super.data()}}function $s(t,e){return"string"==typeof e?function(t,e,n){if(e.search(Us)>=0)throw qs(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ps(...e.split("."))._internalPath}catch(r){throw qs(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}(t,e):e instanceof Ps?e._internalPath:e._delegate._internalPath}class Hs{}class Ks extends Hs{}function Ws(t,e,...n){let r=[];e instanceof Hs&&r.push(e),r=r.concat(n),function(t){const e=t.filter((t=>t instanceof Xs)).length,n=t.filter((t=>t instanceof Ys)).length;if(e>1||e>0&&n>0)throw new L(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const e of r)t=e._apply(t);return t}class Ys extends Ks{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new Ys(t,e,n)}_apply(t){const e=this._parse(t);return eo(t._query,e),new Es(t.firestore,t.converter,ke(t._query,e))}_parse(t){const e=function(t){const e=t._freezeSettings(),n=ni(t._databaseId);return new Vs(t._databaseId,!!e.ignoreUndefinedProperties,n)}(t.firestore),n=function(t,e,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new L(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){to(o,s);const e=[];for(const n of o)e.push(Zs(r,t,n));a={arrayValue:{values:e}}}else a=Zs(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||to(o,s),a=function(t,e,n,r=!1){return Bs(n,t.Fu(r?4:3,e))}(n,"where",o,"in"===s||"not-in"===s);return re.create(i,s,a)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value);return n}}class Xs extends Hs{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Xs(t,e)}_parse(t){const e=this._queryConstraints.map((e=>e._parse(t))).filter((t=>t.getFilters().length>0));return 1===e.length?e[0]:ie.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(t,e){let n=t;const r=e.getFlattenedFilters();for(const t of r)eo(n,t),n=ke(n,t)}(t._query,e),new Es(t.firestore,t.converter,ke(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Qs extends Ks{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Qs(t,e)}_apply(t){const e=function(t,e,n){if(null!==t.startAt)throw new L(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new L(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new te(e,n)}(t._query,this._field,this._direction);return new Es(t.firestore,t.converter,function(t,e){const n=t.explicitOrderBy.concat([e]);return new Ee(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))}}function Js(t,e="asc"){const n=e,r=$s("orderBy",t);return Qs._create(r,n)}function Zs(t,e,n){if("string"==typeof(n=(0,l.Ku)(n))){if(""===n)throw new L(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xe(e)&&-1!==n.indexOf("/"))throw new L(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(J.fromString(n));if(!et.isDocumentKey(r))throw new L(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ut(t,new et(r))}if(n instanceof Cs)return Ut(t,n._key);throw new L(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ws(n)}.`)}function to(t,e){if(!Array.isArray(t)||0===t.length)throw new L(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eo(t,e){const n=function(t,e){for(const n of t)for(const t of n.getFlattenedFilters())if(e.indexOf(t.op)>=0)return t.op;return null}(t.filters,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw n===e.op?new L(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class no{convertValue(t,e="none"){switch(Nt(t)){case 0:return null;case 1:return t.booleanValue;case 2:return xt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(It(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw D()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const n={};return pt(t,((t,r)=>{n[t]=this.convertValue(r,e)})),n}convertGeoPoint(t){return new Ns(xt(t.latitude),xt(t.longitude))}convertArray(t,e){return(t.values||[]).map((t=>this.convertValue(t,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const n=kt(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Mt(t));default:return null}}convertTimestamp(t){const e=St(t);return new Y(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=J.fromString(t);P(pr(n));const r=new Pt(n.get(1),n.get(3)),i=new et(n.popFirst(5));return r.isEqual(e)||A(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),i}}class ro{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class io extends js{constructor(t,e,n,r,i,s){super(t,e,n,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new so(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field($s("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class so extends io{data(t={}){return super.data(t)}}class oo{constructor(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new ro(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach((n=>{t.call(e,new so(this._firestore,this._userDataWriter,n.key,n,new ro(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new L(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map((n=>{const r=new so(t._firestore,t._userDataWriter,n.doc.key,n.doc,new ro(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:e++}}))}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((t=>e||3!==t.type)).map((e=>{const r=new so(t._firestore,t._userDataWriter,e.doc.key,e.doc,new ro(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let i=-1,s=-1;return 0!==e.type&&(i=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),s=n.indexOf(e.doc.key)),{type:ao(e.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function ao(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return D()}}class lo extends no{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ds(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Cs(this.firestore,null,e)}}function co(t){t=_s(t,Es);const e=_s(t.firestore,As),n=function(t){return t._firestoreClient||Ms(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}(e),r=new lo(e);return function(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new L(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),gs(n,t._query).then((n=>new oo(e,r,t,n)))}new WeakMap,function(t,e=!0){!function(t){C=t}(s.MF),(0,s.om)(new o.uA("firestore",((t,{instanceIdentifier:n,options:r})=>{const i=t.getProvider("app").getImmediate(),s=new As(new z(t.getProvider("auth-internal")),new G(t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new L(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pt(t.options.projectId,e)}(i,n),i);return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s}),"PUBLIC").setMultipleInstances(!0)),(0,s.KO)(T,"4.6.3",t),(0,s.KO)(T,"4.6.3","esm2017")}()},636:(t,e,n)=>{"use strict";n.d(e,{Vx:()=>i}),n(375);var r=n(44);function i(t){let{swiper:e,extendParams:n,on:i,emit:s}=t;function o(t){let n;return t&&"string"==typeof t&&e.isElement&&(n=e.el.querySelector(t),n)?n:(t&&("string"==typeof t&&(n=[...document.querySelectorAll(t)]),e.params.uniqueNavElements&&"string"==typeof t&&n&&n.length>1&&1===e.el.querySelectorAll(t).length?n=e.el.querySelector(t):n&&1===n.length&&(n=n[0])),t&&!n?t:n)}function a(t,n){const i=e.params.navigation;(t=(0,r.m)(t)).forEach((t=>{t&&(t.classList[n?"add":"remove"](...i.disabledClass.split(" ")),"BUTTON"===t.tagName&&(t.disabled=n),e.params.watchOverflow&&e.enabled&&t.classList[e.isLocked?"add":"remove"](i.lockClass))}))}function l(){const{nextEl:t,prevEl:n}=e.navigation;if(e.params.loop)return a(n,!1),void a(t,!1);a(n,e.isBeginning&&!e.params.rewind),a(t,e.isEnd&&!e.params.rewind)}function c(t){t.preventDefault(),(!e.isBeginning||e.params.loop||e.params.rewind)&&(e.slidePrev(),s("navigationPrev"))}function u(t){t.preventDefault(),(!e.isEnd||e.params.loop||e.params.rewind)&&(e.slideNext(),s("navigationNext"))}function h(){const t=e.params.navigation;if(e.params.navigation=function(t,e,n,i){return t.params.createElements&&Object.keys(i).forEach((s=>{if(!n[s]&&!0===n.auto){let o=(0,r.e)(t.el,`.${i[s]}`)[0];o||(o=(0,r.c)("div",i[s]),o.className=i[s],t.el.append(o)),n[s]=o,e[s]=o}})),n}(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!t.nextEl&&!t.prevEl)return;let n=o(t.nextEl),i=o(t.prevEl);Object.assign(e.navigation,{nextEl:n,prevEl:i}),n=(0,r.m)(n),i=(0,r.m)(i);const s=(n,r)=>{n&&n.addEventListener("click","next"===r?u:c),!e.enabled&&n&&n.classList.add(...t.lockClass.split(" "))};n.forEach((t=>s(t,"next"))),i.forEach((t=>s(t,"prev")))}function d(){let{nextEl:t,prevEl:n}=e.navigation;t=(0,r.m)(t),n=(0,r.m)(n);const i=(t,n)=>{t.removeEventListener("click","next"===n?u:c),t.classList.remove(...e.params.navigation.disabledClass.split(" "))};t.forEach((t=>i(t,"next"))),n.forEach((t=>i(t,"prev")))}n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null},i("init",(()=>{!1===e.params.navigation.enabled?f():(h(),l())})),i("toEdge fromEdge lock unlock",(()=>{l()})),i("destroy",(()=>{d()})),i("enable disable",(()=>{let{nextEl:t,prevEl:n}=e.navigation;t=(0,r.m)(t),n=(0,r.m)(n),e.enabled?l():[...t,...n].filter((t=>!!t)).forEach((t=>t.classList.add(e.params.navigation.lockClass)))})),i("click",((t,n)=>{let{nextEl:i,prevEl:o}=e.navigation;i=(0,r.m)(i),o=(0,r.m)(o);const a=n.target;let l=o.includes(a)||i.includes(a);if(e.isElement&&!l){const t=n.path||n.composedPath&&n.composedPath();t&&(l=t.find((t=>i.includes(t)||o.includes(t))))}if(e.params.navigation.hideOnClick&&!l){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===a||e.pagination.el.contains(a)))return;let t;i.length?t=i[0].classList.contains(e.params.navigation.hiddenClass):o.length&&(t=o[0].classList.contains(e.params.navigation.hiddenClass)),s(!0===t?"navigationShow":"navigationHide"),[...i,...o].filter((t=>!!t)).forEach((t=>t.classList.toggle(e.params.navigation.hiddenClass)))}}));const f=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),d()};Object.assign(e.navigation,{enable:()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),h(),l()},disable:f,update:l,init:h,destroy:d})}},375:(t,e,n)=>{"use strict";function r(t){return null!==t&&"object"==typeof t&&"constructor"in t&&t.constructor===Object}function i(t,e){void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(e).forEach((n=>{void 0===t[n]?t[n]=e[n]:r(e[n])&&r(t[n])&&Object.keys(e[n]).length>0&&i(t[n],e[n])}))}n.d(e,{a:()=>l,g:()=>o});const s={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function o(){const t="undefined"!=typeof document?document:{};return i(t,s),t}const a={document:s,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:t=>"undefined"==typeof setTimeout?(t(),null):setTimeout(t,0),cancelAnimationFrame(t){"undefined"!=typeof setTimeout&&clearTimeout(t)}};function l(){const t="undefined"!=typeof window?window:{};return i(t,a),t}},44:(t,e,n)=>{"use strict";n.d(e,{a:()=>w,c:()=>p,d:()=>o,e:()=>d,f:()=>_,h:()=>y,j:()=>a,m:()=>b,n:()=>s,o:()=>v,p:()=>m,q:()=>g,r:()=>h,s:()=>u,t:()=>f,u:()=>c,v:()=>i});var r=n(375);function i(t){const e=t;Object.keys(e).forEach((t=>{try{e[t]=null}catch(t){}try{delete e[t]}catch(t){}}))}function s(t,e){return void 0===e&&(e=0),setTimeout(t,e)}function o(){return Date.now()}function a(t,e){void 0===e&&(e="x");const n=(0,r.a)();let i,s,o;const a=function(t){const e=(0,r.a)();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}(t);return n.WebKitCSSMatrix?(s=a.transform||a.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map((t=>t.replace(",","."))).join(", ")),o=new n.WebKitCSSMatrix("none"===s?"":s)):(o=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=o.toString().split(",")),"x"===e&&(s=n.WebKitCSSMatrix?o.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===e&&(s=n.WebKitCSSMatrix?o.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),s||0}function l(t){return"object"==typeof t&&null!==t&&t.constructor&&"Object"===Object.prototype.toString.call(t).slice(8,-1)}function c(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let r=1;r<arguments.length;r+=1){const i=r<0||arguments.length<=r?void 0:arguments[r];if(null!=i&&(n=i,!("undefined"!=typeof window&&void 0!==window.HTMLElement?n instanceof HTMLElement:n&&(1===n.nodeType||11===n.nodeType)))){const n=Object.keys(Object(i)).filter((t=>e.indexOf(t)<0));for(let e=0,r=n.length;e<r;e+=1){const r=n[e],s=Object.getOwnPropertyDescriptor(i,r);void 0!==s&&s.enumerable&&(l(t[r])&&l(i[r])?i[r].__swiper__?t[r]=i[r]:c(t[r],i[r]):!l(t[r])&&l(i[r])?(t[r]={},i[r].__swiper__?t[r]=i[r]:c(t[r],i[r])):t[r]=i[r])}}}var n;return t}function u(t,e,n){t.style.setProperty(e,n)}function h(t){let{swiper:e,targetPosition:n,side:i}=t;const s=(0,r.a)(),o=-e.translate;let a,l=null;const c=e.params.speed;e.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(e.cssModeFrameID);const u=n>o?"next":"prev",h=(t,e)=>"next"===u&&t>=e||"prev"===u&&t<=e,d=()=>{a=(new Date).getTime(),null===l&&(l=a);const t=Math.max(Math.min((a-l)/c,1),0),r=.5-Math.cos(t*Math.PI)/2;let u=o+r*(n-o);if(h(u,n)&&(u=n),e.wrapperEl.scrollTo({[i]:u}),h(u,n))return e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout((()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:u})})),void s.cancelAnimationFrame(e.cssModeFrameID);e.cssModeFrameID=s.requestAnimationFrame(d)};d()}function d(t,e){return void 0===e&&(e=""),[...t.children].filter((t=>t.matches(e)))}function f(t){try{return void console.warn(t)}catch(t){}}function p(t,e){void 0===e&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:function(t){return void 0===t&&(t=""),t.trim().split(" ").filter((t=>!!t.trim()))}(e)),n}function g(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function m(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function v(t,e){return(0,r.a)().getComputedStyle(t,null).getPropertyValue(e)}function y(t){let e,n=t;if(n){for(e=0;null!==(n=n.previousSibling);)1===n.nodeType&&(e+=1);return e}}function w(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function _(t,e,n){const i=(0,r.a)();return n?t["width"===e?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(t,null).getPropertyValue("width"===e?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(t,null).getPropertyValue("width"===e?"margin-left":"margin-bottom")):t.offsetWidth}function b(t){return(Array.isArray(t)?t:[t]).filter((t=>!!t))}},236:(t,e,n)=>{"use strict";n.d(e,{A:()=>L});var r=n(375),i=n(44);let s,o,a;function l(){return s||(s=function(){const t=(0,r.a)(),e=(0,r.g)();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}()),s}function c(t){return void 0===t&&(t={}),o||(o=function(t){let{userAgent:e}=void 0===t?{}:t;const n=l(),i=(0,r.a)(),s=i.navigator.platform,o=e||i.navigator.userAgent,a={ios:!1,android:!1},c=i.screen.width,u=i.screen.height,h=o.match(/(Android);?[\s\/]+([\d.]+)?/);let d=o.match(/(iPad).*OS\s([\d_]+)/);const f=o.match(/(iPod)(.*OS\s([\d_]+))?/),p=!d&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),g="Win32"===s;let m="MacIntel"===s;return!d&&m&&n.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${c}x${u}`)>=0&&(d=o.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),m=!1),h&&!g&&(a.os="android",a.android=!0),(d||p||f)&&(a.os="ios",a.ios=!0),a}(t)),o}var u={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!=typeof e)return r;const i=n?"unshift":"push";return t.split(" ").forEach((t=>{r.eventsListeners[t]||(r.eventsListeners[t]=[]),r.eventsListeners[t][i](e)})),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!=typeof e)return r;function i(){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];e.apply(r,s)}return i.__emitterProxy=e,r.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed)return n;if("function"!=typeof t)return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed)return e;if(!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed?n:n.eventsListeners?(t.split(" ").forEach((t=>{void 0===e?n.eventsListeners[t]=[]:n.eventsListeners[t]&&n.eventsListeners[t].forEach(((r,i)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&n.eventsListeners[t].splice(i,1)}))})),n):n},emit(){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsListeners)return t;let e,n,r;for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return"string"==typeof s[0]||Array.isArray(s[0])?(e=s[0],n=s.slice(1,s.length),r=t):(e=s[0].events,n=s[0].data,r=s[0].context||t),n.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach((e=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach((t=>{t.apply(r,[e,...n])})),t.eventsListeners&&t.eventsListeners[e]&&t.eventsListeners[e].forEach((t=>{t.apply(r,n)}))})),t}};const h=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)},d=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)},f=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=e.closest(t.isElement?"swiper-slide":`.${t.params.slideClass}`);if(n){let e=n.querySelector(`.${t.params.lazyPreloaderClass}`);!e&&t.isElement&&(n.shadowRoot?e=n.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame((()=>{n.shadowRoot&&(e=n.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),e&&e.remove())}))),e&&e.remove()}},p=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},g=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r="auto"===t.params.slidesPerView?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const n=i,s=[n-e];return s.push(...Array.from({length:e}).map(((t,e)=>n+r+e))),void t.slides.forEach(((e,n)=>{s.includes(e.column)&&p(t,n)}))}const s=i+r-1;if(t.params.rewind||t.params.loop)for(let r=i-e;r<=s+e;r+=1){const e=(r%n+n)%n;(e<i||e>s)&&p(t,e)}else for(let r=Math.max(i-e,0);r<=Math.min(s+e,n-1);r+=1)r!==i&&(r>s||r<i)&&p(t,r)};var m={updateSize:function(){const t=this;let e,n;const r=t.el;e=void 0!==t.params.width&&null!==t.params.width?t.params.width:r.clientWidth,n=void 0!==t.params.height&&null!==t.params.height?t.params.height:r.clientHeight,0===e&&t.isHorizontal()||0===n&&t.isVertical()||(e=e-parseInt((0,i.o)(r,"padding-left")||0,10)-parseInt((0,i.o)(r,"padding-right")||0,10),n=n-parseInt((0,i.o)(r,"padding-top")||0,10)-parseInt((0,i.o)(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))},updateSlides:function(){const t=this;function e(e,n){return parseFloat(e.getPropertyValue(t.getDirectionLabel(n))||0)}const n=t.params,{wrapperEl:r,slidesEl:s,size:o,rtlTranslate:a,wrongRTL:l}=t,c=t.virtual&&n.virtual.enabled,u=c?t.virtual.slides.length:t.slides.length,h=(0,i.e)(s,`.${t.params.slideClass}, swiper-slide`),d=c?t.virtual.slides.length:h.length;let f=[];const p=[],g=[];let m=n.slidesOffsetBefore;"function"==typeof m&&(m=n.slidesOffsetBefore.call(t));let v=n.slidesOffsetAfter;"function"==typeof v&&(v=n.slidesOffsetAfter.call(t));const y=t.snapGrid.length,w=t.slidesGrid.length;let _=n.spaceBetween,b=-m,T=0,E=0;if(void 0===o)return;"string"==typeof _&&_.indexOf("%")>=0?_=parseFloat(_.replace("%",""))/100*o:"string"==typeof _&&(_=parseFloat(_)),t.virtualSize=-_,h.forEach((t=>{a?t.style.marginLeft="":t.style.marginRight="",t.style.marginBottom="",t.style.marginTop=""})),n.centeredSlides&&n.cssMode&&((0,i.s)(r,"--swiper-centered-offset-before",""),(0,i.s)(r,"--swiper-centered-offset-after",""));const C=n.grid&&n.grid.rows>1&&t.grid;let S;C?t.grid.initSlides(h):t.grid&&t.grid.unsetSlides();const x="auto"===n.slidesPerView&&n.breakpoints&&Object.keys(n.breakpoints).filter((t=>void 0!==n.breakpoints[t].slidesPerView)).length>0;for(let r=0;r<d;r+=1){let s;if(S=0,h[r]&&(s=h[r]),C&&t.grid.updateSlide(r,s,h),!h[r]||"none"!==(0,i.o)(s,"display")){if("auto"===n.slidesPerView){x&&(h[r].style[t.getDirectionLabel("width")]="");const o=getComputedStyle(s),a=s.style.transform,l=s.style.webkitTransform;if(a&&(s.style.transform="none"),l&&(s.style.webkitTransform="none"),n.roundLengths)S=t.isHorizontal()?(0,i.f)(s,"width",!0):(0,i.f)(s,"height",!0);else{const t=e(o,"width"),n=e(o,"padding-left"),r=e(o,"padding-right"),i=e(o,"margin-left"),a=e(o,"margin-right"),l=o.getPropertyValue("box-sizing");if(l&&"border-box"===l)S=t+i+a;else{const{clientWidth:e,offsetWidth:o}=s;S=t+n+r+i+a+(o-e)}}a&&(s.style.transform=a),l&&(s.style.webkitTransform=l),n.roundLengths&&(S=Math.floor(S))}else S=(o-(n.slidesPerView-1)*_)/n.slidesPerView,n.roundLengths&&(S=Math.floor(S)),h[r]&&(h[r].style[t.getDirectionLabel("width")]=`${S}px`);h[r]&&(h[r].swiperSlideSize=S),g.push(S),n.centeredSlides?(b=b+S/2+T/2+_,0===T&&0!==r&&(b=b-o/2-_),0===r&&(b=b-o/2-_),Math.abs(b)<.001&&(b=0),n.roundLengths&&(b=Math.floor(b)),E%n.slidesPerGroup==0&&f.push(b),p.push(b)):(n.roundLengths&&(b=Math.floor(b)),(E-Math.min(t.params.slidesPerGroupSkip,E))%t.params.slidesPerGroup==0&&f.push(b),p.push(b),b=b+S+_),t.virtualSize+=S+_,T=S,E+=1}}if(t.virtualSize=Math.max(t.virtualSize,o)+v,a&&l&&("slide"===n.effect||"coverflow"===n.effect)&&(r.style.width=`${t.virtualSize+_}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+_}px`),C&&t.grid.updateWrapperSize(S,f),!n.centeredSlides){const e=[];for(let r=0;r<f.length;r+=1){let i=f[r];n.roundLengths&&(i=Math.floor(i)),f[r]<=t.virtualSize-o&&e.push(i)}f=e,Math.floor(t.virtualSize-o)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-o)}if(c&&n.loop){const e=g[0]+_;if(n.slidesPerGroup>1){const r=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),i=e*n.slidesPerGroup;for(let t=0;t<r;t+=1)f.push(f[f.length-1]+i)}for(let r=0;r<t.virtual.slidesBefore+t.virtual.slidesAfter;r+=1)1===n.slidesPerGroup&&f.push(f[f.length-1]+e),p.push(p[p.length-1]+e),t.virtualSize+=e}if(0===f.length&&(f=[0]),0!==_){const e=t.isHorizontal()&&a?"marginLeft":t.getDirectionLabel("marginRight");h.filter(((t,e)=>!(n.cssMode&&!n.loop)||e!==h.length-1)).forEach((t=>{t.style[e]=`${_}px`}))}if(n.centeredSlides&&n.centeredSlidesBounds){let t=0;g.forEach((e=>{t+=e+(_||0)})),t-=_;const e=t-o;f=f.map((t=>t<=0?-m:t>e?e+v:t))}if(n.centerInsufficientSlides){let t=0;g.forEach((e=>{t+=e+(_||0)})),t-=_;const e=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(t+e<o){const n=(o-t-e)/2;f.forEach(((t,e)=>{f[e]=t-n})),p.forEach(((t,e)=>{p[e]=t+n}))}}if(Object.assign(t,{slides:h,snapGrid:f,slidesGrid:p,slidesSizesGrid:g}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){(0,i.s)(r,"--swiper-centered-offset-before",-f[0]+"px"),(0,i.s)(r,"--swiper-centered-offset-after",t.size/2-g[g.length-1]/2+"px");const e=-t.snapGrid[0],n=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map((t=>t+e)),t.slidesGrid=t.slidesGrid.map((t=>t+n))}if(d!==u&&t.emit("slidesLengthChange"),f.length!==y&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),p.length!==w&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!(c||n.cssMode||"slide"!==n.effect&&"fade"!==n.effect)){const e=`${n.containerModifierClass}backface-hidden`,r=t.el.classList.contains(e);d<=n.maxBackfaceHiddenSlides?r||t.el.classList.add(e):r&&t.el.classList.remove(e)}},updateAutoHeight:function(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let i,s=0;"number"==typeof t?e.setTransition(t):!0===t&&e.setTransition(e.params.speed);const o=t=>r?e.slides[e.getSlideIndexByData(t)]:e.slides[t];if("auto"!==e.params.slidesPerView&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach((t=>{n.push(t)}));else for(i=0;i<Math.ceil(e.params.slidesPerView);i+=1){const t=e.activeIndex+i;if(t>e.slides.length&&!r)break;n.push(o(t))}else n.push(o(e.activeIndex));for(i=0;i<n.length;i+=1)if(void 0!==n[i]){const t=n[i].offsetHeight;s=t>s?t:s}(s||0===s)&&(e.wrapperEl.style.height=`${s}px`)},updateSlidesOffset:function(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()},updateSlidesProgress:function(t){void 0===t&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:i,snapGrid:s}=e;if(0===r.length)return;void 0===r[0].swiperSlideOffset&&e.updateSlidesOffset();let o=-t;i&&(o=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;"string"==typeof a&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:"string"==typeof a&&(a=parseFloat(a));for(let t=0;t<r.length;t+=1){const l=r[t];let c=l.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(c-=r[0].swiperSlideOffset);const u=(o+(n.centeredSlides?e.minTranslate():0)-c)/(l.swiperSlideSize+a),d=(o-s[0]+(n.centeredSlides?e.minTranslate():0)-c)/(l.swiperSlideSize+a),f=-(o-c),p=f+e.slidesSizesGrid[t],g=f>=0&&f<=e.size-e.slidesSizesGrid[t],m=f>=0&&f<e.size-1||p>1&&p<=e.size||f<=0&&p>=e.size;m&&(e.visibleSlides.push(l),e.visibleSlidesIndexes.push(t)),h(l,m,n.slideVisibleClass),h(l,g,n.slideFullyVisibleClass),l.progress=i?-u:u,l.originalProgress=i?-d:d}},updateProgress:function(t){const e=this;if(void 0===t){const n=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*n||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:s,isEnd:o,progressLoop:a}=e;const l=s,c=o;if(0===r)i=0,s=!0,o=!0;else{i=(t-e.minTranslate())/r;const n=Math.abs(t-e.minTranslate())<1,a=Math.abs(t-e.maxTranslate())<1;s=n||i<=0,o=a||i>=1,n&&(i=0),a&&(i=1)}if(n.loop){const n=e.getSlideIndexByData(0),r=e.getSlideIndexByData(e.slides.length-1),i=e.slidesGrid[n],s=e.slidesGrid[r],o=e.slidesGrid[e.slidesGrid.length-1],l=Math.abs(t);a=l>=i?(l-i)/o:(l+o-s)/o,a>1&&(a-=1)}Object.assign(e,{progress:i,progressLoop:a,isBeginning:s,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!l&&e.emit("reachBeginning toEdge"),o&&!c&&e.emit("reachEnd toEdge"),(l&&!s||c&&!o)&&e.emit("fromEdge"),e.emit("progress",i)},updateSlidesClasses:function(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:s}=t,o=t.virtual&&n.virtual.enabled,a=t.grid&&n.grid&&n.grid.rows>1,l=t=>(0,i.e)(r,`.${n.slideClass}${t}, swiper-slide${t}`)[0];let c,u,h;if(o)if(n.loop){let e=s-t.virtual.slidesBefore;e<0&&(e=t.virtual.slides.length+e),e>=t.virtual.slides.length&&(e-=t.virtual.slides.length),c=l(`[data-swiper-slide-index="${e}"]`)}else c=l(`[data-swiper-slide-index="${s}"]`);else a?(c=e.filter((t=>t.column===s))[0],h=e.filter((t=>t.column===s+1))[0],u=e.filter((t=>t.column===s-1))[0]):c=e[s];c&&(a||(h=(0,i.p)(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!h&&(h=e[0]),u=(0,i.q)(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&0===!u&&(u=e[e.length-1]))),e.forEach((t=>{d(t,t===c,n.slideActiveClass),d(t,t===h,n.slideNextClass),d(t,t===u,n.slidePrevClass)})),t.emitSlidesClasses()},updateActiveIndex:function(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:s,realIndex:o,snapIndex:a}=e;let l,c=t;const u=t=>{let n=t-e.virtual.slidesBefore;return n<0&&(n=e.virtual.slides.length+n),n>=e.virtual.slides.length&&(n-=e.virtual.slides.length),n};if(void 0===c&&(c=function(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let i;for(let t=0;t<e.length;t+=1)void 0!==e[t+1]?r>=e[t]&&r<e[t+1]-(e[t+1]-e[t])/2?i=t:r>=e[t]&&r<e[t+1]&&(i=t+1):r>=e[t]&&(i=t);return n.normalizeSlideIndex&&(i<0||void 0===i)&&(i=0),i}(e)),r.indexOf(n)>=0)l=r.indexOf(n);else{const t=Math.min(i.slidesPerGroupSkip,c);l=t+Math.floor((c-t)/i.slidesPerGroup)}if(l>=r.length&&(l=r.length-1),c===s&&!e.params.loop)return void(l!==a&&(e.snapIndex=l,e.emit("snapIndexChange")));if(c===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled)return void(e.realIndex=u(c));const h=e.grid&&i.grid&&i.grid.rows>1;let d;if(e.virtual&&i.virtual.enabled&&i.loop)d=u(c);else if(h){const t=e.slides.filter((t=>t.column===c))[0];let n=parseInt(t.getAttribute("data-swiper-slide-index"),10);Number.isNaN(n)&&(n=Math.max(e.slides.indexOf(t),0)),d=Math.floor(n/i.grid.rows)}else if(e.slides[c]){const t=e.slides[c].getAttribute("data-swiper-slide-index");d=t?parseInt(t,10):c}else d=c;Object.assign(e,{previousSnapIndex:a,snapIndex:l,previousRealIndex:o,realIndex:d,previousIndex:s,activeIndex:c}),e.initialized&&g(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==d&&e.emit("realIndexChange"),e.emit("slideChange"))},updateClickedSlide:function(t,e){const n=this,r=n.params;let i=t.closest(`.${r.slideClass}, swiper-slide`);!i&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach((t=>{!i&&t.matches&&t.matches(`.${r.slideClass}, swiper-slide`)&&(i=t)}));let s,o=!1;if(i)for(let t=0;t<n.slides.length;t+=1)if(n.slides[t]===i){o=!0,s=t;break}if(!i||!o)return n.clickedSlide=void 0,void(n.clickedIndex=void 0);n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=s,r.slideToClickedSlide&&void 0!==n.clickedIndex&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}};function v(t){let{swiper:e,runCallbacks:n,direction:r,step:i}=t;const{activeIndex:s,previousIndex:o}=e;let a=r;if(a||(a=s>o?"next":s<o?"prev":"reset"),e.emit(`transition${i}`),n&&s!==o){if("reset"===a)return void e.emit(`slideResetTransition${i}`);e.emit(`slideChangeTransition${i}`),"next"===a?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`)}}var y={slideTo:function(t,e,n,r,s){void 0===t&&(t=0),void 0===n&&(n=!0),"string"==typeof t&&(t=parseInt(t,10));const o=this;let a=t;a<0&&(a=0);const{params:l,snapGrid:c,slidesGrid:u,previousIndex:h,activeIndex:d,rtlTranslate:f,wrapperEl:p,enabled:g}=o;if(!g&&!r&&!s||o.destroyed||o.animating&&l.preventInteractionOnTransition)return!1;void 0===e&&(e=o.params.speed);const m=Math.min(o.params.slidesPerGroupSkip,a);let v=m+Math.floor((a-m)/o.params.slidesPerGroup);v>=c.length&&(v=c.length-1);const y=-c[v];if(l.normalizeSlideIndex)for(let t=0;t<u.length;t+=1){const e=-Math.floor(100*y),n=Math.floor(100*u[t]),r=Math.floor(100*u[t+1]);void 0!==u[t+1]?e>=n&&e<r-(r-n)/2?a=t:e>=n&&e<r&&(a=t+1):e>=n&&(a=t)}if(o.initialized&&a!==d){if(!o.allowSlideNext&&(f?y>o.translate&&y>o.minTranslate():y<o.translate&&y<o.minTranslate()))return!1;if(!o.allowSlidePrev&&y>o.translate&&y>o.maxTranslate()&&(d||0)!==a)return!1}let w;if(a!==(h||0)&&n&&o.emit("beforeSlideChangeStart"),o.updateProgress(y),w=a>d?"next":a<d?"prev":"reset",f&&-y===o.translate||!f&&y===o.translate)return o.updateActiveIndex(a),l.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),"slide"!==l.effect&&o.setTranslate(y),"reset"!==w&&(o.transitionStart(n,w),o.transitionEnd(n,w)),!1;if(l.cssMode){const t=o.isHorizontal(),n=f?y:-y;if(0===e){const e=o.virtual&&o.params.virtual.enabled;e&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),e&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame((()=>{p[t?"scrollLeft":"scrollTop"]=n}))):p[t?"scrollLeft":"scrollTop"]=n,e&&requestAnimationFrame((()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1}))}else{if(!o.support.smoothScroll)return(0,i.r)({swiper:o,targetPosition:n,side:t?"left":"top"}),!0;p.scrollTo({[t?"left":"top"]:n,behavior:"smooth"})}return!0}return o.setTransition(e),o.setTranslate(y),o.updateActiveIndex(a),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,r),o.transitionStart(n,w),0===e?o.transitionEnd(n,w):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(t){o&&!o.destroyed&&t.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(n,w))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(t,e,n,r){void 0===t&&(t=0),void 0===n&&(n=!0),"string"==typeof t&&(t=parseInt(t,10));const i=this;if(i.destroyed)return;void 0===e&&(e=i.params.speed);const s=i.grid&&i.params.grid&&i.params.grid.rows>1;let o=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)o+=i.virtual.slidesBefore;else{let t;if(s){const e=o*i.params.grid.rows;t=i.slides.filter((t=>1*t.getAttribute("data-swiper-slide-index")===e))[0].column}else t=i.getSlideIndexByData(o);const e=s?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:n}=i.params;let a=i.params.slidesPerView;"auto"===a?a=i.slidesPerViewDynamic():(a=Math.ceil(parseFloat(i.params.slidesPerView,10)),n&&a%2==0&&(a+=1));let l=e-t<a;if(n&&(l=l||t<Math.ceil(a/2)),r&&n&&"auto"!==i.params.slidesPerView&&!s&&(l=!1),l){const r=n?t<i.activeIndex?"prev":"next":t-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:r,slideTo:!0,activeSlideIndex:"next"===r?t+1:t-e+1,slideRealIndex:"next"===r?i.realIndex:void 0})}if(s){const t=o*i.params.grid.rows;o=i.slides.filter((e=>1*e.getAttribute("data-swiper-slide-index")===t))[0].column}else o=i.getSlideIndexByData(o)}return requestAnimationFrame((()=>{i.slideTo(o,e,n,r)})),i},slideNext:function(t,e,n){void 0===e&&(e=!0);const r=this,{enabled:i,params:s,animating:o}=r;if(!i||r.destroyed)return r;void 0===t&&(t=r.params.speed);let a=s.slidesPerGroup;"auto"===s.slidesPerView&&1===s.slidesPerGroup&&s.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<s.slidesPerGroupSkip?1:a,c=r.virtual&&s.virtual.enabled;if(s.loop){if(o&&!c&&s.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&s.cssMode)return requestAnimationFrame((()=>{r.slideTo(r.activeIndex+l,t,e,n)})),!0}return s.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+l,t,e,n)},slidePrev:function(t,e,n){void 0===e&&(e=!0);const r=this,{params:i,snapGrid:s,slidesGrid:o,rtlTranslate:a,enabled:l,animating:c}=r;if(!l||r.destroyed)return r;void 0===t&&(t=r.params.speed);const u=r.virtual&&i.virtual.enabled;if(i.loop){if(c&&!u&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}function h(t){return t<0?-Math.floor(Math.abs(t)):Math.floor(t)}const d=h(a?r.translate:-r.translate),f=s.map((t=>h(t)));let p=s[f.indexOf(d)-1];if(void 0===p&&i.cssMode){let t;s.forEach(((e,n)=>{d>=e&&(t=n)})),void 0!==t&&(p=s[t>0?t-1:t])}let g=0;if(void 0!==p&&(g=o.indexOf(p),g<0&&(g=r.activeIndex-1),"auto"===i.slidesPerView&&1===i.slidesPerGroup&&i.slidesPerGroupAuto&&(g=g-r.slidesPerViewDynamic("previous",!0)+1,g=Math.max(g,0))),i.rewind&&r.isBeginning){const i=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(i,t,e,n)}return i.loop&&0===r.activeIndex&&i.cssMode?(requestAnimationFrame((()=>{r.slideTo(g,t,e,n)})),!0):r.slideTo(g,t,e,n)},slideReset:function(t,e,n){void 0===e&&(e=!0);const r=this;if(!r.destroyed)return void 0===t&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)},slideToClosest:function(t,e,n,r){void 0===e&&(e=!0),void 0===r&&(r=.5);const i=this;if(i.destroyed)return;void 0===t&&(t=i.params.speed);let s=i.activeIndex;const o=Math.min(i.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[a]){const t=i.snapGrid[a];l-t>(i.snapGrid[a+1]-t)*r&&(s+=i.params.slidesPerGroup)}else{const t=i.snapGrid[a-1];l-t<=(i.snapGrid[a]-t)*r&&(s-=i.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,i.slidesGrid.length-1),i.slideTo(s,t,e,n)},slideToClickedSlide:function(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r="auto"===e.slidesPerView?t.slidesPerViewDynamic():e.slidesPerView;let s,o=t.clickedIndex;const a=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?o<t.loopedSlides-r/2||o>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),o=t.getSlideIndex((0,i.e)(n,`${a}[data-swiper-slide-index="${s}"]`)[0]),(0,i.n)((()=>{t.slideTo(o)}))):t.slideTo(o):o>t.slides.length-r?(t.loopFix(),o=t.getSlideIndex((0,i.e)(n,`${a}[data-swiper-slide-index="${s}"]`)[0]),(0,i.n)((()=>{t.slideTo(o)}))):t.slideTo(o)}else t.slideTo(o)}},w={loopCreate:function(t){const e=this,{params:n,slidesEl:r}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;const s=()=>{(0,i.e)(r,`.${n.slideClass}, swiper-slide`).forEach(((t,e)=>{t.setAttribute("data-swiper-slide-index",e)}))},o=e.grid&&n.grid&&n.grid.rows>1,a=n.slidesPerGroup*(o?n.grid.rows:1),l=e.slides.length%a!=0,c=o&&e.slides.length%n.grid.rows!=0,u=t=>{for(let r=0;r<t;r+=1){const t=e.isElement?(0,i.c)("swiper-slide",[n.slideBlankClass]):(0,i.c)("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(t)}};l?(n.loopAddBlankSlides?(u(a-e.slides.length%a),e.recalcSlides(),e.updateSlides()):(0,i.t)("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)"),s()):c?(n.loopAddBlankSlides?(u(n.grid.rows-e.slides.length%n.grid.rows),e.recalcSlides(),e.updateSlides()):(0,i.t)("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)"),s()):s(),e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})},loopFix:function(t){let{slideRealIndex:e,slideTo:n=!0,direction:r,setTranslate:s,activeSlideIndex:o,byController:a,byMousewheel:l}=void 0===t?{}:t;const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:u,allowSlidePrev:h,allowSlideNext:d,slidesEl:f,params:p}=c,{centeredSlides:g}=p;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&p.virtual.enabled)return n&&(p.centeredSlides||0!==c.snapIndex?p.centeredSlides&&c.snapIndex<p.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0):c.slideTo(c.virtual.slides.length,0,!1,!0)),c.allowSlidePrev=h,c.allowSlideNext=d,void c.emit("loopFix");let m=p.slidesPerView;"auto"===m?m=c.slidesPerViewDynamic():(m=Math.ceil(parseFloat(p.slidesPerView,10)),g&&m%2==0&&(m+=1));const v=p.slidesPerGroupAuto?m:p.slidesPerGroup;let y=v;y%v!=0&&(y+=v-y%v),y+=p.loopAdditionalSlides,c.loopedSlides=y;const w=c.grid&&p.grid&&p.grid.rows>1;u.length<m+y?(0,i.t)("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):w&&"row"===p.grid.fill&&(0,i.t)("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const _=[],b=[];let T=c.activeIndex;void 0===o?o=c.getSlideIndex(u.filter((t=>t.classList.contains(p.slideActiveClass)))[0]):T=o;const E="next"===r||!r,C="prev"===r||!r;let S=0,x=0;const I=w?Math.ceil(u.length/p.grid.rows):u.length,A=(w?u[o].column:o)+(g&&void 0===s?-m/2+.5:0);if(A<y){S=Math.max(y-A,v);for(let t=0;t<y-A;t+=1){const e=t-Math.floor(t/I)*I;if(w){const t=I-e-1;for(let e=u.length-1;e>=0;e-=1)u[e].column===t&&_.push(e)}else _.push(I-e-1)}}else if(A+m>I-y){x=Math.max(A-(I-2*y),v);for(let t=0;t<x;t+=1){const e=t-Math.floor(t/I)*I;w?u.forEach(((t,n)=>{t.column===e&&b.push(n)})):b.push(e)}}if(c.__preventObserver__=!0,requestAnimationFrame((()=>{c.__preventObserver__=!1})),C&&_.forEach((t=>{u[t].swiperLoopMoveDOM=!0,f.prepend(u[t]),u[t].swiperLoopMoveDOM=!1})),E&&b.forEach((t=>{u[t].swiperLoopMoveDOM=!0,f.append(u[t]),u[t].swiperLoopMoveDOM=!1})),c.recalcSlides(),"auto"===p.slidesPerView?c.updateSlides():w&&(_.length>0&&C||b.length>0&&E)&&c.slides.forEach(((t,e)=>{c.grid.updateSlide(e,t,c.slides)})),p.watchSlidesProgress&&c.updateSlidesOffset(),n)if(_.length>0&&C){if(void 0===e){const t=c.slidesGrid[T],e=c.slidesGrid[T+S]-t;l?c.setTranslate(c.translate-e):(c.slideTo(T+Math.ceil(S),0,!1,!0),s&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-e,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-e))}else if(s){const t=w?_.length/p.grid.rows:_.length;c.slideTo(c.activeIndex+t,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(b.length>0&&E)if(void 0===e){const t=c.slidesGrid[T],e=c.slidesGrid[T-x]-t;l?c.setTranslate(c.translate-e):(c.slideTo(T-x,0,!1,!0),s&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-e,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-e))}else{const t=w?b.length/p.grid.rows:b.length;c.slideTo(c.activeIndex-t,0,!1,!0)}if(c.allowSlidePrev=h,c.allowSlideNext=d,c.controller&&c.controller.control&&!a){const t={slideRealIndex:e,direction:r,setTranslate:s,activeSlideIndex:o,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach((e=>{!e.destroyed&&e.params.loop&&e.loopFix({...t,slideTo:e.params.slidesPerView===p.slidesPerView&&n})})):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...t,slideTo:c.controller.control.params.slidesPerView===p.slidesPerView&&n})}c.emit("loopFix")},loopDestroy:function(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach((t=>{const e=void 0===t.swiperSlideIndex?1*t.getAttribute("data-swiper-slide-index"):t.swiperSlideIndex;r[e]=t})),t.slides.forEach((t=>{t.removeAttribute("data-swiper-slide-index")})),r.forEach((t=>{n.append(t)})),t.recalcSlides(),t.slideTo(t.realIndex,0)}};function _(t,e,n){const i=(0,r.a)(),{params:s}=t,o=s.edgeSwipeDetection,a=s.edgeSwipeThreshold;return!o||!(n<=a||n>=i.innerWidth-a)||"prevent"===o&&(e.preventDefault(),!0)}function b(t){const e=this,n=(0,r.g)();let s=t;s.originalEvent&&(s=s.originalEvent);const o=e.touchEventsData;if("pointerdown"===s.type){if(null!==o.pointerId&&o.pointerId!==s.pointerId)return;o.pointerId=s.pointerId}else"touchstart"===s.type&&1===s.targetTouches.length&&(o.touchId=s.targetTouches[0].identifier);if("touchstart"===s.type)return void _(e,s,s.targetTouches[0].pageX);const{params:a,touches:l,enabled:c}=e;if(!c)return;if(!a.simulateTouch&&"mouse"===s.pointerType)return;if(e.animating&&a.preventInteractionOnTransition)return;!e.animating&&a.cssMode&&a.loop&&e.loopFix();let u=s.target;if("wrapper"===a.touchEventsTarget&&!e.wrapperEl.contains(u))return;if("which"in s&&3===s.which)return;if("button"in s&&s.button>0)return;if(o.isTouched&&o.isMoved)return;const h=!!a.noSwipingClass&&""!==a.noSwipingClass,d=s.composedPath?s.composedPath():s.path;h&&s.target&&s.target.shadowRoot&&d&&(u=d[0]);const f=a.noSwipingSelector?a.noSwipingSelector:`.${a.noSwipingClass}`,p=!(!s.target||!s.target.shadowRoot);if(a.noSwiping&&(p?function(t,e){return void 0===e&&(e=this),function e(n){if(!n||n===(0,r.g)()||n===(0,r.a)())return null;n.assignedSlot&&(n=n.assignedSlot);const i=n.closest(t);return i||n.getRootNode?i||e(n.getRootNode().host):null}(e)}(f,u):u.closest(f)))return void(e.allowClick=!0);if(a.swipeHandler&&!u.closest(a.swipeHandler))return;l.currentX=s.pageX,l.currentY=s.pageY;const g=l.currentX,m=l.currentY;if(!_(e,s,g))return;Object.assign(o,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),l.startX=g,l.startY=m,o.touchStartTime=(0,i.d)(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,a.threshold>0&&(o.allowThresholdMove=!1);let v=!0;u.matches(o.focusableElements)&&(v=!1,"SELECT"===u.nodeName&&(o.isTouched=!1)),n.activeElement&&n.activeElement.matches(o.focusableElements)&&n.activeElement!==u&&n.activeElement.blur();const y=v&&e.allowTouchMove&&a.touchStartPreventDefault;!a.touchStartForcePreventDefault&&!y||u.isContentEditable||s.preventDefault(),a.freeMode&&a.freeMode.enabled&&e.freeMode&&e.animating&&!a.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",s)}function T(t){const e=(0,r.g)(),n=this,s=n.touchEventsData,{params:o,touches:a,rtlTranslate:l,enabled:c}=n;if(!c)return;if(!o.simulateTouch&&"mouse"===t.pointerType)return;let u,h=t;if(h.originalEvent&&(h=h.originalEvent),"pointermove"===h.type){if(null!==s.touchId)return;if(h.pointerId!==s.pointerId)return}if("touchmove"===h.type){if(u=[...h.changedTouches].filter((t=>t.identifier===s.touchId))[0],!u||u.identifier!==s.touchId)return}else u=h;if(!s.isTouched)return void(s.startMoving&&s.isScrolling&&n.emit("touchMoveOpposite",h));const d=u.pageX,f=u.pageY;if(h.preventedByNestedSwiper)return a.startX=d,void(a.startY=f);if(!n.allowTouchMove)return h.target.matches(s.focusableElements)||(n.allowClick=!1),void(s.isTouched&&(Object.assign(a,{startX:d,startY:f,currentX:d,currentY:f}),s.touchStartTime=(0,i.d)()));if(o.touchReleaseOnEdges&&!o.loop)if(n.isVertical()){if(f<a.startY&&n.translate<=n.maxTranslate()||f>a.startY&&n.translate>=n.minTranslate())return s.isTouched=!1,void(s.isMoved=!1)}else if(d<a.startX&&n.translate<=n.maxTranslate()||d>a.startX&&n.translate>=n.minTranslate())return;if(e.activeElement&&h.target===e.activeElement&&h.target.matches(s.focusableElements))return s.isMoved=!0,void(n.allowClick=!1);s.allowTouchCallbacks&&n.emit("touchMove",h),a.previousX=a.currentX,a.previousY=a.currentY,a.currentX=d,a.currentY=f;const p=a.currentX-a.startX,g=a.currentY-a.startY;if(n.params.threshold&&Math.sqrt(p**2+g**2)<n.params.threshold)return;if(void 0===s.isScrolling){let t;n.isHorizontal()&&a.currentY===a.startY||n.isVertical()&&a.currentX===a.startX?s.isScrolling=!1:p*p+g*g>=25&&(t=180*Math.atan2(Math.abs(g),Math.abs(p))/Math.PI,s.isScrolling=n.isHorizontal()?t>o.touchAngle:90-t>o.touchAngle)}if(s.isScrolling&&n.emit("touchMoveOpposite",h),void 0===s.startMoving&&(a.currentX===a.startX&&a.currentY===a.startY||(s.startMoving=!0)),s.isScrolling||"touchmove"===h.type&&s.preventTouchMoveFromPointerMove)return void(s.isTouched=!1);if(!s.startMoving)return;n.allowClick=!1,!o.cssMode&&h.cancelable&&h.preventDefault(),o.touchMoveStopPropagation&&!o.nested&&h.stopPropagation();let m=n.isHorizontal()?p:g,v=n.isHorizontal()?a.currentX-a.previousX:a.currentY-a.previousY;o.oneWayMovement&&(m=Math.abs(m)*(l?1:-1),v=Math.abs(v)*(l?1:-1)),a.diff=m,m*=o.touchRatio,l&&(m=-m,v=-v);const y=n.touchesDirection;n.swipeDirection=m>0?"prev":"next",n.touchesDirection=v>0?"prev":"next";const w=n.params.loop&&!o.cssMode,_="next"===n.touchesDirection&&n.allowSlideNext||"prev"===n.touchesDirection&&n.allowSlidePrev;if(!s.isMoved){if(w&&_&&n.loopFix({direction:n.swipeDirection}),s.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const t=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(t)}s.allowMomentumBounce=!1,!o.grabCursor||!0!==n.allowSlideNext&&!0!==n.allowSlidePrev||n.setGrabCursor(!0),n.emit("sliderFirstMove",h)}if((new Date).getTime(),s.isMoved&&s.allowThresholdMove&&y!==n.touchesDirection&&w&&_&&Math.abs(m)>=1)return Object.assign(a,{startX:d,startY:f,currentX:d,currentY:f,startTranslate:s.currentTranslate}),s.loopSwapReset=!0,void(s.startTranslate=s.currentTranslate);n.emit("sliderMove",h),s.isMoved=!0,s.currentTranslate=m+s.startTranslate;let b=!0,T=o.resistanceRatio;if(o.touchReleaseOnEdges&&(T=0),m>0?(w&&_&&s.allowThresholdMove&&s.currentTranslate>(o.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),s.currentTranslate>n.minTranslate()&&(b=!1,o.resistance&&(s.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+s.startTranslate+m)**T))):m<0&&(w&&_&&s.allowThresholdMove&&s.currentTranslate<(o.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-("auto"===o.slidesPerView?n.slidesPerViewDynamic():Math.ceil(parseFloat(o.slidesPerView,10)))}),s.currentTranslate<n.maxTranslate()&&(b=!1,o.resistance&&(s.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-s.startTranslate-m)**T))),b&&(h.preventedByNestedSwiper=!0),!n.allowSlideNext&&"next"===n.swipeDirection&&s.currentTranslate<s.startTranslate&&(s.currentTranslate=s.startTranslate),!n.allowSlidePrev&&"prev"===n.swipeDirection&&s.currentTranslate>s.startTranslate&&(s.currentTranslate=s.startTranslate),n.allowSlidePrev||n.allowSlideNext||(s.currentTranslate=s.startTranslate),o.threshold>0){if(!(Math.abs(m)>o.threshold||s.allowThresholdMove))return void(s.currentTranslate=s.startTranslate);if(!s.allowThresholdMove)return s.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,s.currentTranslate=s.startTranslate,void(a.diff=n.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY)}o.followFinger&&!o.cssMode&&((o.freeMode&&o.freeMode.enabled&&n.freeMode||o.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),o.freeMode&&o.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(s.currentTranslate),n.setTranslate(s.currentTranslate))}function E(t){const e=this,n=e.touchEventsData;let r,s=t;if(s.originalEvent&&(s=s.originalEvent),"touchend"===s.type||"touchcancel"===s.type){if(r=[...s.changedTouches].filter((t=>t.identifier===n.touchId))[0],!r||r.identifier!==n.touchId)return}else{if(null!==n.touchId)return;if(s.pointerId!==n.pointerId)return;r=s}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(s.type)&&(!["pointercancel","contextmenu"].includes(s.type)||!e.browser.isSafari&&!e.browser.isWebView))return;n.pointerId=null,n.touchId=null;const{params:o,touches:a,rtlTranslate:l,slidesGrid:c,enabled:u}=e;if(!u)return;if(!o.simulateTouch&&"mouse"===s.pointerType)return;if(n.allowTouchCallbacks&&e.emit("touchEnd",s),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);o.grabCursor&&n.isMoved&&n.isTouched&&(!0===e.allowSlideNext||!0===e.allowSlidePrev)&&e.setGrabCursor(!1);const h=(0,i.d)(),d=h-n.touchStartTime;if(e.allowClick){const t=s.path||s.composedPath&&s.composedPath();e.updateClickedSlide(t&&t[0]||s.target,t),e.emit("tap click",s),d<300&&h-n.lastClickTime<300&&e.emit("doubleTap doubleClick",s)}if(n.lastClickTime=(0,i.d)(),(0,i.n)((()=>{e.destroyed||(e.allowClick=!0)})),!n.isTouched||!n.isMoved||!e.swipeDirection||0===a.diff&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);let f;if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,f=o.followFinger?l?e.translate:-e.translate:-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled)return void e.freeMode.onTouchEnd({currentPos:f});const p=f>=-e.maxTranslate()&&!e.params.loop;let g=0,m=e.slidesSizesGrid[0];for(let t=0;t<c.length;t+=t<o.slidesPerGroupSkip?1:o.slidesPerGroup){const e=t<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;void 0!==c[t+e]?(p||f>=c[t]&&f<c[t+e])&&(g=t,m=c[t+e]-c[t]):(p||f>=c[t])&&(g=t,m=c[c.length-1]-c[c.length-2])}let v=null,y=null;o.rewind&&(e.isBeginning?y=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(v=0));const w=(f-c[g])/m,_=g<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(d>o.longSwipesMs){if(!o.longSwipes)return void e.slideTo(e.activeIndex);"next"===e.swipeDirection&&(w>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?v:g+_):e.slideTo(g)),"prev"===e.swipeDirection&&(w>1-o.longSwipesRatio?e.slideTo(g+_):null!==y&&w<0&&Math.abs(w)>o.longSwipesRatio?e.slideTo(y):e.slideTo(g))}else{if(!o.shortSwipes)return void e.slideTo(e.activeIndex);!e.navigation||s.target!==e.navigation.nextEl&&s.target!==e.navigation.prevEl?("next"===e.swipeDirection&&e.slideTo(null!==v?v:g+_),"prev"===e.swipeDirection&&e.slideTo(null!==y?y:g)):s.target===e.navigation.nextEl?e.slideTo(g+_):e.slideTo(g)}}function C(){const t=this,{params:e,el:n}=t;if(n&&0===n.offsetWidth)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:s}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=o&&e.loop;!("auto"===e.slidesPerView||e.slidesPerView>1)||!t.isEnd||t.isBeginning||t.params.centeredSlides||a?t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0):t.slideTo(t.slides.length-1,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout((()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()}),500)),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function S(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function x(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;let i;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,0===t.translate&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();const s=t.maxTranslate()-t.minTranslate();i=0===s?0:(t.translate-t.minTranslate())/s,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function I(t){const e=this;f(e,t.target),e.params.cssMode||"auto"!==e.params.slidesPerView&&!e.params.autoHeight||e.update()}function A(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const k=(t,e)=>{const n=(0,r.g)(),{params:i,el:s,wrapperEl:o,device:a}=t,l=!!i.nested,c="on"===e?"addEventListener":"removeEventListener",u=e;s&&"string"!=typeof s&&(n[c]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:l}),s[c]("touchstart",t.onTouchStart,{passive:!1}),s[c]("pointerdown",t.onTouchStart,{passive:!1}),n[c]("touchmove",t.onTouchMove,{passive:!1,capture:l}),n[c]("pointermove",t.onTouchMove,{passive:!1,capture:l}),n[c]("touchend",t.onTouchEnd,{passive:!0}),n[c]("pointerup",t.onTouchEnd,{passive:!0}),n[c]("pointercancel",t.onTouchEnd,{passive:!0}),n[c]("touchcancel",t.onTouchEnd,{passive:!0}),n[c]("pointerout",t.onTouchEnd,{passive:!0}),n[c]("pointerleave",t.onTouchEnd,{passive:!0}),n[c]("contextmenu",t.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&s[c]("click",t.onClick,!0),i.cssMode&&o[c]("scroll",t.onScroll),i.updateOnWindowResize?t[u](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",C,!0):t[u]("observerUpdate",C,!0),s[c]("load",t.onLoad,{capture:!0}))},M=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;var D={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function P(t,e){return function(n){void 0===n&&(n={});const r=Object.keys(n)[0],s=n[r];"object"==typeof s&&null!==s?(!0===t[r]&&(t[r]={enabled:!0}),"navigation"===r&&t[r]&&t[r].enabled&&!t[r].prevEl&&!t[r].nextEl&&(t[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&t[r]&&t[r].enabled&&!t[r].el&&(t[r].auto=!0),r in t&&"enabled"in s?("object"!=typeof t[r]||"enabled"in t[r]||(t[r].enabled=!0),t[r]||(t[r]={enabled:!1}),(0,i.u)(e,n)):(0,i.u)(e,n)):(0,i.u)(e,n)}}const O={eventsEmitter:u,update:m,translate:{getTranslate:function(t){void 0===t&&(t=this.isHorizontal()?"x":"y");const{params:e,rtlTranslate:n,translate:r,wrapperEl:s}=this;if(e.virtualTranslate)return n?-r:r;if(e.cssMode)return r;let o=(0,i.j)(s,t);return o+=this.cssOverflowAdjustment(),n&&(o=-o),o||0},setTranslate:function(t,e){const n=this,{rtlTranslate:r,params:i,wrapperEl:s,progress:o}=n;let a,l=0,c=0;n.isHorizontal()?l=r?-t:t:c=t,i.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:c,i.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-c:i.virtualTranslate||(n.isHorizontal()?l-=n.cssOverflowAdjustment():c-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${l}px, ${c}px, 0px)`);const u=n.maxTranslate()-n.minTranslate();a=0===u?0:(t-n.minTranslate())/u,a!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(t,e,n,r,s){void 0===t&&(t=0),void 0===e&&(e=this.params.speed),void 0===n&&(n=!0),void 0===r&&(r=!0);const o=this,{params:a,wrapperEl:l}=o;if(o.animating&&a.preventInteractionOnTransition)return!1;const c=o.minTranslate(),u=o.maxTranslate();let h;if(h=r&&t>c?c:r&&t<u?u:t,o.updateProgress(h),a.cssMode){const t=o.isHorizontal();if(0===e)l[t?"scrollLeft":"scrollTop"]=-h;else{if(!o.support.smoothScroll)return(0,i.r)({swiper:o,targetPosition:-h,side:t?"left":"top"}),!0;l.scrollTo({[t?"left":"top"]:-h,behavior:"smooth"})}return!0}return 0===e?(o.setTransition(0),o.setTranslate(h),n&&(o.emit("beforeTransitionStart",e,s),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(h),n&&(o.emit("beforeTransitionStart",e,s),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(t){o&&!o.destroyed&&t.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,o.animating=!1,n&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=0===t?"0ms":""),n.emit("setTransition",t,e)},transitionStart:function(t,e){void 0===t&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),v({swiper:n,runCallbacks:t,direction:e,step:"Start"}))},transitionEnd:function(t,e){void 0===t&&(t=!0);const n=this,{params:r}=n;n.animating=!1,r.cssMode||(n.setTransition(0),v({swiper:n,runCallbacks:t,direction:e,step:"End"}))}},slide:y,loop:w,grabCursor:{setGrabCursor:function(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n="container"===e.params.touchEventsTarget?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame((()=>{e.__preventObserver__=!1}))},unsetGrabCursor:function(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t["container"===t.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame((()=>{t.__preventObserver__=!1})))}},events:{attachEvents:function(){const t=this,{params:e}=t;t.onTouchStart=b.bind(t),t.onTouchMove=T.bind(t),t.onTouchEnd=E.bind(t),t.onDocumentTouchStart=A.bind(t),e.cssMode&&(t.onScroll=x.bind(t)),t.onClick=S.bind(t),t.onLoad=I.bind(t),k(t,"on")},detachEvents:function(){k(this,"off")}},breakpoints:{setBreakpoint:function(){const t=this,{realIndex:e,initialized:n,params:r,el:s}=t,o=r.breakpoints;if(!o||o&&0===Object.keys(o).length)return;const a=t.getBreakpoint(o,t.params.breakpointsBase,t.el);if(!a||t.currentBreakpoint===a)return;const l=(a in o?o[a]:void 0)||t.originalParams,c=M(t,r),u=M(t,l),h=t.params.grabCursor,d=l.grabCursor,f=r.enabled;c&&!u?(s.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!c&&u&&(s.classList.add(`${r.containerModifierClass}grid`),(l.grid.fill&&"column"===l.grid.fill||!l.grid.fill&&"column"===r.grid.fill)&&s.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),h&&!d?t.unsetGrabCursor():!h&&d&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach((e=>{if(void 0===l[e])return;const n=r[e]&&r[e].enabled,i=l[e]&&l[e].enabled;n&&!i&&t[e].disable(),!n&&i&&t[e].enable()}));const p=l.direction&&l.direction!==r.direction,g=r.loop&&(l.slidesPerView!==r.slidesPerView||p),m=r.loop;p&&n&&t.changeDirection(),(0,i.u)(t.params,l);const v=t.params.enabled,y=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),f&&!v?t.disable():!f&&v&&t.enable(),t.currentBreakpoint=a,t.emit("_beforeBreakpoint",l),n&&(g?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!m&&y?(t.loopCreate(e),t.updateSlides()):m&&!y&&t.loopDestroy()),t.emit("breakpoint",l)},getBreakpoint:function(t,e,n){if(void 0===e&&(e="window"),!t||"container"===e&&!n)return;let i=!1;const s=(0,r.a)(),o="window"===e?s.innerHeight:n.clientHeight,a=Object.keys(t).map((t=>{if("string"==typeof t&&0===t.indexOf("@")){const e=parseFloat(t.substr(1));return{value:o*e,point:t}}return{value:t,point:t}}));a.sort(((t,e)=>parseInt(t.value,10)-parseInt(e.value,10)));for(let t=0;t<a.length;t+=1){const{point:r,value:o}=a[t];"window"===e?s.matchMedia(`(min-width: ${o}px)`).matches&&(i=r):o<=n.clientWidth&&(i=r)}return i||"max"}},checkOverflow:{checkOverflow:function(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const e=t.slides.length-1,n=t.slidesGrid[e]+t.slidesSizesGrid[e]+2*r;t.isLocked=t.size>n}else t.isLocked=1===t.snapGrid.length;!0===n.allowSlideNext&&(t.allowSlideNext=!t.isLocked),!0===n.allowSlidePrev&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}},classes:{addClasses:function(){const t=this,{classNames:e,params:n,rtl:r,el:i,device:s}=t,o=function(t,e){const n=[];return t.forEach((t=>{"object"==typeof t?Object.keys(t).forEach((r=>{t[r]&&n.push(e+r)})):"string"==typeof t&&n.push(e+t)})),n}(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&"column"===n.grid.fill},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),i.classList.add(...e),t.emitContainerClasses()},removeClasses:function(){const{el:t,classNames:e}=this;t&&"string"!=typeof t&&(t.classList.remove(...e),this.emitContainerClasses())}}},N={};class L{constructor(){let t,e;for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];1===s.length&&s[0].constructor&&"Object"===Object.prototype.toString.call(s[0]).slice(8,-1)?e=s[0]:[t,e]=s,e||(e={}),e=(0,i.u)({},e),t&&!e.el&&(e.el=t);const u=(0,r.g)();if(e.el&&"string"==typeof e.el&&u.querySelectorAll(e.el).length>1){const t=[];return u.querySelectorAll(e.el).forEach((n=>{const r=(0,i.u)({},e,{el:n});t.push(new L(r))})),t}const h=this;h.__swiper__=!0,h.support=l(),h.device=c({userAgent:e.userAgent}),h.browser=(a||(a=function(){const t=(0,r.a)(),e=c();let n=!1;function i(){const e=t.navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}if(i()){const e=String(t.navigator.userAgent);if(e.includes("Version/")){const[t,r]=e.split("Version/")[1].split(" ")[0].split(".").map((t=>Number(t)));n=t<16||16===t&&r<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),o=i();return{isSafari:n||o,needPerspectiveFix:n,need3dFix:o||s&&e.ios,isWebView:s}}()),a),h.eventsListeners={},h.eventsAnyListeners=[],h.modules=[...h.__modules__],e.modules&&Array.isArray(e.modules)&&h.modules.push(...e.modules);const d={};h.modules.forEach((t=>{t({params:e,swiper:h,extendParams:P(e,d),on:h.on.bind(h),once:h.once.bind(h),off:h.off.bind(h),emit:h.emit.bind(h)})}));const f=(0,i.u)({},D,d);return h.params=(0,i.u)({},f,N,e),h.originalParams=(0,i.u)({},h.params),h.passedParams=(0,i.u)({},e),h.params&&h.params.on&&Object.keys(h.params.on).forEach((t=>{h.on(t,h.params.on[t])})),h.params&&h.params.onAny&&h.onAny(h.params.onAny),Object.assign(h,{enabled:h.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===h.params.direction,isVertical:()=>"vertical"===h.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:h.params.allowSlideNext,allowSlidePrev:h.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:h.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:h.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),h.emit("_swiper"),h.params.init&&h.init(),h}getDirectionLabel(t){return this.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}getSlideIndex(t){const{slidesEl:e,params:n}=this,r=(0,i.e)(e,`.${n.slideClass}, swiper-slide`),s=(0,i.h)(r[0]);return(0,i.h)(t)-s}getSlideIndexByData(t){return this.getSlideIndex(this.slides.filter((e=>1*e.getAttribute("data-swiper-slide-index")===t))[0])}recalcSlides(){const{slidesEl:t,params:e}=this;this.slides=(0,i.e)(t,`.${e.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,e){const n=this;t=Math.min(Math.max(t,0),1);const r=n.minTranslate(),i=(n.maxTranslate()-r)*t+r;n.translateTo(i,void 0===e?0:e),n.updateActiveIndex(),n.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const e=t.el.className.split(" ").filter((e=>0===e.indexOf("swiper")||0===e.indexOf(t.params.containerModifierClass)));t.emit("_containerClasses",e.join(" "))}getSlideClasses(t){const e=this;return e.destroyed?"":t.className.split(" ").filter((t=>0===t.indexOf("swiper-slide")||0===t.indexOf(e.params.slideClass))).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const e=[];t.slides.forEach((n=>{const r=t.getSlideClasses(n);e.push({slideEl:n,classNames:r}),t.emit("_slideClass",n,r)})),t.emit("_slideClasses",e)}slidesPerViewDynamic(t,e){void 0===t&&(t="current"),void 0===e&&(e=!1);const{params:n,slides:r,slidesGrid:i,slidesSizesGrid:s,size:o,activeIndex:a}=this;let l=1;if("number"==typeof n.slidesPerView)return n.slidesPerView;if(n.centeredSlides){let t,e=r[a]?Math.ceil(r[a].swiperSlideSize):0;for(let n=a+1;n<r.length;n+=1)r[n]&&!t&&(e+=Math.ceil(r[n].swiperSlideSize),l+=1,e>o&&(t=!0));for(let n=a-1;n>=0;n-=1)r[n]&&!t&&(e+=r[n].swiperSlideSize,l+=1,e>o&&(t=!0))}else if("current"===t)for(let t=a+1;t<r.length;t+=1)(e?i[t]+s[t]-i[a]<o:i[t]-i[a]<o)&&(l+=1);else for(let t=a-1;t>=0;t-=1)i[a]-i[t]<o&&(l+=1);return l}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:e,params:n}=t;function r(){const e=t.rtlTranslate?-1*t.translate:t.translate,n=Math.min(Math.max(e,t.maxTranslate()),t.minTranslate());t.setTranslate(n),t.updateActiveIndex(),t.updateSlidesClasses()}let i;if(n.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach((e=>{e.complete&&f(t,e)})),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),n.freeMode&&n.freeMode.enabled&&!n.cssMode)r(),n.autoHeight&&t.updateAutoHeight();else{if(("auto"===n.slidesPerView||n.slidesPerView>1)&&t.isEnd&&!n.centeredSlides){const e=t.virtual&&n.virtual.enabled?t.virtual.slides:t.slides;i=t.slideTo(e.length-1,0,!1,!0)}else i=t.slideTo(t.activeIndex,0,!1,!0);i||r()}n.watchOverflow&&e!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,e){void 0===e&&(e=!0);const n=this,r=n.params.direction;return t||(t="horizontal"===r?"vertical":"horizontal"),t===r||"horizontal"!==t&&"vertical"!==t||(n.el.classList.remove(`${n.params.containerModifierClass}${r}`),n.el.classList.add(`${n.params.containerModifierClass}${t}`),n.emitContainerClasses(),n.params.direction=t,n.slides.forEach((e=>{"vertical"===t?e.style.width="":e.style.height=""})),n.emit("changeDirection"),e&&n.update()),n}changeLanguageDirection(t){const e=this;e.rtl&&"rtl"===t||!e.rtl&&"ltr"===t||(e.rtl="rtl"===t,e.rtlTranslate="horizontal"===e.params.direction&&e.rtl,e.rtl?(e.el.classList.add(`${e.params.containerModifierClass}rtl`),e.el.dir="rtl"):(e.el.classList.remove(`${e.params.containerModifierClass}rtl`),e.el.dir="ltr"),e.update())}mount(t){const e=this;if(e.mounted)return!0;let n=t||e.params.el;if("string"==typeof n&&(n=document.querySelector(n)),!n)return!1;n.swiper=e,n.parentNode&&n.parentNode.host&&n.parentNode.host.nodeName===e.params.swiperElementNodeName.toUpperCase()&&(e.isElement=!0);const r=()=>`.${(e.params.wrapperClass||"").trim().split(" ").join(".")}`;let s=n&&n.shadowRoot&&n.shadowRoot.querySelector?n.shadowRoot.querySelector(r()):(0,i.e)(n,r())[0];return!s&&e.params.createElements&&(s=(0,i.c)("div",e.params.wrapperClass),n.append(s),(0,i.e)(n,`.${e.params.slideClass}`).forEach((t=>{s.append(t)}))),Object.assign(e,{el:n,wrapperEl:s,slidesEl:e.isElement&&!n.parentNode.host.slideSlots?n.parentNode.host:s,hostEl:e.isElement?n.parentNode.host:n,mounted:!0,rtl:"rtl"===n.dir.toLowerCase()||"rtl"===(0,i.o)(n,"direction"),rtlTranslate:"horizontal"===e.params.direction&&("rtl"===n.dir.toLowerCase()||"rtl"===(0,i.o)(n,"direction")),wrongRTL:"-webkit-box"===(0,i.o)(s,"display")}),!0}init(t){const e=this;if(e.initialized)return e;if(!1===e.mount(t))return e;e.emit("beforeInit"),e.params.breakpoints&&e.setBreakpoint(),e.addClasses(),e.updateSize(),e.updateSlides(),e.params.watchOverflow&&e.checkOverflow(),e.params.grabCursor&&e.enabled&&e.setGrabCursor(),e.params.loop&&e.virtual&&e.params.virtual.enabled?e.slideTo(e.params.initialSlide+e.virtual.slidesBefore,0,e.params.runCallbacksOnInit,!1,!0):e.slideTo(e.params.initialSlide,0,e.params.runCallbacksOnInit,!1,!0),e.params.loop&&e.loopCreate(),e.attachEvents();const n=[...e.el.querySelectorAll('[loading="lazy"]')];return e.isElement&&n.push(...e.hostEl.querySelectorAll('[loading="lazy"]')),n.forEach((t=>{t.complete?f(e,t):t.addEventListener("load",(t=>{f(e,t.target)}))})),g(e),e.initialized=!0,g(e),e.emit("init"),e.emit("afterInit"),e}destroy(t,e){void 0===t&&(t=!0),void 0===e&&(e=!0);const n=this,{params:r,el:s,wrapperEl:o,slides:a}=n;return void 0===n.params||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),r.loop&&n.loopDestroy(),e&&(n.removeClasses(),s&&"string"!=typeof s&&s.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach((t=>{t.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),t.removeAttribute("style"),t.removeAttribute("data-swiper-slide-index")}))),n.emit("destroy"),Object.keys(n.eventsListeners).forEach((t=>{n.off(t)})),!1!==t&&(n.el&&"string"!=typeof n.el&&(n.el.swiper=null),(0,i.v)(n)),n.destroyed=!0),null}static extendDefaults(t){(0,i.u)(N,t)}static get extendedDefaults(){return N}static get defaults(){return D}static installModule(t){L.prototype.__modules__||(L.prototype.__modules__=[]);const e=L.prototype.__modules__;"function"==typeof t&&e.indexOf(t)<0&&e.push(t)}static use(t){return Array.isArray(t)?(t.forEach((t=>L.installModule(t))),L):(L.installModule(t),L)}}Object.keys(O).forEach((t=>{Object.keys(O[t]).forEach((e=>{L.prototype[e]=O[t][e]}))})),L.use([function(t){let{swiper:e,on:n,emit:i}=t;const s=(0,r.a)();let o=null,a=null;const l=()=>{e&&!e.destroyed&&e.initialized&&(i("beforeResize"),i("resize"))},c=()=>{e&&!e.destroyed&&e.initialized&&i("orientationchange")};n("init",(()=>{e.params.resizeObserver&&void 0!==s.ResizeObserver?e&&!e.destroyed&&e.initialized&&(o=new ResizeObserver((t=>{a=s.requestAnimationFrame((()=>{const{width:n,height:r}=e;let i=n,s=r;t.forEach((t=>{let{contentBoxSize:n,contentRect:r,target:o}=t;o&&o!==e.el||(i=r?r.width:(n[0]||n).inlineSize,s=r?r.height:(n[0]||n).blockSize)})),i===n&&s===r||l()}))})),o.observe(e.el)):(s.addEventListener("resize",l),s.addEventListener("orientationchange",c))})),n("destroy",(()=>{a&&s.cancelAnimationFrame(a),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null),s.removeEventListener("resize",l),s.removeEventListener("orientationchange",c)}))},function(t){let{swiper:e,extendParams:n,on:s,emit:o}=t;const a=[],l=(0,r.a)(),c=function(t,n){void 0===n&&(n={});const r=new(l.MutationObserver||l.WebkitMutationObserver)((t=>{if(e.__preventObserver__)return;if(1===t.length)return void o("observerUpdate",t[0]);const n=function(){o("observerUpdate",t[0])};l.requestAnimationFrame?l.requestAnimationFrame(n):l.setTimeout(n,0)}));r.observe(t,{attributes:void 0===n.attributes||n.attributes,childList:void 0===n.childList||n.childList,characterData:void 0===n.characterData||n.characterData}),a.push(r)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),s("init",(()=>{if(e.params.observer){if(e.params.observeParents){const t=(0,i.a)(e.hostEl);for(let e=0;e<t.length;e+=1)c(t[e])}c(e.hostEl,{childList:e.params.observeSlideChildren}),c(e.wrapperEl,{attributes:!1})}})),s("destroy",(()=>{a.forEach((t=>{t.disconnect()})),a.splice(0,a.length)}))}])}},s={};function o(t){var e=s[t];if(void 0!==e)return e.exports;var n=s[t]={exports:{}};return i[t](n,n.exports,o),n.exports}t="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",e="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=t=>{t&&t.d<1&&(t.d=1,t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},o.a=(i,s,o)=>{var a;o&&((a=[]).d=-1);var l,c,u,h=new Set,d=i.exports,f=new Promise(((t,e)=>{u=e,c=t}));f[e]=d,f[t]=t=>(a&&t(a),h.forEach(t),f.catch((t=>{}))),i.exports=f,s((i=>{var s;l=(i=>i.map((i=>{if(null!==i&&"object"==typeof i){if(i[t])return i;if(i.then){var s=[];s.d=0,i.then((t=>{o[e]=t,r(s)}),(t=>{o[n]=t,r(s)}));var o={};return o[t]=t=>t(s),o}}var a={};return a[t]=t=>{},a[e]=i,a})))(i);var o=()=>l.map((t=>{if(t[n])throw t[n];return t[e]})),c=new Promise((e=>{(s=()=>e(o)).r=0;var n=t=>t!==a&&!h.has(t)&&(h.add(t),t&&!t.d&&(s.r++,t.push(s)));l.map((e=>e[t](n)))}));return s.r?c:o()}),(t=>(t?u(f[n]=t):c(d),r(a)))),a&&a.d<0&&(a.d=0)},o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;o.g.importScripts&&(t=o.g.location+"");var e=o.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!t||!/^http(s?):/.test(t));)t=n[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=t})(),o(98)})();